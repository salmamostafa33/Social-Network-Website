if (self.CavalryLogger) { CavalryLogger.start_js(["3h\/2q"]); }

__d("ChatSidebarPymmListContainer.react",["cx","fbt","AsyncRequest","BackgroundImage.react","ChatOpenTabEventLogger","ChatSidebarHeader.react","ChatSidebarSections","EgoActionType","EgoPageServiceConstants","FantaTabActions","HovercardControllerType","LeftRight.react","Link.react","LineClamp.react","Locale","MercuryIDs","PagesMessagingChatTabRef","React","Set","XPagesBrowserController","XPubcontentImpressionLoggingController","XPubcontentInteractionLoggingController","XUICarousel.react","XUICarouselArrow.react","XUICarouselItem.react","XUICarouselAnimator","XUICloseButton.react","URI"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=50,m=175,n=90,o=60,p=0,q=3,r=3;j=babelHelpers.inherits(s,c("React").Component);k=j&&j.prototype;function s(t){__p&&__p();k.constructor.call(this,t);this.$ChatSidebarPymmListContainer6=function(u){__p&&__p();if(u<0)return;var v=this.state.visiblePages[u];if(!v)return;var w=v.id.toString(),x=c("PagesMessagingChatTabRef").PYMM_RHC,y=c("MercuryIDs").getThreadIDFromUserID(w);c("FantaTabActions").openTab(y,[x]);c("ChatOpenTabEventLogger").logUserClickOpen(x,w);var z=this.state.clickedPages.has(v.id);if(z)return;this.$ChatSidebarPymmListContainer2(v.egoLogData,c("EgoPageServiceConstants").MESSAGE,c("EgoActionType").CLICK);this.setState({clickedPages:this.state.clickedPages.add(v.id)})}.bind(this);this.$ChatSidebarPymmListContainer4=function(){this.$ChatSidebarPymmListContainer1(this.$ChatSidebarPymmListContainer12())}.bind(this);this.$ChatSidebarPymmListContainer5=function(){this.$ChatSidebarPymmListContainer1(this.$ChatSidebarPymmListContainer11())}.bind(this);this.state={index:p,seenPages:new(c("Set"))(),clickedPages:new(c("Set"))(),visiblePages:t.pymmList||[]}}s.prototype.shouldComponentUpdate=function(t,u){return u.visiblePages.length!==this.state.visiblePages.length};s.prototype.componentDidMount=function(){this.$ChatSidebarPymmListContainer1(this.state.index)};s.prototype.componentDidUpdate=function(){this.$ChatSidebarPymmListContainer1(this.state.index)};s.prototype.render=function(){if(this.state.visiblePages.length===0)return null;var t=this.state.visiblePages[0].egoLogData,u=c("XPagesBrowserController").getURIBuilder().setString("category","pymm").setString("ref","www_sidebar").getURI(),v=c("React").createElement("div",{role:"textbox",tabIndex:"-2",onClick:this.$ChatSidebarPymmListContainer2.bind(this,t,c("EgoPageServiceConstants").SEE_ALL,c("EgoActionType").CLICK)},c("React").createElement(c("Link.react"),{className:"_2l56",href:u,target:"_self"},i._("SEE ALL")));return c("React").createElement("div",null,c("React").createElement(c("ChatSidebarHeader.react"),{className:"_4kqp",key:c("ChatSidebarSections").PYMM},c("React").createElement(c("LeftRight.react"),null,i._("CONTACT PAGES"),v)),this.$ChatSidebarPymmListContainer3(),c("React").createElement("div",{key:"separation_border",className:"_62gz _4kqp"}))};s.prototype.$ChatSidebarPymmListContainer3=function(){var t=c("Locale").isRTL()?"_1lti _1ltl":"_3tj _1ltj",u=c("Locale").isRTL()?"_1ltk _1ltj":"_1ltk _1ltl",v=c("React").createElement(c("XUICarouselArrow.react"),{key:"pymm_left_arrow"},c("React").createElement("div",{className:t,onClick:this.$ChatSidebarPymmListContainer4,role:"textbox",tabIndex:"-1"})),w=c("React").createElement(c("XUICarouselArrow.react"),{key:"pymm_right_arrow"},c("React").createElement("div",{className:u,onClick:this.$ChatSidebarPymmListContainer5,role:"textbox",tabIndex:"0"}));return c("React").createElement("div",{className:"_4kqp"},c("React").createElement(c("XUICarousel.react"),{className:"_1ltv",ref:"pymm",onItemClick:this.$ChatSidebarPymmListContainer6,initialIndex:p,wrapAround:true,moveStep:r,autoplay:false,resizeViewport:"disabled",initialAutoplay:false,renderArrowsOutsideViewport:true,viewportHeight:o,viewportWidth:m,animationDuration:500,animator:new(c("XUICarouselAnimator"))({type:"horizontal"}),arrows:[v,w]},this.state.visiblePages.map(function(x){return this.$ChatSidebarPymmListContainer7(x)}.bind(this))))};s.prototype.$ChatSidebarPymmListContainer1=function(t){__p&&__p();var u=this.state.seenPages,v=this.$ChatSidebarPymmListContainer8(),w=[];for(var x=t;x<t+q;x++){if(x>=v)break;var y=this.state.visiblePages[x];if(!u.has(y.id)&&y){w.push(y.egoLogData);u.add(y.id)}}if(w.length>0)this.$ChatSidebarPymmListContainer9(w);this.setState({index:t,seenPages:u})};s.prototype.$ChatSidebarPymmListContainer9=function(t){var u=c("XPubcontentImpressionLoggingController").getURIBuilder(),v={q:t.join(",")};new(c("AsyncRequest"))().setMethod("POST").setURI(u.getURI()).setData(v).send()};s.prototype.$ChatSidebarPymmListContainer10=function(t,u){u.stopPropagation();u.nativeEvent.stopImmediatePropagation();this.$ChatSidebarPymmListContainer2(t.egoLogData,c("EgoPageServiceConstants").MESSAGE,c("EgoActionType").XOUT);var v=this.state.visiblePages.filter(function(w){return t.id!==w.id});this.setState({visiblePages:v})};s.prototype.$ChatSidebarPymmListContainer2=function(t,u,v){var w=c("XPubcontentInteractionLoggingController").getURIBuilder(),x={q:t,action:u,action_type:v};new(c("AsyncRequest"))().setMethod("POST").setURI(w.getURI()).setData(x).send()};s.prototype.$ChatSidebarPymmListContainer7=function(t){var u=new(c("URI"))("/ajax/hovercard/hovercard.php").addQueryData({id:t.id,type:c("HovercardControllerType").EGO,actioncontext:t.egoLogData}).toString(),v=c("React").createElement(c("XUICarouselItem.react"),{key:t.id},c("React").createElement("div",{className:"_1jz_"},c("React").createElement(c("XUICloseButton.react"),{size:"small",className:"_1j-8",onClick:this.$ChatSidebarPymmListContainer10.bind(this,t)}),c("React").createElement("div",{className:"_1ltw",role:"link",tabIndex:"-1"},c("React").createElement(c("Link.react"),{"data-hovercard":u},c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"cover",className:"_1ltx",height:t.imgSize||l,width:t.imgSize||l,src:t.imgSrc})))));return v};s.prototype.$ChatSidebarPymmListContainer8=function(){return this.state.visiblePages.length};s.prototype.$ChatSidebarPymmListContainer11=function(){var t=this.state.index,u=this.$ChatSidebarPymmListContainer8(),v=u-1,w=t===v?0:Math.min(v,t+r);return w};s.prototype.$ChatSidebarPymmListContainer12=function(){var t=this.state.index,u=this.$ChatSidebarPymmListContainer8(),v=t===0?u-1:Math.max(t-r,0);return v};f.exports=s}),null);
__d("XSalesPromoWWWDetailsDialogAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/sales_promo/details/",{sales_promo:{type:"Int",required:true},referrer:{type:"String"}})}),null);