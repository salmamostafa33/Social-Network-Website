if (self.CavalryLogger) { CavalryLogger.start_js(["inz8k"]); }

__d("BasicTypeaheadLoggerJSConstants",[],(function a(b,c,d,e,f,g){f.exports={EventNames:{ADS_TARGETING:"ads_targeting",MENTIONS:"mentions",TINDER_MENTIONS:"tinder_mentions",REACT_COMPOSER_MENTIONS:"react_composer_mentions",PHOTO_TAGGER:"photo-tagger",PROFILE:"profile",TIMELINE_COLLECTION:"timeline_collection",OGCOMPOSER_TAGGER:"ogcomposer-tagger",PLACES_TYPEAHEAD:"places_typeahead",CHAT_MENTIONS_ENTITIES:"chat_mentions_entities",REACT_COMPOSER_OG_TAGGER:"react_composer_og_tagger",REACT_SHARE_DIALOG_OG_TAGGER:"react_share_dialog_og_tagger",REACT_COMPOSER_LOCATION_TAGGER:"react_composer_location_tagger",REACT_SHARE_DIALOG_LOCATION_TAGGER:"react_share_dialog_location_tagger",GROUP_SEARCH_TA:"group_search_ta"},Fields:{EVENT:"event",STRATEGY_NAME:"strategy_name",HAS_INTENT_MENTION:"has_intent_mention",USER_ID:"userid",SELECTED_POSITION:"selected_position",SELECTED_ID:"selected_id",QUERIES_HISTORY:"queries_history",NUM_QUERIES:"num_queries",CANDIDATE_RESULTS:"candidate_results",CANDIDATE_RESULTS_ADS:"candidate_results_ads",QUERY:"query",LAST_NOT_BACKSPACED_QUERY:"last_not_backspaced_query",REQUEST_ID:"request_id",REQUEST_IDS_HISTORY:"request_ids_history",SESSION_ID:"session_id",SESSION_TIME:"session_time",NORMALIZED_BACKEND_QUERY:"normalized_backend_query",SELECTED_TYPE:"selected_type",SELECTED_QUERY:"selected_query",SELECTED_ORIGINAL_ID:"selected_original_id",SELECTED_SCORE:"selected_score",PLACE_ID:"place_id",CLIENT_TIME:"client_time",TIMEZONE:"timezone",TIMEZONE_ID:"timezone_id",ACTION_TYPE_ID:"action_type_id",SELECTED_ID_INT:"selected_id_int",CLICK:"click",FILTERED_CANDIDATE_RESULTS:"filtered_candidate_results",FBTYPE:"fbtype",PAGE:"page",PAGE_VISIBILITY_DUMMY:"page_visibility_dummy",SEARCH_VERSION:"search_version",GK_STATUS:"gk_status",QE_GROUP:"qe_group",EVENT_SPECIFIC_DATA:"event_specific_data",REF:"ref",SOURCE:"source",GEO_PROFILE_COUNTRY:"geo_profile_country",CURRENT_GEO_PROFILE:"current_geo_profile",CURRENT_CITY_GLOBAL_ID:"current_city_global_id",CURRENT_REGION_ID:"current_region_id",CURRENT_COUNTRY:"current_country",COLLECTION_DATA:"collection_data",FILTERED_COUNT:"filtered_count",GOOD_CLICK:"good_click",GOOD_CLICK_INT:"good_click_int",FALLBACK_CLICK:"fallback_click",ENTITY_CLICK:"entity_click",ENTITY_CLICK_INT:"entity_click_int",HAD_RESULTS:"had_results",NUM_RESULTS:"num_results",PAGE_CATEGORY:"page_category",PAGE_VISIBILITY:"page_visibility",PAGE_IS_AUTHENTIC:"page_is_authentic",PRECISION:"precision",EVENT_CONTEXT:"event_context",PAGE_SOURCE:"page_source",ENTITY_TYPE:"entity_type",EVENT_VALID:"event_valid",QUERY_LENGTH:"query_length",FIRST_RESULT:"first_result",HAD_DUPLICATES:"had_duplicates",COMPLETE_APP_COUNT:"complete_app_count",APP_COLLECTION_SIZE:"app_collection_size",COLLECTION_SIZE:"collection_size",NON_EMPTY_FRIENDS_COUNT:"non_empty_friends_count",CAROUSEL_COLLECTION_SIZE:"carousel_collection_size",QUALITY_ACCURACY:"quality_accuracy",SELECTED_WITH_MOUSE:"selected_with_mouse",AVG_QUERY_LATENCY:"avg_query_latency",IS_EMPLOYEE:"is_employee",PROFILE_SECTION:"profile_section",TYPEAHEAD_SOURCE:"typeahead_source",MINUTIAE_COMPOSER_VERSION:"minutiae_composer_version",LAST_QUERY_LATENCY:"last_query_latency",AD_ACCOUNT_ID:"ad_account_id",SUGGESTION_MODE:"suggestion_mode",NEXT_SUGGESTION_MODE:"next_suggestion_mode"},MinutiaeComposerVersions:{LEGACY:"legacy",LEGACY_TOKENIZED:"legacy_tokenized",REACT:"react"}}}),null);
__d("ComposerPublisherSupportedParameters",[],(function a(b,c,d,e,f,g){f.exports=["action_type_id","animated_image","attachment","backdated_date","composer_attachment_sell_condition","composer_attachment_sell_currency","composer_attachment_sell_location_page_id","composer_attachment_sell_price","composer_attachment_sell_pickup_note","composer_attachment_sell_title","composer_custom_accessibility_caption","composer_entry_time","composer_has_crop","composer_has_filter","composer_session_duration","composer_session_id","composer_source_surface","composer_unpublished_photo","composer_sticker","composer_text_overlay","composer_type","composertags_city","composertags_place","composertags_place_name","composertags_sponsors","composertags_with","direct_share_status","draft","extensible_sprouts_ranker_request","fun_fact_prompt_id","hide_object_attachment","icon_id","is_ad_post","is_forced_reshare_of_post","is_markdown","is_placelist_post","is_q_and_a","is_react","is_welcome_to_group_post","multilingual_specified_lang","multilingual_status_langs","multilingual_statuses","num_keystrokes","num_pastes","object_id","object_str","og_suggestion_mechanism","place_attachment_setting","place_list_entry_point","placelist_within_page","privacyx","qn","ref","sponsor_relationship","scheduled","scheduled_publish_time","target_type","text_format_preset_id","xc_link_url","xc_sticker_id","xc_share_images","xc_share_params","xc_share_summary","xc_share_target_type","xc_share_title","xhpc_aggregated_story_composer","xhpc_composerid","xhpc_context","xhpc_finch","xhpc_fundraiser_page","xhpc_message","xhpc_message_text","xhpc_publish_type","xhpc_targetid","xhpc_timeline","xy_tags"]}),null);
__d("ReactComposerTypeaheadSearchSourceConfig",[],(function a(b,c,d,e,f,g){f.exports={ACTIVITY:{action:{auxiliaryFields:{default_icon:"default_icon",icon:"icon",original_id:"original_id",prompt:"prompt"}},object:{auxiliaryFields:{icon:"icon",icon_src:"icon_src",original_id:"original_id",verified:"is_verified"}}},LOCATION:{include_likes:false,include_subtext:true,include_address:1,exact_match:false,map_height:null,map_width:null,use_unicorn:true,allow_places:true,allow_cities:true,render_map:false,limit:15,use_searchable_entries:true}}}),null);
__d("getCampfireKeyBinding",["CampfireCommands","KeyBindingUtil","getDefaultKeyBinding"],(function a(b,c,d,e,f,g){"use strict";var h=c("KeyBindingUtil").hasCommandModifier;function i(j){if(j.keyCode===75&&h(j))return c("CampfireCommands").TOGGLE_LINK;if(j.keyCode===83&&h(j))return c("CampfireCommands").SAVE_DRAFT;return c("getDefaultKeyBinding")(j)}f.exports=i}),null);
__d("MentionsUtils",["createEditorStateWithEntities","getMentionsInputDecorator"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=/@\[([0-9;]+):((?:[^\\\]]|\\.)*)\]/g,i={parseMessageMentions:function j(k){__p&&__p();var l=k,m=Array.from(l),n=m.map(function(r){return r.length>1?"_":r}).join(""),o=[],p=void 0;while(p=h.exec(n)){var q={uid:p[1],text:p[2],offset:p.index,length:p[2].length,weakreference:false,entity:{uid:p[1],weakreference:false}};o.push(q);n=n.substr(0,q.offset)+q.text+n.substr(q.offset+p[0].length);l=m.slice(0,q.offset).join("")+q.text+m.slice(q.offset+p[0].length).join("");m=Array.from(l);h.lastIndex=q.offset+q.length}return{ranges:o,text:l}},createMessageEditorStateWithText:function j(k){var l=i.parseMessageMentions(k),m=l.ranges,n=l.text;return c("createEditorStateWithEntities")({text:n,ranges:m,decorator:c("getMentionsInputDecorator")(),addEntityToContentStateFn:function o(p,q){return q.createEntity("MENTION","IMMUTABLE",{id:p.uid,isWeak:p.weakreference})}})}};f.exports=i}),null);
__d("keyCommandBackspaceEmoji",["EditorState","EmojiRenderer","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(i){__p&&__p();var j=c("removeTextWithStrategy")(i,function(l){__p&&__p();var k=l.getSelection(),m=k.getAnchorOffset(),n=l.getCurrentContent().getBlockForKey(k.getAnchorKey()).getText(),o=n[m-1],p=null;if(o){var q=c("EmojiRenderer").parse(n);for(var r=0;r<q.length;r++)if(q[r].offset<m&&q[r].offset+q[r].length>=m){p=q[r].length;break}if(!p)p=c("UnicodeUtils").getUTF16Length(o,0)}return c("moveSelectionBackward")(l,p||1)},"backward");if(j===i.getCurrentContent())return null;var k=i.getSelection();return c("EditorState").push(i,j.set("selectionBefore",k),k.isCollapsed()?"backspace-character":"remove-range")};f.exports=h}),null);
__d("keyCommandDeleteEmoji",["EditorState","EmojiRenderer","UnicodeUtils","moveSelectionForward","removeTextWithStrategy"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(i){__p&&__p();var j=c("removeTextWithStrategy")(i,function(l){__p&&__p();var k=l.getSelection(),m=k.getAnchorOffset(),n=l.getCurrentContent().getBlockForKey(k.getAnchorKey()).getText(),o=n[m],p=null;if(o){var q=c("EmojiRenderer").parse(n);for(var r=0;r<q.length;r++)if(q[r].offset<=m&&q[r].offset+q[r].length>m){p=q[r].length;break}if(!p)p=c("UnicodeUtils").getUTF16Length(o,0)}return c("moveSelectionForward")(l,p||1)},"forward");if(j===i.getCurrentContent())return null;var k=i.getSelection();return c("EditorState").push(i,j.set("selectionBefore",k),k.isCollapsed()?"delete-character":"remove-range")};f.exports=h}),null);
__d("addEmojiInput",["EditorState","EmojiInputDecorator","EmojiSpan.react","React","keyCommandBackspaceEmoji","keyCommandDeleteEmoji"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function(i){__p&&__p();return function(){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$_class1=function(r,s){__p&&__p();var t=null;switch(r){case"backspace":t=c("keyCommandBackspaceEmoji")(s);break;case"delete":t=c("keyCommandDeleteEmoji")(s);break}if(t){this.props.onChange(t);return"handled"}return"not-handled"}.bind(this),n}l.prototype.blur=function(){"use strict";var m=this.refs.component;m&&typeof m.blur==="function"&&m.blur()};l.prototype.click=function(){"use strict";var m=this.refs.component;m&&typeof m.click==="function"&&m.click()};l.prototype.focus=function(){"use strict";var m=this.refs.component;m&&typeof m.focus==="function"&&m.focus()};l.prototype.render=function(){"use strict";var m=this.props.editorState,n=m.getDecorator();if(!(n instanceof c("EmojiInputDecorator")))m=c("EditorState").set(this.props.editorState,{decorator:new(c("EmojiInputDecorator"))(c("EmojiSpan.react"),n,{size:16})});return c("React").createElement(i,babelHelpers["extends"]({},this.props,{editorState:m,handleKeyCommand:this.$_class1,ref:"component"}))};return l}()}.bind(this);f.exports=h}),null);
__d("addEmojiToEditorState",["DraftModifier","EditorState","EmojiFormat","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=arguments.length<=2||arguments[2]===undefined?c("emptyFunction"):arguments[2];if(typeof i!=="string")i=c("EmojiFormat").codeArrayToUnicode(i);var l=c("DraftModifier").replaceText(j.getCurrentContent(),j.getSelection(),i),m=c("EditorState").push(j,l,"insert-characters");if(m!==j)k(m);return m}f.exports=h}),null);
__d("ComposerPublishType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED_INSERT:1,DIALOG:2,REPLACE_COMPOSER:3,INSERT_IN_DIALOG:4,PAGE_CONTENT_TAB:5})}),null);
__d("ComposerStoryCreateMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1931212663571278"};j.getQueryID=function(){"use strict";return"576284395828557"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("OGComposerSuggestionMechanisms",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MOVIE_THEATER_CHECKIN:"movie_theater_checkin",AIRPORT_CHECKIN:"airport_checkin",COOL_PLACE_CHECKIN:"cool_place_checkin",TRAIN_CHECKIN:"train_checkin",CURRENT_SONG:"current_song",RECENT_ACTION:"recent_action",AUDIO_FINGERPRINT:"audio_fingerprint",WHITELISTED_SUGGESTION:"whitelisted_suggestion",UNIT_TEST:"unit_test",FEED_SPECIFIC_SUGGESTION:"feed_specific_suggestion",DETECTED_FROM_TEXT_INPUT:"detected_from_text_input",EVENT_VENUE_CHECKIN:"event_venue_checkin",SUPPORTING_CLASSIFIER:"supportingclassifier",LISTENING_LINK_CLASSIFIER:"listeninglinkclassifier",LINK_TO_OG_CLASSIFIER:"link_to_og_classifier",GK_BASED_SUGGESTION_CLASSIFIER:"gk_based_suggestion_classifier",EVENT_TO_ATTEND:"event_to_attend",GK_BASED_PRODUCTION_PROMPT_CLASSIFIER:"gk_based_production_prompt_classifier",MOVIE_THEATER_CHECKIN_SUGGESTIFIER:"movie_theater_checkin_suggestifier",AIRPORT_CHECKIN_SUGGESTIFIER:"airport_checkin_suggestifier",COOL_PLACE_CHECKIN_SUGGESTIFIER:"cool_place_checkin_suggestifier",TRAIN_CHECKIN_SUGGESTIFIER:"train_checkin_suggestifier",EVENT_VENUE_CHECKIN_SUGGESTIFIER:"event_venue_checkin_suggestifier",EVENT_TO_ATTEND_SUGGESTIFIER:"event_to_attend_suggestifier",SPA_CHECKIN:"spa_checkin",SPA_CHECKIN_SUGGESTIFIER:"spa_checkin_suggestifier",MEDICAL_CHECKIN:"medical_checkin",MEDICAL_CHECKIN_SUGGESTIFIER:"medical_checkin_suggestifier",TRANSPORTATION_CHECKIN:"transportation_checkin",TRANSPORTATION_CHECKIN_SUGGESTIFIER:"transportation_checkin_suggestifier",SWEETS_SHOP_CHECKIN:"sweets_shop_checkin",SWEETS_SHOP_CHECKIN_SUGGESTIFIER:"sweets_shop_checkin_suggestifier",FAST_FOOD_CHECKIN:"fast_food_checkin",FAST_FOOD_CHECKIN_SUGGESTIFIER:"fast_food_checkin_suggestifier",SPECIFIC_CUISINE_CHECKIN:"specific_cuisine_checkin",SPECIFIC_CUISINE_SUGGESTIFIER:"specific_cuisine_checkin_suggestifier",TOPIC_BAR_CHECKIN:"topic_bar_checkin",TOPIC_BAR_CHECKIN_SUGGESTIFIER:"topic_bar_checkin_suggestifier",RESTAURANT_CHECKIN:"restaurant_checkin",RESTAURANT_CHECKIN_SUGGESTIFIER:"restaurant_checkin_suggestifier",COFFEE_SHOP_CHECKIN:"coffee_shop_checkin",COFFEE_SHOP_SUGGESTIFIER:"coffee_shop_checkin_suggestifier",MINUTIAE_TO_PLACE_MOVIE_THEATER_CHECKIN:"minutiae_to_place_movie_theater_checkin",MINUTIAE_TO_PLACE_TRAVELING_CHECKIN:"minutiae_to_place_traveling_checkin",MINUTIAE_TO_PLACE_EVENT_TO_ATTEND:"minutiae_to_place_event_to_attend",MINUTIAE_TO_PLACE_CELEBRATING:"minutiae_to_place_celebrating",MINUTIAE_TO_PLACE_FEELING_HUNGRY:"minutiae_to_place_feeling_hungry",MINUTIAE_TO_PLACE_GAME_STADIUM_CHECKIN:"minutiae_to_place_game_stadium_checkin",MINUTIAE_TO_PLACE_CONCERT_VENUE_CHECKIN:"minutiae_to_place_concert_venue_checkin",MINUTIAE_TO_PLACE_COOL_PLACE_CHECKIN:"minutiae_to_place_cool_place_checkin",MINUTIAE_TO_PLACE_FEELING_RELAXED:"minutiae_to_place_feeling_relaxed",MINUTIAE_TO_PLACE_CELEBRATING_HOLIDAY:"minutiae_to_place_celebrating_holiday",MINUTIAE_TO_PLACE_FEELING:"minutiae_to_place_feeling",MINUTIAE_TO_PLACE_FEELING_TO_HOTEL_CHECKIN:"minutiae_to_place_feeling_hotel_checking",MINUTIAE_TO_PLACE_CELEBRATING_EXPERIMENT:"minutiae_to_place_celebrating_experiment"})}),null);
__d("PlaceAttachmentSetting",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HIDE_ATTACHMENT:1,SHOW_ATTACHMENT:2})}),null);
__d("PlaceRecommendationEntrypoint",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHEVRON:"chevron",COMMENT:"comment",COMPARISON_CARD:"comparison_card",INTERACTIVE_STORY_CARD:"interactive_story_card",BOOKMARK:"bookmark",GROUP_COMPOSER:"group_composer",GROUP_TAB_COMPOSER:"group_tab_composer",SPROUT:"sprout",POST_UPSELL:"post_upsell",LEARN:"learn",PAST_REX:"past_rex",PLACE_PICKER:"place_picker",REX_BUTTON:"rex_button",UPSELL_CTA:"upsell_CTA",CITY_GUIDES:"city_guides",GROUP_COMPOSER_ACTION_BUTTON:"group_composer_action_button",FOLLOW_UP_UNIT_SHARE_NOW:"follow_up_unit_share_now",FOLLOW_UP_UNIT_EDIT_POST:"follow_up_unit_edit_post",FEED_UPSELL:"feed_upsell",FEED_IMPLICIT_UPSELL:"feed_implicit_upsell",FULL_MAP:"full_map",FULL_MAP_FEED_ATTACHMENT:"full_map_feed_attachment",FULL_MAP_PERMALINK:"full_map_permalink",FULL_MAP_ANNOTATION:"full_map_annotation",FULL_MAP_HSCROLL:"full_map_hscroll",FULL_MAP_MAPVIEW:"full_map_mapview",FULL_MAP_LISTVIEW:"full_map_listview",IMPLICIT_MAP:"implicit_map",LOOKING_FOR_MINUTIAE:"looking_for_minutiae",NOTIFICATION:"notification",NUX:"nux",PLACE_SEARCH:"place_search",REJECT:"reject",SLOT:"slot",STORY:"story",UNSOLICITED:"unsolicited",XOUT:"xout"})}),null);
__d("ReactComposerAsyncRequest",["AsyncRequest","AsyncResponse","ReactComposerActions","ReactComposerPostUtilsCore"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AsyncRequest"));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this,l);this.$ReactComposerAsyncRequest1=k;i.setHandler.call(this,this.$ReactComposerAsyncRequest4.bind(this));i.setErrorHandler.call(this,this.$ReactComposerAsyncRequest5.bind(this));i.setFinallyHandler.call(this,this.$ReactComposerAsyncRequest6.bind(this))}j.prototype.setHandler=function(k){"use strict";this.$ReactComposerAsyncRequest2=k;return this};j.prototype.setErrorHandler=function(k){"use strict";this.$ReactComposerAsyncRequest3=k;return this};j.prototype.$ReactComposerAsyncRequest4=function(k){"use strict";__p&&__p();var l=this.$ReactComposerAsyncRequest7(k);if(l){this.$ReactComposerAsyncRequest8(k);return}setTimeout(function(){var m=k.payload&&k.payload.isPostPending;if(!m)c("ReactComposerPostUtilsCore").handlePostSucceeded(this.$ReactComposerAsyncRequest1);this.$ReactComposerAsyncRequest2&&this.$ReactComposerAsyncRequest2(k)}.bind(this),0)};j.prototype.$ReactComposerAsyncRequest5=function(k){"use strict";var l=this.$ReactComposerAsyncRequest7(k);if(l){this.$ReactComposerAsyncRequest8(k);return}this.$ReactComposerAsyncRequest9(k)};j.prototype.$ReactComposerAsyncRequest7=function(k){"use strict";return k.payload&&k.payload.errors&&k.payload.errors[0]};j.prototype.$ReactComposerAsyncRequest8=function(k){"use strict";var l=this.$ReactComposerAsyncRequest7(k),m=new(c("AsyncResponse"))(k.getRequest(),k);m.errorSummary=l?l.summary:null;m.errorDescription=l?l.description:null;m.silentError=l&&l.is_silent;m.transientError=l&&l.is_transient;this.$ReactComposerAsyncRequest9(m)};j.prototype.$ReactComposerAsyncRequest9=function(k){"use strict";setTimeout(function(){c("ReactComposerActions").postError(this.$ReactComposerAsyncRequest1,k);this.$ReactComposerAsyncRequest3&&this.$ReactComposerAsyncRequest3(k)}.bind(this),0)};j.prototype.$ReactComposerAsyncRequest6=function(k){"use strict";setTimeout(function(){return c("ReactComposerActions").postFinally(this.$ReactComposerAsyncRequest1,k)}.bind(this),0)};f.exports=j}),null);
__d("ComposerPublisher",["BanzaiODS","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","ReactComposerPhotoStore","CurrentUser","PlaceRecommendationEntrypoint","ProductCondition","ReactComposerAsyncRequest","ComposerStoryCreateMutationWebGraphQLMutation","ComposerPublisherSupportedParameters","ComposerPublishType","gkx","PlaceAttachmentSetting","ReactComposerWebUnusedParameters","WebGraphQLLegacyHelper","MentionsUtils","XWebGraphQLMutationController","isEmpty","OGComposerSuggestionMechanisms","uuid"],(function a(b,c,d,e,f,g){__p&&__p();var h={publish:function i(j,k){var l=c("WebGraphQLLegacyHelper").getURI({controller:c("XWebGraphQLMutationController"),docID:c("ComposerStoryCreateMutationWebGraphQLMutation").__getDocID()});new(c("ReactComposerAsyncRequest"))(j.composerID,l).setHandler(j.onPostSuccess).setErrorHandler(j.onPostFailure).setData({variables:JSON.stringify({client_mutation_id:c("uuid")(),actor_id:j.actorID,input:this.translateData(j.actorID,j.composerID,k)})}).send();c("BanzaiODS").bumpEntityKey("webgraphml_publish","hit")},translateData:function i(j,k,l){__p&&__p();var m={};m.actor_id=j;m.client_mutation_id=c("uuid")();m.source="WWW";var n={};if(l.xhpc_targetid&&this._getIsDirectedPost(j,l.xhpc_targetid))n.to_id=l.xhpc_targetid;else n.web_privacyx=l.privacyx;m.audience=n;if(l.xhpc_message)m.message=this._getTranslatedTextWithEnitiesFields(l.xhpc_message);if(l.xc_sticker_id)m.referenced_sticker_id=l.xc_sticker_id;if(l.is_welcome_to_group_post)m.is_welcome_to_group_post=l.is_welcome_to_group_post;if(l.composer_source_surface)m.composer_source_surface=l.composer_source_surface;if(l.composer_entry_time)m.composer_entry_time=l.composer_entry_time;var o={};if(l.composer_session_duration)o.composition_duration=l.composer_session_duration;if(l.num_keystrokes)o.number_of_keystrokes=l.num_keystrokes;if(l.num_pastes)o.number_of_copy_pastes=l.num_pastes;if("composer_session_duration"in l||"num_keystrokes"in l||"num_pastes"in l)m.composer_session_events_log=o;if(l.composer_type)m.composer_type=l.composer_type;if(l.is_q_and_a)m.is_q_and_a=l.is_q_and_a;if(l.is_markdown)m.formatting="MARKDOWN";var p={};p.composer_session_id=l.composer_session_id||c("uuid")();if(l.ref)p.ref=l.ref;m.logging=p;if(l.text_format_preset_id)m.text_format_preset_id=l.text_format_preset_id;if(l.multilingual_specified_lang)m.specified_dialect=l.multilingual_specified_lang;if(l.multilingual_statuses&&l.multilingual_status_langs){var q=[];for(var r=0;r<l.multilingual_statuses.length;++r)q.push({message:l.multilingual_statuses[r],dialect:l.multilingual_status_langs[r]});m.multilingual_translations=q}if(l.action_type_id&&l.action_type_id.length&&(l.object_id||l.object_str)){var s={};s.taggable_activity_id=l.action_type_id[0];if(l.object_id)s.object_id=l.object_id[0];if(l.object_str)s.object_text=l.object_str[0];if(l.icon_id)s.icon_id=l.icon_id;if(l.hide_object_attachment)s.object_attachment_behavior=l.hide_object_attachment?"HIDDEN":"SHOWN";if(l.og_suggestion_mechanism)for(var t in c("OGComposerSuggestionMechanisms"))if(c("OGComposerSuggestionMechanisms")[t]==l.og_suggestion_mechanism){s.suggestion_mechanism=t;break}m.inline_activities=[s]}if(l.composertags_sponsors){m.sponsor_id=l.composertags_sponsors[0];for(var u in c("BrandedContentSharedToSponsorStatus"))if(c("BrandedContentSharedToSponsorStatus")[u]==l.direct_share_status){m.direct_share_status=u;break}for(var v in c("BrandedContentSponsorRelationship"))if(c("BrandedContentSponsorRelationship")[v]==l.sponsor_relationship){m.sponsor_relationship=v;break}}var w={};if(l.target_type)w.target_type=l.target_type;if(l.xhpc_aggregated_story_composer)w.xhpc_aggregated_story_composer=l.xhpc_aggregated_story_composer;if(l.xhpc_composerid)w.xhpc_composerid=l.xhpc_composerid;if(l.xhpc_context)w.xhpc_context=l.xhpc_context;if(l.xhpc_finch)w.xhpc_finch=l.xhpc_finch;if(l.xhpc_fundraiser_page)w.xhpc_fundraiser_page=l.xhpc_fundraiser_page;if(l.xhpc_publish_type)for(var x in c("ComposerPublishType"))if(c("ComposerPublishType")[x]==l.xhpc_publish_type){w.xhpc_publish_type=x;break}if(l.xhpc_timeline)w.xhpc_timeline=l.xhpc_timeline;if(l.backdated_date&&l.backdated_date.year)w.backdated_array=l.backdated_date;if(l.qn)w.waterfall_id=l.qn;if(w)m.web_graphml_migration_params=w;if(l.fun_fact_prompt_id)m.fun_fact_prompt_id=l.fun_fact_prompt_id;if(l.extensible_sprouts_ranker_request)m.extensible_sprouts_ranker_request=l.extensible_sprouts_ranker_request;if(l.place_attachment_setting===c("PlaceAttachmentSetting").HIDE_ATTACHMENT)m.place_attachment_setting="HIDE_ATTACHMENT";else if(l.place_attachment_setting===c("PlaceAttachmentSetting").SHOW_ATTACHMENT)m.place_attachment_setting="SHOW_ATTACHMENT";if(l.composertags_with)m.with_tags_ids=l.composertags_with;if(l.is_placelist_post){var y={};y.is_placelist_post=l.is_placelist_post;if(l.placelist_within_page)y.placelist_within_page=l.placelist_within_page;if(l.place_list_entry_point)for(var z in c("PlaceRecommendationEntrypoint"))if(c("PlaceRecommendationEntrypoint")[z]==l.place_list_entry_point){y.place_list_entry_point=z;break}m.placelist_data=y}if(l.is_ad_post===true)m.unpublished_content_data={unpublished_content_type:"ADS_POST"};else if(l.draft===true)m.unpublished_content_data={unpublished_content_type:"DRAFT"};else if(l.scheduled===true&&l.scheduled_publish_time)m.unpublished_content_data={unpublished_content_type:"SCHEDULED",scheduled_publish_time:l.scheduled_publish_time};if(l.composertags_place)m.explicit_place_id=l.composertags_place;else if(l.composertags_city)m.implicit_place_id=String(l.composertags_city);else if(l.composertags_place_name)m.place_name=l.composertags_place_name;if(l.attachment&&l.attachment.params){m.attachments=[{link:{share_scrape_data:JSON.stringify({share_type:l.attachment.type,share_params:l.attachment.params})}}];if(l.attachment&&l.attachment.reshare_original_post||l.is_forced_reshare_of_post)m.reshare_original_post="RESHARE_ORIGINAL_POST"}else if(l.composer_unpublished_photo)m.attachments=this._getTranslatedMediaAttachments(this._getPhotos(k),l.composer_unpublished_photo,l.composer_custom_accessibility_caption,l.composer_has_crop,l.composer_has_filter,l.composer_text_overlay,l.composer_sticker,l.xy_tags);if(!c("isEmpty")(l.animated_image))m.animated_image=l.animated_image;var A=this._getProductItemAttachment(l);if(A){var B={product_item:A};if(m.attachments)m.attachments.push(B);else m.attachments=[B]}return m},_getGraphQLConditionKey:function i(j){switch(j){case c("ProductCondition").PC_NEW:return"NEW_ITEM";case c("ProductCondition").PC_REFURBISHED:return"REFURBISHED";default:return"USED"}},_getProductItemAttachment:function i(j){if(j.composer_attachment_sell_price&&j.composer_attachment_sell_title){var k=j.composer_attachment_sell_pickup_note;return{title:j.composer_attachment_sell_title,item_price:{price:j.composer_attachment_sell_price,currency:j.composer_attachment_sell_currency},location_page_id:j.composer_attachment_sell_location_page_id,pickup_note:k?this._getTranslatedTextWithEnitiesFields(k):null,condition:this._getGraphQLConditionKey(j.composer_attachment_sell_condition)}}return null},_getTranslatedMediaAttachments:function i(j,k,l,m,n,o,p,q){__p&&__p();var r=[];k.forEach(function(s){__p&&__p();var t;if(j.includes(s))(function(){__p&&__p();var u,v={};v.id=s;if(m[s]===true)v.crop_state="CROPPED";if(n[s]===true)v.filter_state="FILTERED";if(l[s])v.custom_accessibility_caption=l[s];if(o[s]&&!c("isEmpty")(o[s]))v.text_overlay=o[s];if(p[s]&&!c("isEmpty")(p[s]))(function(){var w=[];Object.keys(p[s]).forEach(function(x){w.push({id:x,count:p[s][x]})});v.stickers=w})();if(q&&Array.isArray(q))v.tags=q.filter(function(w){return w.fbid===v.id}).map(function(w){var x={};if(w.subject)x.id=w.subject;else x.name=w.name;return{x:w.x,y:w.y,source:w.source,taggee:x}});r.push({photo:v})})();else r.push({video:{id:s,notify_when_processed:true}})});return r},_getTranslatedTextWithEnitiesFields:function i(j){var k=c("MentionsUtils").parseMessageMentions(j),l=k.ranges,m=k.text;if(!l)return{text:m,ranges:[]};else{var n=l.map(function(o){return{offset:o.offset,length:o.length,entity:{id:o.uid}}});return{text:m,ranges:n}}},getShouldUseGraphQLForStatus:function i(j,k){__p&&__p();c("BanzaiODS").bumpEntityKey("webgraphml_should_use","status");this._logUnsupportedFeatures("status",k);if(!this._getShouldUseGraphQL(k)){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_missing_features");return false}if(k.target_type==="page"){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_target_type_page");return false}if(c("CurrentUser").getAccountID()!==j){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_different_actor");return false}if(k.composer_source_surface==="petition"){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_surface_petition");return false}var l=this._getIsDirectedPost(j,k.xhpc_targetid);if(l&&!this._getDirectedTextSharePostGK()||!l&&!this._getUndirectedTextSharePostGK()){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_"+(l?"directed":"undirected")+"_failing_gating");return false}return true},getShouldUseGraphQLForMedia:function i(j,k,l){__p&&__p();c("BanzaiODS").bumpEntityKey("webgraphml_should_use","media");this._logUnsupportedFeatures("media",k);if(!this._getShouldUseGraphQL(k)){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_missing_features");return false}if(k.target_type==="page"){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_target_type_page");return false}var m=this._getPhotos(l),n=this._getIsDirectedPost(j,k.xhpc_targetid);if(c("isEmpty")(m)&&k.composer_unpublished_photo&&k.composer_unpublished_photo.length===1){if(this._getUndirectedSingleVideoPostGK()&&!n||this._getDirectedSingleVideoPostGK()&&n)return true;c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_"+(n?"directed":"undirected")+"_failing_gating_single_video");return false}if(!c("isEmpty")(m)&&k.composer_unpublished_photo&&k.composer_unpublished_photo.length!==m.length||c("isEmpty")(m)&&k.composer_unpublished_photo&&k.composer_unpublished_photo.length>1){if(this._getUndirectedMultiMediaPostGK()&&!n||this._getDirectedMultiMediaPostGK()&&n)return true;c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_"+(n?"directed":"undirected")+"_failing_gating_multi_media");return false}if(m&&m.length===1){if(this._getUndirectedSinglePhotoPostGK()&&!n||this._getDirectedSinglePhotoPostGK()&&n)return true;c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_"+(n?"directed":"undirected")+"_failing_gating_single_photo");return false}if(m){if(this._getUndirectedMultiPhotoPostGK()&&!n||this._getDirectedMultiPhotoPostGK()&&n)return true;c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_"+(n?"directed":"undirected")+"_failing_gating_multi_photos");return false}c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_failing_gating_completely");return false},_getPhotos:function i(j){return c("ReactComposerPhotoStore").getPhotos(j).map(function(k){return k.id}).toArray()},_getIsSupportedParameter:function i(j,k){return c("ComposerPublisherSupportedParameters").includes(k)||c("ReactComposerWebUnusedParameters").parameter_names.includes(k)||c("isEmpty")(j[k])},_getShouldUseGraphQL:function i(j){for(var k in j)if(!this._getIsSupportedParameter(j,k))return false;return true},_logUnsupportedFeatures:function i(j,k){for(var l in k)if(!this._getIsSupportedParameter(k,l))c("BanzaiODS").bumpEntityKey("webgraphml_unsupported_feature",j+"_"+l)},_getIsDirectedPost:function i(j,k){return j!==k},_getUndirectedTextSharePostGK:function i(){return c("gkx")("AT7l3OqCgiXNAclxUuWHgQEOoZd1t6qB_FS_9ywnJVcGJcDOEIgRNlAYnH8ctLZ9itPVO1ZN5_w1B91tK0fVa3Vg")},_getDirectedTextSharePostGK:function i(){return c("gkx")("AT5v3BXfXeRBNQgeFQokgrflaeHPOq2qqzxjcMgQs8Iw5FnpvDxEPsPVWI5oQZfcXHc5CXbQuV5_9wQlnMITp00IRgoPFi1hUiyhgM4P-rEGFg")},_getUndirectedSingleVideoPostGK:function i(){return c("gkx")("AT5tnLuLnDi7NLnrRxvf2dXtE-620oDAsfUt6U7U074aoYFzjY9DVq_s7JJpRKGtVjeD-DKoRwtHkKZyW7cAW4bRzK_sbhn2ArcJH6WVzIaybg")},_getDirectedSingleVideoPostGK:function i(){return c("gkx")("AT4TPebq0Hg9eV_iv4hRws1PygA80SO-KGLx6Ixc7LU6XjcoWAlSyRzwAeZghqj_zxGw6MvLMKuTqUaDFQQHiLVpm50UOUHRKwAj5nCRRxtcUQ")},_getUndirectedSinglePhotoPostGK:function i(){return c("gkx")("AT4pG2_f23D27VXpRFOLZwhqkD6AdJB4DDJpAmYQjf539xVCrs8jUzlB-s7IoaEAVVC9-DjC4S3xhQ-6cDq9jM-2vp3gUHceS0SIOPXOYVPMoA")},_getUndirectedMultiPhotoPostGK:function i(){return c("gkx")("AT4zem96V2444q2zjsyHb9ctb7O0LElb62k6YvLfE_BwceTFXD7kJY1bsKocP6aMJhp84wULhkFFarlNJrs_nwEroGkbyF-JfBQj681vsO5n6g")},_getUndirectedMultiMediaPostGK:function i(){return c("gkx")("AT7cIzdjrhiUti5JYkZGJ0TF1T_m93ipKGsxKmdqs6NG5r7ymYEcKboUS0XkqSD0gfrsk4fMYB2wM8CgIpsO3vYXXR6ZLdiWzLPa9qgjBD5M0w")},_getDirectedSinglePhotoPostGK:function i(){return c("gkx")("AT6rcIrIG9am0y7uYSMWEyJPTI2mug4fZOp9ccelKeHUcUP1YG69kRsckOvtCdFE-osY1gqYaaks1PqSnJXVbTRUXjJaOKpb4MCKGs0tf03uOA")},_getDirectedMultiPhotoPostGK:function i(){return c("gkx")("AT4mLSZw6N7jw1XvnD7ydR9hAzJ0vSmgv1jXYDiq5PiqZbWpYJCrhnGFSOJmee4cQWa9Sbefr6gg7QHjmpoOZ0LecCe-yd1regHhM-oVNwgXNA")},_getDirectedMultiMediaPostGK:function i(){return c("gkx")("AT49HckgKBLjm8j8_MGdrHoMJtRq8KAoFtE995RSpmp2XG220S3YLLyhKMa17Oo5h6Rb57OKCOImqn9UXFDT30Ms")}};f.exports=h}),null);
__d("MemePickerDialogTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:MemePickerDialogLoggerConfig",this.$MemePickerDialogTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:MemePickerDialogLoggerConfig",this.$MemePickerDialogTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$MemePickerDialogTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MemePickerDialogTypedLogger1=babelHelpers["extends"]({},this.$MemePickerDialogTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$MemePickerDialogTypedLogger1.event=j;return this};h.prototype.setMeme=function(j){this.$MemePickerDialogTypedLogger1.meme=j;return this};h.prototype.setVC=function(j){this.$MemePickerDialogTypedLogger1.vc=j;return this};var i={event:true,meme:true,vc:true};f.exports=h}),null);
__d("PhotoUploadFacerecWaterfallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$PhotoUploadFacerecWaterfallTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$PhotoUploadFacerecWaterfallTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$PhotoUploadFacerecWaterfallTypedLogger1={};return this};h.prototype.updateData=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1=babelHelpers["extends"]({},this.$PhotoUploadFacerecWaterfallTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.event=j;return this};h.prototype.setFaceBoxID=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.face_box_id=j;return this};h.prototype.setPhotoFbid=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.photo_fbid=j;return this};h.prototype.setRecognizedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.recognized_user=j;return this};h.prototype.setTaggedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.tagged_user=j;return this};h.prototype.setVC=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.vc=j;return this};var i={event:true,face_box_id:true,photo_fbid:true,recognized_user:true,tagged_user:true,vc:true};f.exports=h}),null);
__d("ProfileCustomVideoThumbnailTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ProfileCustomVideoThumbnailLoggerConfig",this.$ProfileCustomVideoThumbnailTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ProfileCustomVideoThumbnailLoggerConfig",this.$ProfileCustomVideoThumbnailTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ProfileCustomVideoThumbnailTypedLogger1={};return this};h.prototype.updateData=function(j){this.$ProfileCustomVideoThumbnailTypedLogger1=babelHelpers["extends"]({},this.$ProfileCustomVideoThumbnailTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$ProfileCustomVideoThumbnailTypedLogger1.event=j;return this};h.prototype.setVC=function(j){this.$ProfileCustomVideoThumbnailTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$ProfileCustomVideoThumbnailTypedLogger1.video_id=j;return this};var i={event:true,vc:true,video_id:true};f.exports=h}),null);
__d("RedEnvelopeActionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:RedEnvelopeActionLoggerConfig",this.$RedEnvelopeActionTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:RedEnvelopeActionLoggerConfig",this.$RedEnvelopeActionTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$RedEnvelopeActionTypedLogger1={};return this};h.prototype.updateData=function(j){this.$RedEnvelopeActionTypedLogger1=babelHelpers["extends"]({},this.$RedEnvelopeActionTypedLogger1,j);return this};h.prototype.setAction=function(j){this.$RedEnvelopeActionTypedLogger1.action=j;return this};h.prototype.setExceptionMessage=function(j){this.$RedEnvelopeActionTypedLogger1.exception_message=j;return this};h.prototype.setExceptionType=function(j){this.$RedEnvelopeActionTypedLogger1.exception_type=j;return this};h.prototype.setP2pTransactionID=function(j){this.$RedEnvelopeActionTypedLogger1.p2p_transaction_id=j;return this};h.prototype.setRedEnvelopeID=function(j){this.$RedEnvelopeActionTypedLogger1.red_envelope_id=j;return this};h.prototype.setResponseCode=function(j){this.$RedEnvelopeActionTypedLogger1.response_code=j;return this};h.prototype.setSegmentID=function(j){this.$RedEnvelopeActionTypedLogger1.segment_id=j;return this};h.prototype.setStackTrace=function(j){this.$RedEnvelopeActionTypedLogger1.stack_trace=j;return this};h.prototype.setVC=function(j){this.$RedEnvelopeActionTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$RedEnvelopeActionTypedLogger1=babelHelpers["extends"]({},this.$RedEnvelopeActionTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={action:true,exception_message:true,exception_type:true,p2p_transaction_id:true,red_envelope_id:true,response_code:true,segment_id:true,stack_trace:true,vc:true};f.exports=h}),null);
__d("TimelineMapScrollableArea",["Animation","ArbiterMixin","CSS","DOM","Event","Run","Scroll","SimpleDrag","Style","UserAgent","Vector","$","shield"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){i&&this.init(c("$")(i),j)}Object.assign(h.prototype,c("ArbiterMixin"),{init:function i(j,k){__p&&__p();var l,m=this;k=k||{};this._elem=j;this._wrap=c("DOM").find(j,"div.fbScrollableAreaWrap");this._body=c("DOM").find(this._wrap,"div.fbScrollableAreaBody");this._track=c("DOM").find(j,"div.fbScrollableAreaTrack");this._gripper=c("DOM").find(this._track,"div.fbScrollableAreaGripper");this._options=k;this.adjustGripper();this._listeners=[c("Event").listen(this._wrap,"scroll",this._handleScroll.bind(this))];if(k.fade!==false)this._listeners.push(c("Event").listen(j,"mouseenter",c("shield")(this.adjustGripper,this)),c("Event").listen(j,"mouseenter",c("shield")(this.showScrollbar,this)),c("Event").listen(j,"mousemove",this._handleMousemove.bind(this)),c("Event").listen(j,"mouseleave",c("shield")(this.hideScrollbar,this)));if(k.fade!==undefined)this._listeners.push(c("Event").listen(this._track,"click",this.clickToScroll.bind(this)));if(k.verticalscroll)(function(){var n=c("UserAgent").isBrowser("Firefox")?"DOMMouseScroll":"WheelEvent"in window?"wheel":"mousewheel",o=m.mouseWheel.bind(m),p=m._wrap,q={remove:function r(){p.removeEventListener(n,o)}};m._listeners.push(c("Event").listen(p,"mouseenter",function(){if(p.scrollWidth>p.clientWidth)p.addEventListener(n,o)}),c("Event").listen(p,"mouseleave",q.remove),q)})();this.initDrag();if(!k.persistent)c("Run").onLeave(this.destroy.bind(this))},getRoot:function i(){return this._elem},initDrag:function i(){__p&&__p();var j=new(c("SimpleDrag"))(this._gripper);j.subscribe("start",function(k,event){__p&&__p();if(!(event.which&&event.which===1||event.button&&event.button===1))return;this.inform("dragstart");var l=c("Vector").getEventPosition(event).x,m=this._gripper.offsetLeft,n=j.subscribe("update",function(p,q){var r=c("Vector").getEventPosition(q).x-l,s=this._elem.clientWidth,t=this._body.offsetWidth,u=this._track.offsetWidth,v=s/t*u,w=t-this._wrap.offsetWidth,x=m+r,y=u-v;x=Math.max(Math.min(x,y),0);var z=x/y*w;c("Scroll").setLeft(this._wrap,z)}.bind(this)),o=j.subscribe("end",function(){j.unsubscribe(n);j.unsubscribe(o);this.inform("dragend")}.bind(this))}.bind(this))},adjustGripper:function i(){__p&&__p();var j=this._elem.clientWidth,k=this._body.offsetWidth,l=this._track.offsetWidth,m=j/k*l;if(m<l){c("Style").set(this._gripper,"width",m+"px");var n=c("Scroll").getLeft(this._wrap)/k*l;c("Style").set(this._gripper,"left",n+"px");c("CSS").show(this._gripper)}else c("CSS").hide(this._gripper);this._checkContentBoundaries();return this},_checkContentBoundaries:function i(){var j=c("Scroll").getLeft(this._wrap),k=this._wrap.scrollWidth-this._wrap.clientWidth;c("CSS").conditionClass(this._elem,"contentBefore",j>0);c("CSS").conditionClass(this._elem,"contentAfter",j<k)},destroy:function i(){this._listeners.forEach(function(j){j.remove()});this._listeners.length=0},_handleMousemove:function i(event){var j=c("Vector").getElementPosition(this._track).y,k=c("Vector").getElementDimensions(this._track).y;if(Math.abs(j+k/2-c("Vector").getEventPosition(event).y)<25)this.showScrollbar(false);else this.hideScrollbar()},_handleScroll:function i(event){this.adjustGripper();if(this._options.fade!==false)this.showScrollbar()},hideScrollbar:function i(){__p&&__p();if(!this._scrollbarVisible)return this;this._scrollbarVisible=false;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null}this._hideTimeout=setTimeout(function(){if(this._scrollbarAnimation){this._scrollbarAnimation.stop();this._scrollbarAnimation=null}this._scrollbarAnimation=new(c("Animation"))(this._track).from("opacity",1).to("opacity",0).duration(250).ondone(c("CSS").addClass.bind(null,this._track,"invisible_elem")).go()}.bind(this),750);return this},showScrollbar:function i(j){__p&&__p();if(this._scrollbarVisible)return this;this._scrollbarVisible=true;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null}if(this._scrollbarAnimation){this._scrollbarAnimation.stop();this._scrollbarAnimation=null}this.adjustGripper();c("Style").set(this._track,"opacity",1);c("CSS").removeClass(this._track,"invisible_elem");if(j!==false)this.hideScrollbar();return this},clickToScroll:function i(event){var j=c("Vector").getEventPosition(event).x,k=this._elem.clientWidth,l=this._body.offsetWidth,m=this._track.offsetWidth,n=k/l*m,o=c("Vector").getElementPosition(this._gripper);if(j>=o.x&&j<=o.x+n)return;var p=j<o.x?-1:1,q=this._wrap.offsetWidth*.8*p;this.scrollBy(q)},scrollBy:function i(j){this.setScroll(c("Scroll").getLeft(this._wrap)+j)},getMaxBodyOffset:function i(){return this._body.offsetWidth-this._wrap.offsetWidth},setScroll:function i(j){var k=j;k=Math.max(Math.min(k,this.getMaxBodyOffset()),0);c("Scroll").setLeft(this._wrap,k)},scrollIntoView:function i(j){var k=this._wrap.clientWidth,l=j.offsetWidth,m=c("Scroll").getLeft(this._wrap),n=m+k,o=j.offsetLeft,p=o+l;if(o<m||k<l)this.setScroll(o);else if(p>n)this.setScroll(m+(p-n))},mouseWheel:function i(event){__p&&__p();event.deliberateSync=true;if(this.getMaxBodyOffset()<=0)return;var j=0;if(event.wheelDelta){var k=event.wheelDelta;if(event.wheelDeltaX&&event.wheelDeltaY)k=Math.abs(event.wheelDeltaX)>Math.abs(event.wheelDeltaY)?event.wheelDeltaX:event.wheelDeltaY;j=-k*10/40}else if(event.detail)j=event.detail*10;this.scrollBy(j);event.prevent()}});f.exports=b.TimelineMapScrollableArea||h}),null);
__d("MNPageComposerUtils",["QE2Logger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="product_tagging_minimum_number_products";i.prototype.shouldShowMessagingButton=function(j,k,l,m,n,o,p){var q=j&&j>1&&p!=null&&p;return q||!(j&&j>1||k&&k>1||!j&&!k||l||m||n||o)};i.prototype.isProductTaggerPostButtonDisabled=function(j,k){if(j>0)c("QE2Logger").logExposureForUser(h);return j>0&&j<k};function i(){}f.exports=new i()}),null);
__d("createExponentialMovingAverage",[],(function a(b,c,d,e,f,g){__p&&__p();function h(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1],m=l;return function(n){return m+=k*(n-m)}}function i(k){return function(l){return 1-Math.exp(-l/k)}}function j(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1],m=l,n=i(k);return function(o,p){return m+=n(p)*(o-m)}}h.createContinuous=j;f.exports=h}),null);
__d("VelocityTracker",["createExponentialMovingAverage","performanceNow"],(function a(b,c,d,e,f,g){__p&&__p();function h(){var i=arguments.length<=0||arguments[0]===undefined?50:arguments[0],j=arguments.length<=1||arguments[1]===undefined?{x:0,y:0}:arguments[1];"use strict";this.$VelocityTracker5=j.x;this.$VelocityTracker6=j.y;this.$VelocityTracker1=c("performanceNow")();this.$VelocityTracker2=c("createExponentialMovingAverage").createContinuous(i,this.$VelocityTracker5);this.$VelocityTracker3=c("createExponentialMovingAverage").createContinuous(i,this.$VelocityTracker6)}h.prototype.update=function(i,j){"use strict";var k=0;if(this.$VelocityTracker4){k=c("performanceNow")()-this.$VelocityTracker1;k=this.updateVelocity((i-this.$VelocityTracker4.x)*1e3/k,(j-this.$VelocityTracker4.y)*1e3/k)}else this.$VelocityTracker1=c("performanceNow")();this.$VelocityTracker4={x:i,y:j};return k};h.prototype.updateVelocity=function(i,j){"use strict";var k=c("performanceNow")(),l=k-this.$VelocityTracker1;this.$VelocityTracker1=k;this.$VelocityTracker5=this.$VelocityTracker2(i,l);this.$VelocityTracker6=this.$VelocityTracker3(j,l);return l};h.prototype.getVelocityX=function(){"use strict";return Math.trunc(this.$VelocityTracker5)};h.prototype.getVelocityY=function(){"use strict";return Math.trunc(this.$VelocityTracker6)};h.prototype.getSpeed=function(){"use strict";return Math.trunc(Math.sqrt(this.$VelocityTracker5*this.$VelocityTracker5+this.$VelocityTracker6*this.$VelocityTracker6))};f.exports=h}),null);
__d("FacerecWaterfallEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({RECOGNITION_RECEIVED_BY_CLIENT:"recognition_received_by_client",CLIENT_RECOGNITION_POLLER_TIMEOUT:"client_recognition_poller_timeout",CLIENT_RECOGNITION_POLLER_GIVE_UP:"client_recognition_poller_give_up",SERVER_PHOTO_PUBLISHED:"server_photo_published",SERVER_PHOTO_TAG_ADDED:"sever_photo_tag_added",SERVER_RECOGNITION_OF_PHOTO_POLLED:"server_recognition_of_photo_polled",SERVER_RECOGNITION_OF_FACE_BOX_RETURNED:"server_recognition_of_face_box_returned",CLIENT_PHOTO_PUBLISHED:"client_photo_published"})}),null);
__d("FaceRecognitionController",["ArbiterMixin","BanzaiODS","Poller","mixin","removeFromArray","FacerecWaterfallEvent"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k){"use strict";__p&&__p();i.constructor.call(this);this._config=babelHelpers["extends"]({uri:"/photos/tagging/recognition/",interval:2e3,maxRequests:4,targetIsPage:false,targetID:null},k);this._cleanup();this._poller=new(c("Poller"))({dontStart:true,maxRequests:this._config.maxRequests,interval:this._config.interval,setupRequest:function(l,m){if(!this._pendingPhotos||this._pendingPhotos.length===0)m.skip();l.setURI(this._config.uri).setData({recognition_project:"composer_facerec",photos:this._pendingPhotos,waterfallID:this._config.waterfallID,target:this._config.targetID,is_page:this._config.targetIsPage,include_unrecognized_faceboxes:!!this._config.include_unrecognized_faceboxes,include_face_crop_src:!!this._config.include_face_crop_src,include_recognized_user_profile_picture:!!this._config.include_recognized_user_profile_picture,include_low_confidence_recognitions:!!this._config.include_low_confidence_recognitions}).setHandler(this._handleResponse.bind(this))}.bind(this)});this._poller.subscribe("done",function(){var l=this._pendingPhotos;this._cleanup();this.inform("done",{unresolved:l,facerecWaterfallEvent:c("FacerecWaterfallEvent").CLIENT_RECOGNITION_POLLER_GIVE_UP})}.bind(this))}j.prototype.setWaterfallID=function(k){"use strict";this._config.waterfallID=k};j.prototype.start=function(k){"use strict";Array.prototype.push.apply(this._pendingPhotos,k);this._poller.reset();this._resetSafeguardTimeout()};j.prototype.stop=function(){"use strict";this._poller.stop();this._cleanup()};j.prototype._cleanup=function(){"use strict";window.clearTimeout(this._safeguardTimeout);this._safeguardTimeout=null;this._pendingPhotos=[]};j.prototype._resetSafeguardTimeout=function(){"use strict";window.clearTimeout(this._safeguardTimeout);this._safeguardTimeout=window.setTimeout(function(){c("BanzaiODS").bumpEntityKey("composer_facerec","safeguard");var k=this._pendingPhotos;this._poller.stop();this._cleanup();this.inform("done",{unresolved:k,facerecWaterfallEvent:c("FacerecWaterfallEvent").CLIENT_RECOGNITION_POLLER_TIMEOUT})}.bind(this),(this._config.maxRequests+2)*this._config.interval)};j.prototype._handleResponse=function(k){"use strict";__p&&__p();var l=k.getPayload();l.forEach(function(m){var n=0;c("removeFromArray")(this._pendingPhotos,m.fbid);m.faceboxes.forEach(function(o){n+=o.recognitions.length;o.recognitions.forEach(function(p){this.inform("recognition",{photo:m.fbid,facebox:{fbid:o.fbid,x:o.x,y:o.y},recognition:p})}.bind(this))}.bind(this));this.inform("photo",{photo:m.fbid,faceboxes:m.faceboxes,recognitions:n})}.bind(this));if(!this._pendingPhotos.length){this._poller.stop();this._cleanup();this.inform("done",{unresolved:this._pendingPhotos})}};f.exports=j}),null);
__d("ComposerMemePickerDialogEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MEME_PROMPT_CLICKED:"meme_prompt_clicked",MEME_PICKER_OPENED:"meme_picker_opened",MEME_SELECTED:"meme_selected",MEME_POSTED:"meme_posted"})}),null);
__d("MemePickerLogger",["ComposerMemePickerDialogEvent","FunnelLogger","MemePickerDialogTypedLogger"],(function a(b,c,d,e,f,g){__p&&__p();var h="WWW_MEME_PICKER_DIALOG_FUNNEL",i=false,j={_log:function k(l,m){new(c("MemePickerDialogTypedLogger"))().setEvent(l).setMeme(m).log();if(!i){i=true;c("FunnelLogger").startFunnel(h)}c("FunnelLogger").appendAction(h,l)},logMemePromptClicked:function k(){this._log(c("ComposerMemePickerDialogEvent").MEME_PROMPT_CLICKED)},logMemePickerOpened:function k(){this._log(c("ComposerMemePickerDialogEvent").MEME_PICKER_OPENED)},logMemeSelected:function k(l){this._log(c("ComposerMemePickerDialogEvent").MEME_SELECTED,l)},logMemePosted:function k(l){this._log(c("ComposerMemePickerDialogEvent").MEME_POSTED,l)}};f.exports=j}),null);
__d("ReactComposerAttachmentPreviewErrorBoundary.react",["FBLogger","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.state={hasError:false}}j.prototype.componentDidCatch=function(k,l){this.setState({hasError:true});c("FBLogger")("FIXME").mustfix("Cannot render the attachment preview. Error: %s. Info: %s",k,l)};j.prototype.render=function(){if(this.state.hasError)return null;return this.props.children};f.exports=j}),null);
__d("ReactComposerAudienceSelectorActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirrorRecursive")({SET_SELECTED_GROUP:null,SET_SELECTED_FRIENDS:null,SET_COMPOSER_ATTACHMENT_TYPE:null,SET_IS_ERROR_SHOWN:null},"ReactComposerAudienceSelectorActionType")}),null);
__d("ReactComposerAudienceSelectorStore",["ReactComposerAudienceSelectorActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){__p&&__p();var k=void 0;i.constructor.call(this,function(){return{composerID:null,groupID:null,groupName:null,friendIDs:null,attachmentType:null,isErrorShown:null}},function(l){switch(l.type){case c("ReactComposerAudienceSelectorActionType").SET_SELECTED_GROUP:k&&k.$ReactComposerAudienceSelectorStore1(l);break;case c("ReactComposerAudienceSelectorActionType").SET_SELECTED_FRIENDS:k&&k.$ReactComposerAudienceSelectorStore2(l);break;case c("ReactComposerAudienceSelectorActionType").SET_COMPOSER_ATTACHMENT_TYPE:k&&k.$ReactComposerAudienceSelectorStore3(l);break;case c("ReactComposerAudienceSelectorActionType").SET_IS_ERROR_SHOWN:k&&k.$ReactComposerAudienceSelectorStore4(l);break}});k=this}j.prototype.getGroupID=function(k){return this.getComposerData(k).groupID};j.prototype.getGroupName=function(k){return this.getComposerData(k).groupName};j.prototype.isAudienceSelectorSelected=function(k){return this.getComposerData(k).isAudienceSelectorSelected};j.prototype.$ReactComposerAudienceSelectorStore1=function(k){var l=this.getComposerData(k.composerID);l.groupID=k.groupID;l.groupName=k.groupName;l.isErrorShown=false;l.isAudienceSelectorSelected=k.isAudienceSelectorSelected;this.emitChange(k.composerID)};j.prototype.getFriendIDs=function(k){return this.getComposerData(k).friendIDs};j.prototype.$ReactComposerAudienceSelectorStore2=function(k){var l=this.getComposerData(k.composerID);l.friendIDs=k.friendIDs;l.isErrorShown=false;this.emitChange(k.composerID)};j.prototype.getComposerAttachmentType=function(k){return this.getComposerData(k).attachmentType};j.prototype.$ReactComposerAudienceSelectorStore3=function(k){var l=this.getComposerData(k.composerID);l.attachmentType=k.attachmentType;this.emitChange(k.composerID)};j.prototype.getIsErrorShown=function(k){return this.getComposerData(k).isErrorShown};j.prototype.$ReactComposerAudienceSelectorStore4=function(k){var l=this.getComposerData(k.composerID);l.isErrorShown=k.isErrorShown;this.emitChange(k.composerID)};f.exports=new j()}),null);
__d("ComposerPerfEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLIENT_BOOTSTRAPPED:"client_bootstrapped",CLIENT_BOOTLOADED:"client_bootloaded",CLIENT_POST_SUCCEEDED:"client_post_succeeded",CLIENT_POST_FAILED:"client_post_failed"})}),null);
__d("ComposerSharingSpacesEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_SPACES_SHARESHEET_NEXT:"COMPOSER_SPACES_SHARESHEET_NEXT",COMPOSER_SPACES_SHARESHEET_BACK:"COMPOSER_SPACES_SHARESHEET_BACK",COMPOSER_SPACES_SHARESHEET_POST:"COMPOSER_SPACES_SHARESHEET_POST",COMPOSER_SPACES_SPACE:"COMPOSER_SELECT_SPACE",COMPOSER_SELECT_SPACE_CHOOSE:"COMPOSER_SELECT_SPACE_CHOOSE",COMPOSER_SELECT_SPACE_NEW:"COMPOSER_SELECT_SPACE_NEW",COMPOSER_SELECT_SPACE_NEW_CLICK:"COMPOSER_SELECT_SPACE_NEW_CLICK",COMPOSER_SELECT_SPACE_LOADED:"COMPOSER_SELECT_SPACE_LOADED",COMPOSER_SELECT_TIMELINE_CHOOSE:"COMPOSER_SELECT_TIMELINE_CHOOSE"})}),null);
__d("ExtensibleSproutsLayoutStateType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EXPANDED_DEFAULT:"expanded_default",COLLAPSED:"collapsed",FULL_SCREEN:"full_screen",EXPANDED:"expanded"})}),null);
__d("ReactComposerPerfLogger",["ComposerType","ComposerXSessionIDs","MarauderLogger"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i=c("ComposerType").STATUS,j={logEvent:function k(l,m){__p&&__p();var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],o=h[m],p=c("ComposerXSessionIDs").getSessionID(m);if(!o||!p)return;if(n.logOncePerSession){if(!o.loggedEventTypes[p])o.loggedEventTypes[p]={};if(o.loggedEventTypes[p][l])return;o.loggedEventTypes[p][l]=true}var q=babelHelpers["extends"]({},n.extraData,{composer_type:i,target_type:o.targetType,target_id:o.targetID,ref:o.entryPointRef});c("MarauderLogger").log(l,"composer",q,undefined,undefined,p)},registerComposer:function k(l,m,n,o){h[l.id]={targetID:o,targetType:m,entryPointRef:n,loggedEventTypes:{}}},getInstance:function k(l){return h[l]}};f.exports=j}),null);
__d("ReactComposerLoggingStore",["invariant","Bootloader","ComposerEntryPointRef","ComposerPerfEvent","ComposerWaterfallEvent","ComposerXMarauderLogger","ComposerXSessionIDs","FacerecWaterfallEvent","immutable","PhotosUploadWaterfallXMixin","PhotoUploadFacerecWaterfallTypedLogger","PUWApplications","PUWMethods","PUWSteps","ReactComposerActionTypes","ReactComposerAlbumActionType","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceActionTypes","ReactComposerAudienceStore","ReactComposerCollectionsActionTypes","ReactComposerDispatcher","ReactComposerFeatureType","ReactComposerLoggingQueue","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPerfLogger","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerScrapedAttachmentActionType","ReactComposerScrapedAttachmentStore","ComposerSharingSpacesEvent","ReactComposerStatusStore","ReactComposerStore","ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadActionType","ReactComposerSproutsDisplayState","ExtensibleSproutsItemType","ExtensibleSproutsLayoutStateType","SATPPresetCollection","classWithMixins","ifRequired","mixin","nullthrows","performanceAbsoluteNow"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("classWithMixins")(c("ReactComposerStoreBase"),c("mixin")(c("PhotosUploadWaterfallXMixin"))));j=i&&i.prototype;function k(){var l=void 0;j.constructor.call(this,function(){return{activated:false,perfTimes:{},sessionID:null,uniqueEvents:c("immutable").Map([[c("PUWSteps").CLIENT_PUBLISH_SUCCESS,false],[c("PUWSteps").CLIENT_FLOW_SUCCESS,false]])}},function(m){l&&l.handler(m)});l=this}k.prototype.handler=function(l){__p&&__p();if(l.suppressWaterfallLogging)return;var m=this.getComposerData(l.composerID);if(!m.activated)return;switch(l.type){case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:this.$ReactComposerLoggingStore1(l);break;case c("ReactComposerActionTypes").COMPOSER_ENTRY:this.$ReactComposerLoggingStore2(l);break;case c("ReactComposerAttachmentActionType").SET_BOOTLOADED:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore3(l);break;case c("ReactComposerAttachmentActionType").SET_BOOTSTRAPPED:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore4(l);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_CLICKED:this.$ReactComposerLoggingStore5(l);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_DONE:this.$ReactComposerLoggingStore6(l);break;case c("ReactComposerAlbumActionType").CREATE_ALBUM_SELECTOR_CLICKED:this.$ReactComposerLoggingStore7(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore8(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED:this.$ReactComposerLoggingStore9(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE:this.$ReactComposerLoggingStore10(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED:this.$ReactComposerLoggingStore11(l);break;case c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE:this.$ReactComposerLoggingStore12(l);break;case c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_FAILED:this.$ReactComposerLoggingStore13(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZER_UNAVAILABLE:this.$ReactComposerLoggingStore14(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING:this.$ReactComposerLoggingStore15(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:this.$ReactComposerLoggingStore16(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED:this.$ReactComposerLoggingStore17(l);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE:this.$ReactComposerLoggingStore18(l);break;case c("ReactComposerPhotoActionType").PHOTO_REMOVE:this.$ReactComposerLoggingStore19(l);break;case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore20(l);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD:this.$ReactComposerLoggingStore21(l);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore22(l);break;case c("ReactComposerTaggerActionType").DESELECT_TAGGER:this.$ReactComposerLoggingStore23(l);break;case c("ReactComposerTaggerActionType").SET_SELECTED_TAGGER:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerTaggerStore").getDispatchToken()]);this.$ReactComposerLoggingStore24(l);break;case c("ReactComposerTaggerActionType").SET_TAGGER_DATA:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerTaggerStore").getDispatchToken()]);this.$ReactComposerLoggingStore25(l);break;case c("ReactComposerActionTypes").POST_STARTED:this.$ReactComposerLoggingStore26(l);break;case c("ReactComposerActionTypes").POST_SUCCEEDED:this.$ReactComposerLoggingStore27(l);break;case c("ReactComposerActionTypes").POST_ERROR:this.$ReactComposerLoggingStore28(l);break;case c("ReactComposerMediaUploadActionType").PHOTOS_SELECT:this.$ReactComposerLoggingStore29(l);break;case c("ReactComposerPhotoActionType").PHOTO_EDIT_STARTED:this.$ReactComposerLoggingStore30(l);break;case c("ReactComposerPhotoActionType").PHOTO_EDIT_FINISHED:this.$ReactComposerLoggingStore31(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RETRY:this.$ReactComposerLoggingStore32(l);break;case c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX:this.$ReactComposerLoggingStore33(l);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_ALL_FINISHED:this.$ReactComposerLoggingStore34(l);break;case c("ReactComposerActionTypes").FEATURE_INTENT:this.$ReactComposerLoggingStore35(l);break;case c("ReactComposerActionTypes").FEATURE_DONE:this.$ReactComposerLoggingStore36(l);break;case c("ReactComposerActionTypes").FEATURE_CANCEL:this.$ReactComposerLoggingStore37(l);break;case c("ReactComposerActionTypes").SPROUT_VIEW_UPDATE:this.$ReactComposerLoggingStore38(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerScrapedAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore39(l);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE:this.$ReactComposerLoggingStore40(l);break;case c("ReactComposerActionTypes").COMPOSER_CANCEL:this.$ReactComposerLoggingStore41(l);break;case c("ReactComposerActionTypes").COMPOSER_NAVIGATE_AWAY_ATTEMPT:this.$ReactComposerLoggingStore42(l);break;case c("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore43(l);break;case c("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore44(l);break;case c("ReactComposerAudienceActionTypes").SET_COLLECTION:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerAudienceStore").getDispatchToken()]);this.$ReactComposerLoggingStore45(l);break;case c("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER:case c("ReactComposerCollectionsActionTypes").SHOW_SHARING_SPACE_CREATION_LAYER:this.$ReactComposerLoggingStore46(l);break;case c("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER:case c("ReactComposerCollectionsActionTypes").HIDE_SHARING_SPACE_CREATION_LAYER:this.$ReactComposerLoggingStore47(l);break;case c("ReactComposerCollectionsActionTypes").SPACE_SELECTOR_LOADED:this.$ReactComposerLoggingStore48(l);break;case c("ReactComposerActionTypes").COMPOSER_SHARESHEET_POST_CLICKED:this.$ReactComposerLoggingStore49(l);break;default:}};k.prototype.getSessionID=function(l){return c("ComposerXSessionIDs").getSessionID(l)};k.prototype.isActivated=function(l){return this.getComposerData(l).activated};k.prototype.activate=function(l){var m=this.getComposerData(l);m.activated=true;if(c("ReactComposerLoggingQueue").getLength()>0)this.$ReactComposerLoggingStore50()};k.prototype.$ReactComposerLoggingStore2=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").COMPOSER_ENTRY,{logOncePerSession:true,extraData:{composer_entry_point_name:l.uiElementName}})};k.prototype.$ReactComposerLoggingStore35=function(l){var m=this.validateAction(l,["composerID","featureType","uiElementName"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore52(n,o,p)};k.prototype.$ReactComposerLoggingStore36=function(l){var m=this.validateAction(l,["composerID","featureType","uiElementName"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore53(n,o,p)};k.prototype.$ReactComposerLoggingStore37=function(l){var m=this.validateAction(l,["composerID","featureType","uiElementName"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore54(n,o,p)};k.prototype.$ReactComposerLoggingStore1=function(l){var m=this.validateAction(l,"composerID");if(c("ReactComposerAttachmentStore").isSelectedAttachmentActive(m))this.$ReactComposerLoggingStore2(l);if(l.loggingName&&Object.prototype.hasOwnProperty.call(c("ExtensibleSproutsItemType"),l.loggingName)){var n=this.validateAction(l,"sproutSurface");this.$ReactComposerLoggingStore52(m,l.loggingName,l.loggingName,n)}};k.prototype.$ReactComposerLoggingStore3=function(l){var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore55(o,c("ComposerPerfEvent").CLIENT_BOOTLOADED,{extraData:{attachment_type:n,duration:c("ReactComposerAttachmentStore").getBootloadDuration(o,n)}})};k.prototype.$ReactComposerLoggingStore4=function(l){var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore55(o,c("ComposerPerfEvent").CLIENT_BOOTSTRAPPED,{extraData:{attachment_type:n,duration:c("ReactComposerAttachmentStore").getBootstrapDuration(o,n)}})};k.prototype.$ReactComposerLoggingStore7=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").ALBUM_INTENT)};k.prototype.$ReactComposerLoggingStore5=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c("ExtensibleSproutsItemType").MEDIA,o);this.$ReactComposerLoggingStore51(n,c("ComposerWaterfallEvent").MEDIA_INTENT);this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SELECT_BEGIN)};k.prototype.$ReactComposerLoggingStore6=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore53(n,c("ExtensibleSproutsItemType").MEDIA,o)};k.prototype.$ReactComposerLoggingStore8=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").PHOTO_ADD);this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore9=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_PROCESS_BEGIN,o)};k.prototype.$ReactComposerLoggingStore10=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_PROCESS_SUCCESS,o)};k.prototype.$ReactComposerLoggingStore11=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_PROCESS_FAIL,o)};k.prototype.$ReactComposerLoggingStore12=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SPHERICAL_CHECK_SUCCESS,o)};k.prototype.$ReactComposerLoggingStore13=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SPHERICAL_CHECK_FAIL,o)};k.prototype.$ReactComposerLoggingStore14=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PROCESS_UNAVAILABLE)};k.prototype.$ReactComposerLoggingStore15=function(l){var m=this.validateAction(l,["composerID","fileUpload"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_TRANSFER_BEGIN,{bytes:o.getFile().size})};k.prototype.$ReactComposerLoggingStore16=function(l){var m=this.validateAction(l,["composerID","fileUpload","timeToUpload"]),n=m[0],o=m[1],p=m[2],q={};if(l.uploadID&&c("ReactComposerMediaUploadStore").getMediaUploadExists(n,l.uploadID))q=c("ReactComposerMediaUploadStore").getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore51(n,c("ComposerWaterfallEvent").PHOTO_ADD_SUCCESS);this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_TRANSFER_SUCCESS,{bytes:o.getFile().size,auto_retry_count:o.getRetryCount(),dt:p,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:q.projectionType,fbid:l.photoID,sheight:q.height,swidth:q.width,theight:l.height,twidth:l.width})};k.prototype.$ReactComposerLoggingStore17=function(l){var m=this.validateAction(l,["composerID","fileUpload","error","timeToUpload"]),n=m[0],o=m[1],p=m[2],q=m[3],r={};if(l.uploadID&&c("ReactComposerMediaUploadStore").getMediaUploadExists(n,l.uploadID))r=c("ReactComposerMediaUploadStore").getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore51(n,c("ComposerWaterfallEvent").PHOTO_ADD_FAILURE);this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_TRANSFER_FAIL,{bytes:o.getFile().size,error_code:p.code,error_info:p.description,auto_retry_count:o.getRetryCount(),dt:q,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:r.projectionType,sheight:r.height,swidth:r.width})};k.prototype.$ReactComposerLoggingStore18=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").PHOTO_REMOVE);this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA);this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_TRANSFER_CANCEL)};k.prototype.$ReactComposerLoggingStore19=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").PHOTO_REMOVE);this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore20=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore21=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").VIDEO_ADD)};k.prototype.$ReactComposerLoggingStore22=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").VIDEO_REMOVE);this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore23=function(l){var m=this.validateAction(l,["composerID","taggerID","sourceLoggingName"]),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore58(o);q!==null||h(0);if(q)this.$ReactComposerLoggingStore53(n,q,p)};k.prototype.$ReactComposerLoggingStore24=function(l){__p&&__p();var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1],p=c("ReactComposerTaggerStore").getSelectedTagger(n),event=null;switch(p){case c("ReactComposerTaggerType").PEOPLE:this.$ReactComposerLoggingStore52(n,c("ExtensibleSproutsItemType").WITH_TAG,o);event=c("ComposerWaterfallEvent").FRIEND_TAG_INTENT;break;case c("ReactComposerTaggerType").LOCATION:this.$ReactComposerLoggingStore52(n,c("ExtensibleSproutsItemType").LOCATION,o);event=c("ComposerWaterfallEvent").LOCATION_INTENT;break;case c("ReactComposerTaggerType").ACTIVITY:this.$ReactComposerLoggingStore52(n,c("ExtensibleSproutsItemType").MINUTIAE,o);event=c("ComposerWaterfallEvent").MINUTIAE_INTENT;break;case c("ReactComposerTaggerType").MARKDOWN:event=c("ComposerWaterfallEvent").MARKDOWN_INTENT;break;default:var q=this.$ReactComposerLoggingStore58(p);if(q)this.$ReactComposerLoggingStore52(n,q,o);break}if(event===null)return;this.$ReactComposerLoggingStore51(n,event)};k.prototype.$ReactComposerLoggingStore25=function(l){var m=this.validateAction(l,["composerID","taggerID","sourceLoggingName"]),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore58(o);q!==null||h(0);if(q)this.$ReactComposerLoggingStore57(n,q,p)};k.prototype.$ReactComposerLoggingStore26=function(l){__p&&__p();var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.perfTimes.postStartTime=c("performanceAbsoluteNow")();this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").COMPOSER_POST);if(this.$ReactComposerLoggingStore59(m)){this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PUBLISH_BEGIN,this.$ReactComposerLoggingStore60(m));c("ReactComposerPhotoStore").getPhotos(m).forEach(function(o){o.faceboxes.forEach(function(p){return new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(c("FacerecWaterfallEvent").CLIENT_PHOTO_PUBLISHED).setPhotoFbid(o.id).setFaceBoxID(p.id).setRecognizedUser(p.recognizedSubjectID).setTaggedUser(p.taggedSubjectID).log()})})}this.$ReactComposerLoggingStore61(m,"post")};k.prototype.$ReactComposerLoggingStore27=function(l){__p&&__p();var m,n=this,o=this.validateAction(l,"composerID"),p=this.getComposerData(o);this.$ReactComposerLoggingStore51(o,c("ComposerWaterfallEvent").COMPOSER_POST_SUCCESS);this.$ReactComposerLoggingStore55(o,c("ComposerPerfEvent").CLIENT_POST_SUCCEEDED,{extraData:{attachment_type:c("ReactComposerAttachmentStore").getSelectedAttachmentID(o),duration:c("performanceAbsoluteNow")()-p.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore59(o)){var q=this.$ReactComposerLoggingStore60(o);this.$ReactComposerLoggingStore56(o,c("PUWSteps").CLIENT_PUBLISH_SUCCESS,q);this.$ReactComposerLoggingStore56(o,c("PUWSteps").CLIENT_FLOW_SUCCESS);var r=c("ReactComposerPhotoStore").getPhotos(o);if(r&&r.forEach)(function(){var s=0;r.forEach(function(t){if(t.cubestripURI)s++});if(s>0)c("Bootloader").loadModules(["SphericalPhotoViewerLoggerUtil","SphericalMediaConstants"],function(t,u){t.logNumberOfSphericalPhoto({composerSessionID:this.getSessionID(o)||"",surface:u.LOGGER_SURFACES.composer,numberOfSphericalPhoto:s})}.bind(n),"ReactComposerLoggingStore")})()}};k.prototype.$ReactComposerLoggingStore28=function(l){var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").COMPOSER_POST_FAILURE);this.$ReactComposerLoggingStore55(m,c("ComposerPerfEvent").CLIENT_POST_FAILED,{extraData:{attachment_type:c("ReactComposerAttachmentStore").getSelectedAttachmentID(m),duration:c("performanceAbsoluteNow")()-n.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore59(m)){var o=l.response,p=Object.assign(this.$ReactComposerLoggingStore60(m),{error_code:o&&o.getError&&o.getError(),error_info:o&&o.getErrorDescription&&o.getErrorDescription()});this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PUBLISH_FAIL,p)}};k.prototype.$ReactComposerLoggingStore29=function(l){var m=this.validateAction(l,["composerID","numPhotos","method"]),n=m[0],o=m[1],p=m[2],q={method:p,volume:o};this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});if(p!==c("PUWMethods").FILE_SELECTOR)this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SELECT_BEGIN);this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SELECT_SUCCESS,q)};k.prototype.$ReactComposerLoggingStore30=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PHOTO_EDIT_BEGIN)};k.prototype.$ReactComposerLoggingStore31=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PHOTO_EDIT_SUCCESS)};k.prototype.$ReactComposerLoggingStore32=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_TRANSFER_MANUAL_RETRY)};k.prototype.$ReactComposerLoggingStore33=function(l){var m=this.validateAction(l,["photoID","facebox"]),n=m[0],o=m[1],p=o.bestRecognition,q=null;if(p)q=p.subjectID;new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(c("FacerecWaterfallEvent").RECOGNITION_RECEIVED_BY_CLIENT).setPhotoFbid(n).setFaceBoxID(o.id).setRecognizedUser(q).log()};k.prototype.$ReactComposerLoggingStore34=function(l){var m=this.validateAction(l,["photos","facerecWaterfallEvent"]),n=m[0],o=m[1];n.forEach(function(p){new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(c("nullthrows")(o)).setPhotoFbid(p).log()})};k.prototype.$ReactComposerLoggingStore39=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore57(m,c("ReactComposerFeatureType").LINK,l.sourceLoggingName)};k.prototype.$ReactComposerLoggingStore40=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore57(m,c("ReactComposerFeatureType").PRIVACY,l.sourceLoggingName)};k.prototype.$ReactComposerLoggingStore41=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").COMPOSER_CANCEL)};k.prototype.$ReactComposerLoggingStore42=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore61(m,"cancel");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").NAVIGATE_AWAY)};k.prototype.$ReactComposerLoggingStore43=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c("ReactComposerFeatureType").COLLECTIONS,o)};k.prototype.$ReactComposerLoggingStore44=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore53(n,c("ReactComposerFeatureType").COLLECTIONS,o)};k.prototype.$ReactComposerLoggingStore45=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore57(n,c("ReactComposerFeatureType").COLLECTIONS,o);if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase(),{extraData:{profile_channel_audience_type:c("ReactComposerAudienceStore").getPrivacyLabel(n)}})};k.prototype.$ReactComposerLoggingStore46=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c("ReactComposerFeatureType").COLLECTION_CREATION,o);if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase())};k.prototype.$ReactComposerLoggingStore47=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName","isCancel"]),n=m[0],o=m[1],p=m[2],q=p?this.$ReactComposerLoggingStore54.bind(this):this.$ReactComposerLoggingStore53.bind(this);q(n,c("ReactComposerFeatureType").COLLECTION_CREATION,o);if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase(),{extraData:{profile_channel_audience_type:c("ReactComposerAudienceStore").getPrivacyLabel(n)}})};k.prototype.$ReactComposerLoggingStore48=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName","spaceCount"]),n=m[0],o=m[1],p=m[2];if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase(),{extraData:{space_count:p}})};k.prototype.$ReactComposerLoggingStore49=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase(),{extraData:{profile_channel_audience_type:c("ReactComposerAudienceStore").getPrivacyLabel(n)}})};k.prototype.$ReactComposerLoggingStore38=function(l){var m=this.validateAction(l,["composerID","visibilityMap","event","sproutsState"]),n=m[0],o=m[1],event=m[2],p=m[3];this.$ReactComposerLoggingStore51(n,event,{extraData:{sprouts_visibilities:o,state:p===c("ReactComposerSproutsDisplayState").INLINE?c("ExtensibleSproutsLayoutStateType").COLLAPSED:c("ExtensibleSproutsLayoutStateType").EXPANDED_DEFAULT,promoted_sprout_name:l.promotedSprout,promotion_id:l.promotionID}})};k.prototype.$ReactComposerLoggingStore59=function(l){var m=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,c("ReactComposerAttachmentType").MEDIA),n=c("ReactComposerMediaUploadStore").getUploadsOfType(l,c("ReactComposerMediaUploadType").PHOTO);return m&&!!n.size};k.prototype.$ReactComposerLoggingStore60=function(l){var m=c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").PEOPLE)||[],n=c("ReactComposerMediaUploadStore").getTotalNumberOfStickersOnPhotos(l);return{volume:c("ReactComposerPhotoStore").getPhotos(l).size,with_tag_count:m.length,sticker_count:n}};k.prototype.$ReactComposerLoggingStore52=function(l,m,n,o){this.$ReactComposerLoggingStore51(l,c("ComposerWaterfallEvent").FEATURE_INTENT,{extraData:babelHelpers["extends"]({feature_type:m,source:n},o&&{sprout_surface:o})})};k.prototype.$ReactComposerLoggingStore57=function(l,m,n){this.$ReactComposerLoggingStore51(l,c("ComposerWaterfallEvent").FEATURE_UPDATE,{extraData:{feature_type:m,source:n}})};k.prototype.$ReactComposerLoggingStore54=function(l,m,n){this.$ReactComposerLoggingStore51(l,c("ComposerWaterfallEvent").FEATURE_CANCEL,{extraData:{feature_type:m,source:n}})};k.prototype.$ReactComposerLoggingStore53=function(l,m,n){this.$ReactComposerLoggingStore51(l,c("ComposerWaterfallEvent").FEATURE_DONE,{extraData:{feature_type:m,source:n}})};k.prototype.$ReactComposerLoggingStore51=function(l,event){__p&&__p();var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true)}if(c("ReactComposerStore").getRef(l)===c("ComposerEntryPointRef").RECENT_POSTS)c("Bootloader").loadModules(["FeedbackDigestNotifTypedLogger"],function(o){new o().setComposerWaterfallEvent(event).addToExtraData("payload",JSON.stringify(this.$ReactComposerLoggingStore62(l))).addToExtraData("message",c("ReactComposerStatusStore").getMessageText(l)).log()}.bind(this),"ReactComposerLoggingStore");m.extraData=Object.assign({is_markdown_enabled:!!c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").MARKDOWN).isMarkdown,payload:this.$ReactComposerLoggingStore62(l),ordered_sprouts:c("ReactComposerStore").getOrderedSprouts(l),ranker_request_id:c("ReactComposerStore").getRankerRequestID(l),sprout_surface:c("ReactComposerStore").getSproutSurface(l)},m.extraData);c("ComposerXMarauderLogger").logEvent(event,l,m)};k.prototype.$ReactComposerLoggingStore55=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true)}c("ReactComposerPerfLogger").logEvent(event,l,m)};k.prototype.$ReactComposerLoggingStore56=function(l,m,n,o,p){var q=this.getComposerData(l);if(q.uniqueEvents.has(m)){if(q.uniqueEvents.get(m))return;q.uniqueEvents=q.uniqueEvents.set(m,true)}this.logPUWStep(m,this.getSessionID(l),c("PUWApplications").WEB_REACT_COMPOSER,c("ReactComposerStore").getRef(l),n,o,p)};k.prototype.$ReactComposerLoggingStore50=function(){while(c("ReactComposerLoggingQueue").getLength()>0){var l=c("ReactComposerLoggingQueue").pop();this.handler(l)}};k.prototype.$ReactComposerLoggingStore62=function(l){return{character:c("ReactComposerStatusStore").getTextLength(l),location_tag:c("ReactComposerTaggerStore").hasLocationTag(l),implicit_location:c("ReactComposerTaggerStore").hasImplicitLocation(l),minutiae:c("ReactComposerTaggerStore").hasMinutiae(l),with_who_tag:c("ReactComposerTaggerStore").getNumberOfWithWhoTags(l),photo:c("ReactComposerMediaUploadStore").getNonsphericalPhotoCount(l),three_sixty_photo:c("ReactComposerMediaUploadStore").getSphericalPhotoCount(l),video:c("ReactComposerMediaUploadStore").getUploadsCount(l,c("ReactComposerMediaUploadType").VIDEO),shared_link:c("ReactComposerScrapedAttachmentStore").hasAttachment(l)?1:0,backdated:c("ReactComposerTaggerStore").hasBackdate(l)?c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").BACKDATE):null,audience:c("ReactComposerAudienceStore").getAudience(l),collection:c("ReactComposerAudienceStore").getCollectionID(l)}};k.prototype.$ReactComposerLoggingStore58=function(l){__p&&__p();switch(l){case c("ReactComposerTaggerType").PEOPLE:return c("ExtensibleSproutsItemType").WITH_TAG;case c("ReactComposerTaggerType").LOCATION:return c("ExtensibleSproutsItemType").LOCATION;case c("ReactComposerTaggerType").ACTIVITY:return c("ExtensibleSproutsItemType").MINUTIAE;case c("ReactComposerTaggerType").MARKDOWN:return c("ExtensibleSproutsItemType").MARKDOWN;case c("ReactComposerTaggerType").BACKDATE:return c("ExtensibleSproutsItemType").BACKDATE;case c("ReactComposerTaggerType").SPONSOR:return c("ExtensibleSproutsItemType").SPONSOR_TAG;case c("ReactComposerTaggerType").PRODUCT:return c("ExtensibleSproutsItemType").TAG_PRODUCT;case c("ReactComposerTaggerType").PAGE_CTA:return c("ReactComposerFeatureType").PAGE_CTA;case c("ReactComposerTaggerType").FORMATTED_TEXT:return c("ExtensibleSproutsItemType").TEXT_BACKGROUND;case c("ReactComposerTaggerType").ISSUE_TAG:return c("ReactComposerFeatureType").ISSUE_TAG;case c("ReactComposerTaggerType").STICKER:return c("ExtensibleSproutsItemType").STICKER;case c("ReactComposerTaggerType").GIF:return c("ExtensibleSproutsItemType").GIF;case c("ReactComposerTaggerType").MESSAGING:return c("ReactComposerFeatureType").MESSAGING;case c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:return c("ExtensibleSproutsItemType").CONTACT_YOUR_REPRESENTATIVE;case c("ReactComposerTaggerType").FUN_FACT:return c("ExtensibleSproutsItemType").FUN_FACT;case c("ReactComposerTaggerType").FUNDRAISER:return c("ExtensibleSproutsItemType").FUNDRAISER;case c("ReactComposerTaggerType").ALBUM:return c("ReactComposerFeatureType").ALBUM;case c("ReactComposerTaggerType").VISUAL_POLL:return c("ExtensibleSproutsItemType").VISUAL_POLLS;case c("ReactComposerTaggerType").RECOMMENDATION:return c("ExtensibleSproutsItemType").RECOMMENDATION;case c("ReactComposerTaggerType").SALES_PROMO:return c("ExtensibleSproutsItemType").SALES_PROMO;case c("ReactComposerTaggerType").TAG_EVENT:return c("ExtensibleSproutsItemType").TAG_EVENT;case c("ReactComposerTaggerType").BREAKING_NEWS:return c("ReactComposerFeatureType").BREAKING_NEWS;case c("ReactComposerTaggerType").ASSET_3D:return c("ReactComposerFeatureType").ASSET_3D;default:return null}};k.prototype.$ReactComposerLoggingStore61=function(l,m){c("ifRequired")("ReactComposerFormattedTextStore",function(n){var o=n.getTextFormatPresetID(l)||n.getPrevSelectedTextFormatPresetID(l),p=n.getTrackingString(l);if(o)c("ifRequired")("SATPInteractionsTypedLogger",function(q){new q().setTrackingString(p).setUserActionString(m).setPresetID(o).setRequestedCollection(c("SATPPresetCollection").COMPOSER_TOP).log()})})};f.exports=new k()}),null);
__d("ReactComposerPhotoUploader",["ActorURI","AsyncUploadRequest","FaceRecognitionController","JpegResizer","JpegResizerConfig","Map","PhotosUploadID","PhotosUploadWaterfallErrorCodes","ReactComposerLoggingStore","ReactComposerMediaConfig","ReactComposerMediaUploadActions","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMediaUtils","ReactComposerPhotoActions","QE2Logger","SphericalPhotoConfig","XComposerPhotoUploader","ifRequired","performanceNow"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=b.URL||b.webkitURL||{},i="www_js_resize_repack";function j(k,l,m){__p&&__p();this.$ReactComposerPhotoUploader1=k.composerID;this.$ReactComposerPhotoUploader5=m;var n=c("ReactComposerMediaConfig").photo,o=null;if(c("JpegResizer").isSupported()){o=c("JpegResizer").getSingleton(l>1?c("JpegResizer").DEFAULT_POOL_SIZE:1);o.setHighQuality(n.highQuality).setUndershoot(c("JpegResizerConfig").undershoot).setEncodeQuality(c("JpegResizerConfig").quality)}else c("ReactComposerMediaUploadActions").resizerUnavailable(this.$ReactComposerPhotoUploader1);var p=c("ActorURI").create(n.uploadEndpoint,k.actorID);this.$ReactComposerPhotoUploader2=new(c("XComposerPhotoUploader"))({uploadEndpoint:p,uploadData:Object.assign({qn:c("ReactComposerLoggingStore").getSessionID(this.$ReactComposerPhotoUploader1),target_id:k.targetID},n.uploadData),retryLimit:n.retryLimit,concurrentLimit:n.concurrentLimit,resizer:o,onUploadEnqueued:this.$ReactComposerPhotoUploader6.bind(this),onResizeStart:this.$ReactComposerPhotoUploader7.bind(this),onResizeSuccess:this.$ReactComposerPhotoUploader8.bind(this),onResizeFailure:this.$ReactComposerPhotoUploader9.bind(this),onResizeProgress:this.$ReactComposerPhotoUploader10.bind(this),onSphericalCheckSuccess:this.$ReactComposerPhotoUploader11.bind(this),onSphericalCheckFailure:this.$ReactComposerPhotoUploader12.bind(this),onUploadIsSpherical:this.$ReactComposerPhotoUploader13.bind(this),onUploadStart:this.$ReactComposerPhotoUploader14.bind(this),onUploadProgress:this.$ReactComposerPhotoUploader15.bind(this),onUploadSuccess:this.$ReactComposerPhotoUploader16.bind(this),onUploadFailure:this.$ReactComposerPhotoUploader17.bind(this),gks:k.gks});this.$ReactComposerPhotoUploader3=new(c("FaceRecognitionController"))({include_unrecognized_faceboxes:true,include_low_confidence_recognitions:true,include_face_crop_src:true});this.$ReactComposerPhotoUploader3.subscribe("photo",this.$ReactComposerPhotoUploader18.bind(this));this.$ReactComposerPhotoUploader3.subscribe("done",this.$ReactComposerPhotoUploader19.bind(this));this.$ReactComposerPhotoUploader4=new(c("Map"))()}j.prototype.upload=function(k){var l=c("ReactComposerMediaUploadStore").getUploads(this.$ReactComposerPhotoUploader1).size;this.$ReactComposerPhotoUploader2.upload(k,l)};j.prototype.retry=function(k){var l=this.$ReactComposerPhotoUploader2.getAsyncUploadRequest([k]);l.send()};j.prototype.getAsyncUploadRequest=function(k,l){return this.$ReactComposerPhotoUploader2.getAsyncUploadRequest(k,l)};j.prototype.enqueueAsyncUploadRequest=function(k,l,m,n,o){l.forEach(function(p){var q=m.indexMap?m.indexMap.get(p.uploadID):c("ReactComposerMediaUploadStore").getUploads(k).size;c("ReactComposerMediaUploadActions").enqueue(k,p.uploadID,p.name,q,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED,c("ReactComposerMediaUploadType").PHOTO,h.createObjectURL?h.createObjectURL(p):null,n.xyTags,o)});this.getAsyncUploadRequest(l,m).send()};j.prototype.isUploadLimitExceeded=function(k,l){var m=this.getMaxSelectableFilesCount(k),n=!l||!c("AsyncUploadRequest").isSupported()?1:l.length;return n>m};j.prototype.getMaxSelectableFilesCount=function(k){return!!k?c("ReactComposerMediaConfig").photo.limit:1};j.prototype.$ReactComposerPhotoUploader6=function(k){c("ReactComposerMediaUploadActions").enqueue(this.$ReactComposerPhotoUploader1,k.uploadID,k.fileName,c("ReactComposerMediaUploadStore").getUploads(this.$ReactComposerPhotoUploader1).size,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED,c("ReactComposerMediaUploadType").PHOTO,k.fileURL,null,k.isSpherical)};j.prototype.$ReactComposerPhotoUploader13=function(k,l,m){c("ReactComposerMediaUploadActions").isSpherical(this.$ReactComposerPhotoUploader1,k.uploadID,l,m)};j.prototype.$ReactComposerPhotoUploader7=function(k){c("ReactComposerMediaUploadActions").startResizing(this.$ReactComposerPhotoUploader1,k.uploadID,{bytes:k.size});c("QE2Logger").logExposureForUser(i)};j.prototype.$ReactComposerPhotoUploader10=function(k,event){setTimeout(function(){return c("ReactComposerMediaUploadActions").progressResizing(this.$ReactComposerPhotoUploader1,k,100*event.written/event.total)}.bind(this),0)};j.prototype.$ReactComposerPhotoUploader8=function(k,l,m,n){c("ReactComposerMediaUploadActions").doneResizing(this.$ReactComposerPhotoUploader1,k.uploadID,{dt:n,media_data_size:k.size,bytes:l.size,custom_tags:{skipped_resizing:m}})};j.prototype.$ReactComposerPhotoUploader9=function(k,l,m,n){c("ReactComposerMediaUploadActions").failResizing(this.$ReactComposerPhotoUploader1,k.uploadID,{dt:n,bytes:k.size,error_code:m.code,error_info:m.message})};j.prototype.$ReactComposerPhotoUploader11=function(k,l,m){var n=m.isSpherical()&&c("SphericalPhotoConfig").is_www_perceived_perf_on;c("ReactComposerMediaUploadActions").doneSphericalCheck(this.$ReactComposerPhotoUploader1,k.uploadID,{dt:l,projection_type:m.getProjectionType()},m,n)};j.prototype.$ReactComposerPhotoUploader12=function(k,l){var m=arguments.length<=2||arguments[2]===undefined?false:arguments[2],n=m?c("PhotosUploadWaterfallErrorCodes").SPHERICAL_CHECK_TIMEOUT:c("PhotosUploadWaterfallErrorCodes").SPHERICAL_CHECK_FAILED;c("ReactComposerMediaUploadActions").failSphericalCheck(this.$ReactComposerPhotoUploader1,k.uploadID,{error_code:n,dt:l})};j.prototype.$ReactComposerPhotoUploader14=function(k,l){c("ReactComposerMediaUploadActions").startUploading(this.$ReactComposerPhotoUploader1,k,l.upload,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING);this.$ReactComposerPhotoUploader4.set(k,c("performanceNow")())};j.prototype.$ReactComposerPhotoUploader15=function(k,l){setTimeout(function(){return c("ReactComposerMediaUploadActions").progressUploading(this.$ReactComposerPhotoUploader1,k,100*l.event.loaded/l.event.total,false)}.bind(this),0)};j.prototype.$ReactComposerPhotoUploader16=function(k,l){__p&&__p();if(c("ReactComposerMediaUploadStore").getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,k))return;if(!l.response.payload)return;var m=Array.isArray(l.response.payload)?l.response.payload:[l.response.payload],n=this.$ReactComposerPhotoUploader4.get(k)||0,o=n?c("performanceNow")()-n:0,p=m[0],q=m.slice(1);c("ReactComposerMediaUploadActions").doneUploading({composerID:this.$ReactComposerPhotoUploader1,uploadID:k,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE,fileUpload:l.upload,timeToUpload:o,photoID:p.photoID,sphericalPhotoID:p.sphericalPhotoID,thumbSrc:p.thumbSrc,originalPhotoID:p.originalPhotoID,mediaLocation:p.mediaLocation,cubestripURI:c("SphericalPhotoConfig").spherical_photo_www_upload&&p.cubestripURI||null,imageSrc:p.imageSrc,width:p.width,height:p.height,mediaTakenTime:p.mediaTakenTime});c("ReactComposerMediaUtils").changeToPeopleTaggerAfterUpload(this.$ReactComposerPhotoUploader1);this.$ReactComposerPhotoUploader20(k,p,l.upload);q.forEach(function(r){var s=c("PhotosUploadID").getNewID();c("ReactComposerMediaUploadActions").doneUploadingExtra(this.$ReactComposerPhotoUploader1,s,r.photoID,r.thumbSrc,c("SphericalPhotoConfig").spherical_photo_www_upload&&r.cubestripURI||null,r.imageSrc,r.width,r.height);this.$ReactComposerPhotoUploader20(s,r,l.upload)}.bind(this))};j.prototype.$ReactComposerPhotoUploader20=function(k,l,m){if(this.$ReactComposerPhotoUploader21()){c("ReactComposerPhotoActions").startRecognizing(this.$ReactComposerPhotoUploader1,l.photoID);this.$ReactComposerPhotoUploader3.start([l.photoID])}var n=c("ReactComposerMediaUploadStore").getMediaUpload(this.$ReactComposerPhotoUploader1,k);if(n.xyTags)c("ReactComposerMediaUtils").handleXYTagsOnly(this.$ReactComposerPhotoUploader1,n.photoID,n.xyTags)};j.prototype.$ReactComposerPhotoUploader17=function(k,l,m){if(c("ReactComposerMediaUploadStore").getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,k))return;var n=l.response,o={code:n.getError(),description:n.getErrorDescription(),summary:n.getErrorSummary(),"transient":n.isTransient()||n.getError()==1004||n.getError()==1006};c("ReactComposerMediaUploadActions").failUploading(this.$ReactComposerPhotoUploader1,k,l.upload,c("performanceNow")()-this.$ReactComposerPhotoUploader4.get(k),o,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED)};j.prototype.$ReactComposerPhotoUploader18=function(k,l){if(this.$ReactComposerPhotoUploader21())l.faceboxes.forEach(function(m){var n=void 0;if(m.recognitions.length>0){var o=m.recognitions[0].user;n={subjectID:o.fbid,value:o.name}}c("ReactComposerPhotoActions").addFacebox(this.$ReactComposerPhotoUploader1,l.photo,{id:m.fbid,x:m.x,y:m.y,top:m.top,left:m.left,width:m.width,height:m.height,croppedURI:m.src,bestRecognition:n,allRecognitions:m.allRecognitions})}.bind(this));c("ReactComposerPhotoActions").finishRecognizingPhoto(this.$ReactComposerPhotoUploader1,l.photo)};j.prototype.$ReactComposerPhotoUploader19=function(k,l){c("ReactComposerPhotoActions").finishRecognizing(this.$ReactComposerPhotoUploader1,l.unresolved,l.facerecWaterfallEvent||null)};j.prototype.$ReactComposerPhotoUploader21=function(){if(this.$ReactComposerPhotoUploader5.disableFaceRecognition)return false;return c("ifRequired")("ReactComposerOptimisticPostingStore",function(k){return!k.isOptimisticallyPosting(this.$ReactComposerPhotoUploader1)}.bind(this),function(){return true})};f.exports=j}),null);
__d("ReactComposerScrapedAttachmentPhotoDropWarningDialog.react",["fbt","LayerHideOnEscape","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerScrapedAttachmentPhotoDropWarningDialog1=function(){this.props.onCancel&&this.props.onCancel()}.bind(this),this.$ReactComposerScrapedAttachmentPhotoDropWarningDialog2=function(){this.props.onCancel&&this.props.onCancel()}.bind(this),n}l.prototype.componentDidMount=function(){this.refs.dialog&&this.refs.dialog.layer&&this.refs.dialog.layer.subscribe("hide",this.$ReactComposerScrapedAttachmentPhotoDropWarningDialog1)};l.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{ref:"dialog",shown:this.props.shown,width:500,layerHideOnBlur:false,behaviors:{LayerHideOnEscape:c("LayerHideOnEscape")},key:"dialog"},c("React").createElement(c("XUIDialogHeader.react"),null,c("React").createElement(c("XUIDialogHeaderTitle.react"),null,h._("Remove Link Preview"))),c("React").createElement(c("XUIDialogBody.react"),null,h._("Uploading a photo will remove the link preview. Do you want to continue?")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{use:"confirm",onClick:this.props.onConfirm,label:h._("Upload Photo")}),c("React").createElement(c("XUIButton.react"),{onClick:this.props.onCancel,label:h._("Cancel")})))};l.propTypes={shown:k.bool,onConfirm:k.func,onCancel:k.func};f.exports=l}),null);
__d("ReactComposerDragDropPromptContainer.react",["React","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerDragDropPromptLazy.react","ReactComposerFileStore","ReactComposerFileUtils","ReactComposerLoggingName","ReactComposerPhotoUploader","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentPhotoDropWarningDialog.react","ReactComposerScrapedAttachmentStore","ReactComposerStatusUtils","ReactComposerVideoUploadStore","ReactComposerWorkFileStore","FluxContainer"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("ReactComposerWorkFileStore").module;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){__p&&__p();var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={photoDropWarningShown:false,pendingFiles:null},this.$ReactComposerDragDropPromptContainer4=function(q){var r=this.context.composerID,s=c("ReactComposerFileUtils").selectFileOrWorkFileModule(c("ReactComposerFileStore"),j).getMaxFileUploadSize(r);if(c("ReactComposerFileUtils").hasExceededFileSize(q[0],s))return;c("ReactComposerStatusUtils").loadDroppedFile(r,q[0])}.bind(this),this.$ReactComposerDragDropPromptContainer5=function(q){if(c("ReactComposerScrapedAttachmentStore").hasAttachment(this.context.composerID)&&this.state.pendingFiles==null){this.setState({photoDropWarningShown:true,pendingFiles:q});return}if(!this.$ReactComposerDragDropPromptContainer1)return;c("ReactComposerStatusUtils").uploadDroppedMedia(this.context.composerID,q,this.$ReactComposerDragDropPromptContainer1,this.props.config.targetData.targetSupportsMultiMedia,this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],this.context)}.bind(this),this.$ReactComposerDragDropPromptContainer2=function(){this.setState({photoDropWarningShown:false,pendingFiles:null})}.bind(this),this.$ReactComposerDragDropPromptContainer3=function(){var q=this.state.pendingFiles;this.setState({photoDropWarningShown:false,pendingFiles:null});if(q)this.$ReactComposerDragDropPromptContainer5(q)}.bind(this),this.$ReactComposerDragDropPromptContainer6=function(q){c("ReactComposerStatusUtils").scrapeLink(this.context.composerID,this.context.targetID,q,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").LINK_DROPPED)}.bind(this),m}k.getStores=function(){"use strict";return[c("ReactComposerVideoUploadStore")]};k.calculateState=function(l,m,n){"use strict";var o=n.composerID;return{pendingFiles:l&&l.pendingFiles,photoDropWarningShown:!!(l&&l.photoDropWarningShown),enabled:!c("ReactComposerVideoUploadStore").getVideo(o)}};k.prototype.componentWillMount=function(){"use strict";var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],m=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA];this.$ReactComposerDragDropPromptContainer1=new(c("ReactComposerPhotoUploader"))(this.context,m.photoLimit,{disableFaceRecognition:m.disableFaceboxTagger});c("ReactComposerScrapedAttachmentActions").enabled(this.context.composerID,l.canScrapeShare)};k.prototype.renderLayers=function(){"use strict";return c("React").createElement(c("ReactComposerScrapedAttachmentPhotoDropWarningDialog.react"),{shown:this.state.photoDropWarningShown,onCancel:this.$ReactComposerDragDropPromptContainer2,onConfirm:this.$ReactComposerDragDropPromptContainer3,key:"photoDropWarningDialog"})};k.prototype.render=function(){"use strict";if(!this.state.enabled)return c("React").createElement("span",null,this.renderLayers());return c("React").createElement("span",null,c("React").createElement(c("ReactComposerDragDropPromptLazy.react"),{root:this.props.root,onFilesDrop:this.$ReactComposerDragDropPromptContainer4,onMediaDrop:this.$ReactComposerDragDropPromptContainer5,onURLDrop:this.$ReactComposerDragDropPromptContainer6}),this.renderLayers())};k.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(k,{withProps:true,withContext:true})}),null);
__d("ReactComposerLiveVideoPreviewButton.react",["fbt","React","XUIAmbientNUX.react","XUIButton.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.$ReactComposerLiveVideoPreviewButton1=function(){"use strict";return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.button}.bind(this),shown:this.props.showNUX,position:"below",width:"auto",onCloseButtonClick:this.props.onNUXCloseButtonClick},h._("Click to continue. The next screen will show a preview before you go live."))};l.prototype.render=function(){"use strict";return c("React").createElement("span",null,c("React").createElement(c("XUIButton.react"),{disabled:this.props.disabled,ref:"button",label:h._("Next"),onClick:this.props.onClick,use:"confirm"}),this.$ReactComposerLiveVideoPreviewButton1())};function l(){"use strict";i.apply(this,arguments)}l.propTypes={disabled:k.bool,showNUX:k.bool,onClick:function m(){},onNUXCloseButtonClick:function m(){}};f.exports=l}),null);
__d("ReactComposerCollageDragHandler",["Map","Vector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(m){return m.reduce(function(n,o){return n+o})}function i(m){var n=m.length;if(n===0)return null;var o=h(m.map(function(q){return q.x}))/n,p=h(m.map(function(q){return q.y}))/n;return new(c("Vector"))(o,p)}function j(m){__p&&__p();var n=m.length;if(n===0)return null;var o=0,p=0;for(var q=0;q<n;q++){var r=m.item(q);o+=r.pageX;p+=r.pageY}return new(c("Vector"))(o/n,p/n)}function k(event){return event.buttons!==undefined?event.buttons&1:event.button===0&&event.type!=="mouseup"}function l(m,n,o,p){this.$ReactComposerCollageDragHandler1=m;this.$ReactComposerCollageDragHandler2=n;this.$ReactComposerCollageDragHandler3=o;this.$ReactComposerCollageDragHandler4=p;this.$ReactComposerCollageDragHandler7=false;this.$ReactComposerCollageDragHandler5=new(c("Map"))()}l.prototype.onMouseDown=function(event){if(k(event)){this.$ReactComposerCollageDragHandler7=true;this.$ReactComposerCollageDragHandler8(event);this.$ReactComposerCollageDragHandler2(this.$ReactComposerCollageDragHandler1,this.$ReactComposerCollageDragHandler6)}};l.prototype.onMouseUp=function(event){if(!k(event)&&this.$ReactComposerCollageDragHandler7){this.$ReactComposerCollageDragHandler7=false;this.$ReactComposerCollageDragHandler8(event);this.$ReactComposerCollageDragHandler4(this.$ReactComposerCollageDragHandler1,this.$ReactComposerCollageDragHandler6)}};l.prototype.onMouseMove=function(event){if(!k(event))this.$ReactComposerCollageDragHandler7=false;if(this.$ReactComposerCollageDragHandler7){var m=this.$ReactComposerCollageDragHandler8(event);this.$ReactComposerCollageDragHandler3(this.$ReactComposerCollageDragHandler1,this.$ReactComposerCollageDragHandler6,m)}};l.prototype.onBlur=function(event){if(this.$ReactComposerCollageDragHandler7)this.$ReactComposerCollageDragHandler4(this.$ReactComposerCollageDragHandler1,this.$ReactComposerCollageDragHandler6);this.$ReactComposerCollageDragHandler7=false;this.$ReactComposerCollageDragHandler6=null;if(this.$ReactComposerCollageDragHandler5.size>0)this.$ReactComposerCollageDragHandler4(this.$ReactComposerCollageDragHandler1,j(Array.from(this.$ReactComposerCollageDragHandler5.values())));this.$ReactComposerCollageDragHandler5=new(c("Map"))()};l.prototype.onTouchStart=function(event){if(this.$ReactComposerCollageDragHandler5.size===0){var m=j(event.targetTouches);this.$ReactComposerCollageDragHandler2(this.$ReactComposerCollageDragHandler1,m)}this.$ReactComposerCollageDragHandler9(event)};l.prototype.onTouchMove=function(event){var m=j(event.targetTouches),n=this.$ReactComposerCollageDragHandler9(event);this.$ReactComposerCollageDragHandler3(this.$ReactComposerCollageDragHandler1,m,n)};l.prototype.onTouchEnd=function(event){this.$ReactComposerCollageDragHandler9(event);if(!event.targetTouches.length)this.$ReactComposerCollageDragHandler4(this.$ReactComposerCollageDragHandler1,j(event.changedTouches))};l.prototype.onTouchCancel=function(event){this.$ReactComposerCollageDragHandler9(event);if(!event.targetTouches.length)this.$ReactComposerCollageDragHandler4(this.$ReactComposerCollageDragHandler1,j(event.changedTouches))};l.prototype.$ReactComposerCollageDragHandler8=function(event){var m=new(c("Vector"))(event.pageX,event.pageY),n=null;if(this.$ReactComposerCollageDragHandler6)n=m.sub(this.$ReactComposerCollageDragHandler6);this.$ReactComposerCollageDragHandler6=m;return n};l.prototype.$ReactComposerCollageDragHandler9=function(event){__p&&__p();event.preventDefault();var m=[],n=this.$ReactComposerCollageDragHandler5;this.$ReactComposerCollageDragHandler5=new(c("Map"))();for(var o=0;o<event.targetTouches.length;o++){var p=event.targetTouches.item(o),q=new(c("Vector"))(p.pageX,p.pageY),r=n.get(p.identifier);this.$ReactComposerCollageDragHandler5.set(p.identifier,q);if(r)m.push(q.sub(r))}var s=i(m);return s};f.exports=l}),null);
__d("ReactComposerPhotoActionButton.react",["cx","React","Tooltip","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=c("joinClasses")(this.props.className,"_jfh");return c("React").createElement("button",babelHelpers["extends"]({className:m,onClick:this.props.onClick,tabIndex:"0","aria-label":this.props.tooltip},c("Tooltip").propsFor(this.props.tooltip)),c("React").createElement("div",{className:this.props.iconClassName}))};function l(){i.apply(this,arguments)}l.propTypes={tooltip:k.node,className:k.string,onClick:k.func,iconClassName:k.string};f.exports=l}),null);
__d("ReactComposerPhotoEditActionButton.react",["cx","fbt","React","ReactComposerPhotoActionButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=i._("Edit Photo");return c("React").createElement(c("ReactComposerPhotoActionButton.react"),{className:"_4_z4",onClick:this.props.onClick,tooltip:n,iconClassName:"_4_z5"})};function m(){j.apply(this,arguments)}m.propTypes={onClick:l.func};f.exports=m}),null);
__d("ReactComposerMediaAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_MEDIA_CONFIG:null},"ReactComposerMediaAttachmentActionType")}),null);
__d("ReactComposerMediaAttachmentStore",["ReactComposerMediaAttachmentActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k=void 0;i.constructor.call(this,function(){return{createAlbumLink:null,taggingDataSource:null,videoUploader:null,videoProgressBar:null,videoProgressBarInstance:null}},function(l){switch(l.type){case c("ReactComposerMediaAttachmentActionType").SET_MEDIA_CONFIG:k&&k.$ReactComposerMediaAttachmentStore1(l);break}});k=this}j.prototype.getCreateAlbumLink=function(k){"use strict";return this.getComposerData(k).createAlbumLink};j.prototype.getTaggingDataSource=function(k){"use strict";return this.getComposerData(k).taggingDataSource};j.prototype.getVideoUploader=function(k){"use strict";return this.getComposerData(k).videoUploader};j.prototype.getVideoProgressBarInstance=function(k){"use strict";return this.getComposerData(k).videoProgressBarInstance};j.prototype.getVideoProgressBar=function(k){"use strict";return this.getComposerData(k).videoProgressBar};j.prototype.$ReactComposerMediaAttachmentStore1=function(k){"use strict";var l=this.getComposerData(k.composerID);l.createAlbumLink=k.config.createAlbumLink;l.taggingDataSource=k.config.taggingDataSource;l.videoUploader=k.config.videoUploader;l.videoProgressBar=k.config.videoProgressBar;l.videoProgressBarInstance=k.config.videoProgressBarInstance;this.emitChange(k.composerID)};f.exports=new j()}),null);
__d("ReactComposerFaceboxTaggerTypeaheadPresenter",["cx","React","XUITypeaheadView.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_3ntx"},c("React").createElement(c("XUITypeaheadView.react"),this.props))};function k(){i.apply(this,arguments)}var l={ViewRenderer:k,useLayer:true};f.exports=l}),null);
__d("ReactComposerPhotoFaceboxTagger.react",["cx","fbt","React","ReactComposerFaceboxTaggerTypeaheadPresenter","XUITypeahead.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={query:""},this.$ReactComposerPhotoFaceboxTagger1=function(s){this.props.onTagAdded(this.props.faceboxID,s.getUniqueID(),s.getTitle())}.bind(this),this.$ReactComposerPhotoFaceboxTagger2=function(event){this.setState({query:event.target.value})}.bind(this),o}m.prototype.render=function(){var n=i._("Who is this?");return c("React").createElement(c("XUITypeahead.react"),{className:"_xgd",queryString:this.state.query,placeholder:n,onSelectAttempt:this.$ReactComposerPhotoFaceboxTagger1,onChange:this.$ReactComposerPhotoFaceboxTagger2,searchSource:this.props.dataSource,highlightOnSelect:true,showEntriesOnFocus:true,autoHighlight:true,selectOnTab:true,focusedOnInit:true,presenter:c("ReactComposerFaceboxTaggerTypeaheadPresenter")})};m.propTypes={faceboxID:l.string.isRequired,dataSource:l.object.isRequired,onTagAdded:l.func.isRequired};f.exports=m}),null);
__d("ReactComposerQAndAActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_QANDA_CONFIG:null},"ReactComposerQAndAActionType")}),null);
__d("ReactComposerQAndAStore",["ReactComposerQAndAActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k=void 0;i.constructor.call(this,function(){return{photoLimit:1,profilePicURI:null,profileURI:null,faceboxDataSource:null}},function(l){switch(l.type){case c("ReactComposerQAndAActionType").SET_QANDA_CONFIG:k&&k.$ReactComposerQAndAStore1(l);break}});k=this}j.prototype.getPhotoLimit=function(k){"use strict";return this.getComposerData(k).photoLimit};j.prototype.getProfilePicSrc=function(k){"use strict";return this.getComposerData(k).profilePicSrc};j.prototype.getProfileURI=function(k){"use strict";return this.getComposerData(k).profileURI};j.prototype.getFaceboxDataSource=function(k){"use strict";return this.getComposerData(k).faceboxDataSource};j.prototype.$ReactComposerQAndAStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","config"]),m=l[0],n=l[1],o=this.getComposerData(m);o.photoLimit=n.photoLimit;o.profilePicSrc=n.profilePicSrc;o.profileURI=n.profileURI;o.faceboxDataSource=n.faceboxDataSource;this.emitChange(k.composerID)};f.exports=new j()}),null);
__d("ReactComposerPhotoFaceboxTaggerContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerMediaAttachmentStore","ReactComposerPhotoFaceboxTagger.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerQAndAStore"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerPhotoFaceboxTaggerContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerMediaAttachmentStore"),c("ReactComposerQAndAStore"))],propTypes:{faceboxID:h.string.isRequired,onTagAdded:h.func.isRequired},statics:{calculateState:function j(k){var l=c("ReactComposerMediaAttachmentStore").getTaggingDataSource(k)||c("ReactComposerQAndAStore").getFaceboxDataSource(k);l&&l.bootstrap();return{dataSource:l}}},render:function j(){return c("React").createElement(c("ReactComposerPhotoFaceboxTagger.react"),{faceboxID:this.props.faceboxID,dataSource:this.state.dataSource,onTagAdded:this.props.onTagAdded})}});f.exports=i}),null);
__d("ReactComposerPhotoProductTagActionButton.react",["cx","fbt","AsyncRequest","CommerceProductTaggerType","CommerceSelfServeNUXType","React","ReactComposerPhotoActionButton.react","ReactComposerTaggerActions","ReactComposerTaggerType","XCommerceSelfServeMerchantNUXSeenController","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerPhotoProductTagActionButton2=function(){var s=c("XCommerceSelfServeMerchantNUXSeenController").getURIBuilder().setInt("page_id",this.props.pageID).setEnum("nux_type",c("CommerceSelfServeNUXType").COMPOSER_PRODUCT_PHOTO_TAGGER_BUTTON).getURI();new(c("AsyncRequest"))(s).send();this.props.onHideNux()}.bind(this),o}m.prototype.render=function(){var n=i._("Tag Products");return c("React").createElement("div",null,c("React").createElement(c("ReactComposerPhotoActionButton.react"),{ref:"fbReactComposerPhotoActionbutton",className:"_a69"+(this.props.hasTag?" _a6b":""),tooltip:n,iconClassName:"_a6_",onClick:this.props.onClick}),this.$ReactComposerPhotoProductTagActionButton1())};m.prototype.$ReactComposerPhotoProductTagActionButton1=function(){if(!this.props.showNux)return null;var n=this.props.productTaggerType,o=n===c("CommerceProductTaggerType").SHOP_PAGE?i._("Tag products from your shop in this photo"):i._("Tag products in this photo");return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.fbReactComposerPhotoActionbutton}.bind(this),onCloseButtonClick:this.$ReactComposerPhotoProductTagActionButton2,position:"right",shown:true,width:"auto"},o)};m.propTypes={composerID:l.string.isRequired,pageID:l.string.isRequired,productTaggerType:l.string.isRequired,hasTag:l.bool.isRequired,onClick:l.any,onHideNux:l.func.isRequired,showNux:l.bool.isRequired};f.exports=m}),null);
__d("ReactComposerPhotoTagActionButton.react",["cx","fbt","React","ReactComposerPhotoActionButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=i._("Tag");return c("React").createElement(c("ReactComposerPhotoActionButton.react"),{className:"_cwf"+(this.props.hasTag?" _cwh":""),tooltip:n,iconClassName:"_cwg",onClick:this.props.onClick})};function m(){j.apply(this,arguments)}m.propTypes={hasTag:l.bool.isRequired,onClick:l.any};f.exports=m}),null);
__d("ReactComposerPhotoTaggedFaceboxSummary.react",["cx","fbt","ix","Image.react","LeftRight.react","React","TooltipLink.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerPhotoTaggedFaceboxSummary1=function(){this.props.onTagRemoved(this.props.faceboxID,this.props.taggedSubjectID)}.bind(this),p}n.prototype.render=function(){var o=i._("Edit Name");return c("React").createElement(c("LeftRight.react"),{className:"_31bg"},c("React").createElement("div",{className:"_31bh"},this.props.taggedValue),c("React").createElement(c("TooltipLink.react"),{alignH:"center",position:"below",tooltip:o,onClick:this.$ReactComposerPhotoTaggedFaceboxSummary1},c("React").createElement(c("Image.react"),{src:j("76906")})))};n.propTypes={faceboxID:m.string.isRequired,onTagRemoved:m.func.isRequired,taggedSubjectID:m.string.isRequired,taggedValue:m.string.isRequired};f.exports=n}),null);
__d("ReactComposerPhotoTagger.react",["cx","fbt","ActorURI","AsyncRequest","CommerceProductTaggerType","ContextualLayerAutoFlip","Image.react","ImageBlock.react","immutable","LayerHideOnBlur","LayerHideOnEscape","LayerTabIsolation","ModalPhotoEditorTabName","PhotoEditorTargetType","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerPhotoActions","ReactComposerPhotoEditActionButton.react","ReactComposerPhotoFaceboxTaggerContainer.react","ReactComposerPhotoProductTagActionButton.react","ReactComposerPhotoStore","ReactComposerPhotoTagActionButton.react","ReactComposerPhotoTaggedFaceboxSummary.react","ReactLayeredComponentMixin_DEPRECATED","XStickerPhotoEditorController","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIDialogCloseButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=268,l=32,m=c("React").createClass({displayName:"ReactComposerPhotoTagger",_photoEditorRequest:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactLayeredComponentMixin_DEPRECATED"),c("ReactComponentWithPureRenderMixin")],propTypes:{canTagFromModal:j.bool,draggingPhotos:j.bool,enableFaceboxTagger:j.bool.isRequired,disablePhotoEditing:j.bool.isRequired,faceboxes:j.instanceOf(c("immutable").Map).isRequired,onEditClick:j.func,onHideProductTaggerNux:j.func.isRequired,onTagAdded:j.func.isRequired,onTagIntent:j.func,onTagRemoved:j.func.isRequired,originalID:j.string,photoID:j.string.isRequired,productTaggerType:j.string.isRequired,shown:j.bool.isRequired,showProductTaggerNux:j.bool.isRequired},getDefaultProps:function n(){return{shown:false}},componentWillReceiveProps:function n(o){if(!this.props.draggingPhotos&&o.draggingPhotos)c("ReactComposerPhotoActions").setPhotoBeingTagged(this.context.composerID,null)},render:function n(){__p&&__p();var o=null,p=this.props.productTaggerType!==c("CommerceProductTaggerType").NONE;if(p)o=this._onProductTagClick;else if(this.props.canTagFromModal)o=this._onTagClick;var q=null;if(p)q=c("React").createElement(c("ReactComposerPhotoProductTagActionButton.react"),{composerID:this.context.composerID,productTaggerType:this.props.productTaggerType,pageID:this.context.targetID,hasTag:c("ReactComposerPhotoStore").hasTagsInPhoto(this.context.composerID,this.props.photoID),onClick:o,onHideNux:this.props.onHideProductTaggerNux,showNux:this.props.showProductTaggerNux});else if(this.props.enableFaceboxTagger)q=c("React").createElement(c("ReactComposerPhotoTagActionButton.react"),{hasTag:c("ReactComposerPhotoStore").hasTagsInPhoto(this.context.composerID,this.props.photoID),onClick:o});var r=this.props.disablePhotoEditing?null:c("React").createElement(c("ReactComposerPhotoEditActionButton.react"),{onClick:this._onEditClick});return c("React").createElement("div",{className:"_jfi"+(p?" uiContextualLayerParent":""),onClick:this._onClick,role:"presentation",tabIndex:"-1"},q,r)},renderLayers:function n(){if(!this.props.shown||!this.props.enableFaceboxTagger)return null;return{dialog:this._getDialog()}},_getDialog:function n(){return c("React").createElement(c("XUIContextualDialog.react"),{ref:"dialog",shown:this.props.shown,onToggle:this._onDialogToggled,contextRef:function(){return this}.bind(this),position:"below",alignment:"center",width:k,behaviors:{LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape"),ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),LayerTabIsolation:c("LayerTabIsolation")}},c("React").createElement(c("XUIContextualDialogBody.react"),null,this._getDialogBody()),c("React").createElement(c("XUIContextualDialogFooter.react"),null,c("React").createElement(c("XUIDialogCloseButton.react"),{use:"confirm",label:"Close",onClick:this._onCloseButtonClicked})))},_getDialogBody:function n(){if(this.props.faceboxes.size===0)return i._("We could not find any faces to tag.");return this.props.faceboxes.valueSeq().map(function(o){var p=o.taggedSubjectID?c("React").createElement(c("ReactComposerPhotoTaggedFaceboxSummary.react"),{faceboxID:o.id,onTagRemoved:this.props.onTagRemoved,taggedSubjectID:o.taggedSubjectID,taggedValue:o.taggedValue}):c("React").createElement(c("ReactComposerPhotoFaceboxTaggerContainer.react"),{faceboxID:o.id,onTagAdded:this.props.onTagAdded});return c("React").createElement(c("ImageBlock.react"),{key:o.id,className:"_qv7"},c("React").createElement(c("Image.react"),{className:"_qv8",height:l,src:o.croppedURI,width:l}),p)}.bind(this))},_onCloseButtonClicked:function n(){c("ReactComposerPhotoActions").setPhotoBeingTagged(this.context.composerID,null)},_onDialogToggled:function n(o){if(!o)this._onCloseButtonClicked()},_onClick:function n(){this.props.onTagIntent&&this.props.onTagIntent();c("ReactComposerPhotoActions").setPhotoBeingTagged(this.context.composerID,this.props.photoID)},_onTagClick:function n(event){this._onEditClick(event,null,c("ModalPhotoEditorTabName").TAG)},_onProductTagClick:function n(event){this._onEditClick(event,null,c("ModalPhotoEditorTabName").PRODUCT_TAG)},_onEditClick:function n(event,o,p){__p&&__p();event.stopPropagation();if(this._photoEditorRequest)return;c("ReactComposerPhotoActions").startPhotoEdit(this.context.composerID,this.props.photoID);var q=c("XStickerPhotoEditorController").getURIBuilder().setString("grid_id",this.context.composerID).setEnum("target_type",c("PhotoEditorTargetType").COMPOSER).setInt("latest_fbid",this.props.photoID).setInt("photo_fbid",this.props.originalID||this.props.photoID).setEnum("initial_tab",p).getURI();q=c("ActorURI").create(q,this.context.actorID);this._photoEditorRequest=new(c("AsyncRequest"))(q).setFinallyHandler(function(){this._photoEditorRequest=null;c("ReactComposerPhotoActions").finishLoadingPhotoEdit(this.context.composerID,this.props.photoID)}.bind(this));this._photoEditorRequest&&this._photoEditorRequest.send();this.props.onEditClick&&this.props.onEditClick()}});f.exports=m}),null);
__d("ReactComposerCollagePhoto.react",["cx","BootloadedComponent.react","CircularProgressBar.react","CommerceProductTaggerType","Image.react","immutable","JSResource","React","ReactComposerCollageDragHandler","ReactComposerContextTypes","ReactComposerPhotoTagger.react","SphericalMediaGyroIcon.react","XUICloseButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){__p&&__p();var m={height:this.props.containerHeight,overflow:"hidden",position:"relative",width:this.props.containerWidth},n=Boolean(this.props.isSpherical||this.props.sphericalPhotoID),o=void 0,p=void 0,q=void 0,r=void 0,s=void 0;if(!n){s=this.$ReactComposerCollagePhoto1();if(!this.props.isDragging)r=this.$ReactComposerCollagePhoto2()}else r=this.$ReactComposerCollagePhoto3();if(!this.props.isDragging)o=this.$ReactComposerCollagePhoto4();if(this.props.isRecognizingFaceboxes||this.props.isLoadingPhotoEdit||this.props.uploading&&this.props.uploadProgress===100)q=this.$ReactComposerCollagePhoto5();if(this.props.uploading&&this.props.uploadProgress<100)p=c("React").createElement(c("CircularProgressBar.react"),{percentComplete:this.props.uploadProgress});var t="_jfc _4c06";return c("React").createElement("div",{ref:"root",className:t,onMouseDown:function(u){return this.props.dragHandler.onMouseDown(u)}.bind(this),onMouseUp:function(u){return this.props.dragHandler.onMouseUp(u)}.bind(this),onMouseMove:function(u){return this.props.dragHandler.onMouseMove(u)}.bind(this),onTouchStart:function(u){return this.props.dragHandler.onTouchStart(u)}.bind(this),onTouchMove:function(u){return this.props.dragHandler.onTouchMove(u)}.bind(this),onTouchEnd:function(u){return this.props.dragHandler.onTouchEnd(u)}.bind(this),onTouchCancel:function(u){return this.props.dragHandler.onTouchCancel(u)}.bind(this),style:m},s,c("React").createElement("div",{onMouseDown:function u(v){return v.stopPropagation()}},o,r),q,p)};l.prototype.$ReactComposerCollagePhoto5=function(){return c("React").createElement("div",{className:"_do4"},c("React").createElement("div",{className:"_do5"},c("React").createElement("div",{className:"_do6"})))};l.prototype.$ReactComposerCollagePhoto2=function(){if(!this.props.posting&&!this.props.uploading)return c("React").createElement(c("ReactComposerPhotoTagger.react"),{draggingPhotos:false,enableFaceboxTagger:this.props.enableFaceboxTagger,productTaggerType:this.props.productTaggerType,disablePhotoEditing:!this.props.enablePhotoEditing,faceboxes:this.props.faceboxes,onTagAdded:this.props.onTagAdded,onTagRemoved:this.props.onTagRemoved,showProductTaggerNux:false,onHideProductTaggerNux:this.props.onHideProductTaggerNux,photoID:this.props.photoID,shown:this.props.showPhotoTagger});return null};l.prototype.$ReactComposerCollagePhoto3=function(){if(this.props.uploading)return c("React").createElement("div",null,this.$ReactComposerCollagePhoto1(),c("React").createElement(c("SphericalMediaGyroIcon.react"),{className:"_jk8"}));var m=!(this.props.posting||this.props.uploading||this.props.isDragging);return c("React").createElement("div",null,c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerSphericalPhoto.react").__setRef("ReactComposerCollagePhoto.react"),bootloadPlaceholder:this.$ReactComposerCollagePhoto5(),loadingElement:this.$ReactComposerCollagePhoto5(),className:"_5g6c",containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,height:this.props.height,imageStyle:this.props.style,photoID:this.props.photoID,showEditButton:m,sphericalPhotoID:this.props.sphericalPhotoID,thumbSrc:this.props.imageSrc,uploadID:this.props.uploadID,width:this.props.width}))};l.prototype.$ReactComposerCollagePhoto4=function(){if(!this.props.posting)return c("React").createElement(c("XUICloseButton.react"),{className:"_jfe",onClick:this.props.onRemoveButtonClicked,onMouseDown:function m(n){return n.stopPropagation()},size:"medium",shade:"light"});return null};l.prototype.$ReactComposerCollagePhoto1=function(){return c("React").createElement(c("Image.react"),{src:this.props.fileURL,width:this.props.width,height:this.props.height,style:this.props.style})};function l(){i.apply(this,arguments)}l.defaultProps={width:0,height:0,photoID:"",style:{},posting:false,showPhotoTagger:false,enableFaceboxTagger:false,productTaggerType:c("CommerceProductTaggerType").NONE,enablePhotoEditing:true,isSpherical:false};l.propTypes={uploadID:k.string.isRequired,uploading:k.bool.isRequired,photoID:k.string,width:k.number.isRequired,height:k.number.isRequired,containerWidth:k.number.isRequired,containerHeight:k.number.isRequired,dragHandler:k.instanceOf(c("ReactComposerCollageDragHandler")).isRequired,isDragging:k.bool.isRequired,fileURL:k.string.isRequired,style:k.object.isRequired,uploadProgress:k.number.isRequired,faceboxes:k.instanceOf(c("immutable").Map),imageSrc:k.string,isLoadingPhotoEdit:k.bool,isRecognizingFaceboxes:k.bool,isSpherical:k.bool,sphericalPhotoID:k.string,enableFaceboxTagger:k.bool.isRequired,enablePhotoEditing:k.bool.isRequired,productTaggerType:k.string.isRequired,onHideProductTaggerNux:k.func.isRequired,showPhotoTagger:k.bool.isRequired,onTagAdded:k.func.isRequired,onTagRemoved:k.func.isRequired};l.contextTypes=c("ReactComposerContextTypes");f.exports=l}),null);
__d("ReactComposerCollagePhotoContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerCollageDragHandler","ReactComposerCollagePhoto.react","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerPhotoActions","ReactComposerPhotoStore","ReactComposerPhotoUploadState","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerCollagePhotoContainer",mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerStore"),c("ReactComposerPhotoStore"),c("ReactComposerMediaUploadStore"))],propTypes:{upload:h.object.isRequired,itemWidth:h.number.isRequired,itemHeight:h.number.isRequired,opacity:h.number,enableFaceboxTagger:h.bool,enablePhotoEditing:h.bool,dragHandler:h.instanceOf(c("ReactComposerCollageDragHandler")).isRequired,isDragging:h.bool,productTaggerType:h.string,focus:h.object.isRequired,containerWidth:h.number.isRequired,containerHeight:h.number.isRequired,isSpherical:h.bool,onRemoveItem:h.func},statics:{calculateState:function j(k,l){var m=l.upload,n=this._overallProgress(m);if(m.state==c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE){var o=c("ReactComposerPhotoStore").getPhoto(k,l.upload.photoID),p=c("ReactComposerPhotoStore").getPhotoBeingTagged(k)===l.upload.photoID;return{uploading:false,overallProgress:n,faceboxes:o.faceboxes,isLoadingPhotoEdit:o.isLoadingPhotoEdit,isRecognizingFaceboxes:o.isRecognizingFaceboxes,isSpherical:m.isSpherical,isSphericalDisabled:Boolean(m.sphericalPhotoID),sphericalPhotoID:m.sphericalPhotoID,showPhotoTagger:p,imageSrc:o.imageSrc}}else return{isSpherical:m.isSpherical,uploading:true,overallProgress:n}},_overallProgress:function j(k){switch(k.state){case c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_STARTED:return.1*k.progress;case c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_UPLOADING:return.1*100+.9*k.progress;case c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE:return 100;default:return 0}}},render:function j(){var k=this._calculateSmallestFitSize(this.props.containerWidth,this.props.containerHeight),l=this._generateStyle(k,this.props.containerWidth,this.props.containerHeight);return c("React").createElement(c("ReactComposerCollagePhoto.react"),{ref:"container",uploadID:this.props.upload.id,photoID:this.props.upload.photoID,width:k.width,height:k.height,dragHandler:this.props.dragHandler,isDragging:this.props.isDragging,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,fileURL:this.props.upload.fileURL,style:l,posting:this.state.posting,uploading:this.state.uploading,uploadProgress:this.state.overallProgress,faceboxes:this.state.faceboxes,imageSrc:this.state.imageSrc,isLoadingPhotoEdit:this.state.isLoadingPhotoEdit,isRecognizingFaceboxes:this.state.isRecognizingFaceboxes,isSpherical:this.state.isSpherical,sphericalPhotoID:this.state.sphericalPhotoID,enableFaceboxTagger:this.props.enableFaceboxTagger,enablePhotoEditing:this.props.enablePhotoEditing,productTaggerType:this.props.productTaggerType,onEditClick:this._onEditClick,showPhotoTagger:this.state.showPhotoTagger,onHideProductTaggerNux:this._onHideProductTaggerNux,onTagAdded:this._onTagAdded,onTagRemoved:this._onTagRemoved,onRemoveButtonClicked:this._onRemoveButtonClicked})},_calculateSmallestFitSize:function j(k,l){var m=this.props,n=m.itemWidth,o=m.itemHeight;if(this.state.isSpherical&&this.state.uploading){o=this.props.upload.height;n=this.props.upload.width}var p=Math.max(k/n,l/o);return{width:Math.round(n*p),height:Math.round(o*p)}},_generateStyle:function j(k,l,m){var n=(k.width-l)/k.width*50,o=(k.height-m)/k.height*50,p=this.props.focus.x>=50?Math.min(this.props.focus.x,50+n):Math.max(this.props.focus.x,50-n),q=this.props.focus.y>=50?Math.min(this.props.focus.y,50+o):Math.max(this.props.focus.y,50-o),r="translate(-"+p+"%, -"+q+"%)",s={position:"absolute",left:"50%",top:"50%",WebkitTransformOrigin:"0% 0%",MozTransformOrigin:"0% 0%",msTransformOrigin:"0% 0%",WebkitTransform:r,MozTransform:r,msTransform:r};if(this.props.opacity)s.opacity=this.props.opacity;return s},_onRemoveButtonClicked:function j(){this.props.onRemoveItem&&this.props.onRemoveItem(this.props.upload.id);if(this.state.uploading)c("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.upload.id);else c("ReactComposerPhotoActions").removePhoto(this.context.composerID,this.props.upload.photoID,this.props.upload.id)},_onTagRemoved:function j(k,l){c("ReactComposerPhotoActions").untagFacebox(this.context.composerID,this.props.upload.photoID,k,l)},_onTagAdded:function j(k,l,m){c("ReactComposerPhotoActions").tagFacebox(this.context.composerID,this.props.upload.photoID,k,l,m)},_onHideProductTaggerNux:function j(){},_onEditClick:function j(){}});i.contextTypes=c("ReactComposerContextTypes");f.exports=i}),null);
__d("ReactComposerCollageVideo.react",["cx","CircularProgressBar.react","React","ReactComposerCollageDragHandler","XUICloseButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerCollageVideo2=function(r){var s=this.refs.video_element,t=this.refs.play_button;if(s.paused){s.play();t.style.display="none"}else{s.pause();t.style.display="block"}r.stopPropagation()}.bind(this),n}l.prototype.render=function(){__p&&__p();var m={height:this.props.containerHeight,overflow:"hidden",position:"relative",width:this.props.containerWidth},n=void 0;if(!this.props.posting)n=c("React").createElement(c("XUICloseButton.react"),{className:"_1sju",onClick:this.props.onRemoveButtonClicked,size:"medium",shade:"light"});var o=this.$ReactComposerCollageVideo1();return c("React").createElement("div",{ref:"root",className:"_1sjs _3dx6",style:m,onMouseDown:function(p){return this.props.dragHandler.onMouseDown(p)}.bind(this),onMouseUp:function(p){return this.props.dragHandler.onMouseUp(p)}.bind(this),onMouseMove:function(p){return this.props.dragHandler.onMouseMove(p)}.bind(this),onTouchStart:function(p){return this.props.dragHandler.onTouchStart(p)}.bind(this),onTouchMove:function(p){return this.props.dragHandler.onTouchMove(p)}.bind(this),onTouchEnd:function(p){return this.props.dragHandler.onTouchEnd(p)}.bind(this),onTouchCancel:function(p){return this.props.dragHandler.onTouchCancel(p)}.bind(this)},c("React").createElement("div",{onMouseDown:function p(q){return q.stopPropagation()}},n),o,c("React").createElement("div",{className:"_1oxz",onClick:this.$ReactComposerCollageVideo2,onMouseDown:function p(q){return q.stopPropagation()},ref:"play_button",role:"button",tabIndex:"0"}),c("React").createElement(c("CircularProgressBar.react"),{percentComplete:50*Math.log10(Math.max(1,this.props.uploadProgress))}))};l.prototype.$ReactComposerCollageVideo1=function(){return c("React").createElement("video",{ref:"video_element",loop:true,muted:true,src:this.props.fileURL,width:this.props.width,height:this.props.height,style:this.props.style})};l.defaultProps={width:0,height:0,style:{},posting:false};l.propTypes={width:k.number.isRequired,height:k.number.isRequired,containerWidth:k.number.isRequired,containerHeight:k.number.isRequired,dragHandler:k.instanceOf(c("ReactComposerCollageDragHandler")).isRequired,fileURL:k.string.isRequired,style:k.object.isRequired,uploadProgress:k.number.isRequired};f.exports=l}),null);
__d("ReactComposerCollageVideoContainer.react",["React","ReactComposerCollageDragHandler","ReactComposerCollageVideo.react","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerCollageVideoContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerStore"),c("ReactComposerMediaUploadStore"))],propTypes:{upload:h.object.isRequired,itemWidth:h.number.isRequired,itemHeight:h.number.isRequired,fileURL:h.string.isRequired,dragHandler:h.instanceOf(c("ReactComposerCollageDragHandler")).isRequired,opacity:h.number,focus:h.object.isRequired,containerWidth:h.number.isRequired,containerHeight:h.number.isRequired,onRemoveItem:h.func},statics:{calculateState:function j(k,l){return{overallProgress:l.upload.progress||0}}},render:function j(){var k=this._calculateSmallestFitSize(this.props.containerWidth,this.props.containerHeight),l=this._generateStyleFromFocus(k,this.props.containerWidth,this.props.containerHeight);if(this.props.opacity)l.opacity=this.props.opacity;return c("React").createElement("div",null,c("React").createElement(c("ReactComposerCollageVideo.react"),{ref:"container",width:k.width,height:k.height,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,dragHandler:this.props.dragHandler,fileURL:this.props.fileURL,style:l,uploadProgress:this.state.overallProgress,posting:this.state.posting,onRemoveButtonClicked:this._onRemoveButtonClicked}))},_calculateSmallestFitSize:function j(k,l){var m=Math.max(k/this.props.itemWidth,l/this.props.itemHeight);return{width:Math.round(this.props.itemWidth*m),height:Math.round(this.props.itemHeight*m)}},_generateStyleFromFocus:function j(k,l,m){var n=(k.width-l)/k.width*50,o=(k.height-m)/k.height*50,p=this.props.focus.x>=50?Math.min(this.props.focus.x,50+n):Math.max(this.props.focus.x,50-n),q=this.props.focus.y>=50?Math.min(this.props.focus.y,50+o):Math.max(this.props.focus.y,50-o),r="translate(-"+p+"%, -"+q+"%)";return{position:"absolute",left:"50%",top:"50%",WebkitTransformOrigin:"0% 0%",MozTransformOrigin:"0% 0%",msTransformOrigin:"0% 0%",WebkitTransform:r,MozTransform:r,msTransform:r}},_onRemoveButtonClicked:function j(){this.props.onRemoveItem&&this.props.onRemoveItem(this.props.upload.id);c("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.upload.id)}});f.exports=i}),null);
__d("ReactComposerDraggableCollageItem.react",["cx","React","ReactComponentWithPureRenderMixin","ReactComposerCollageDragHandler","ReactComposerCollagePhotoContainer.react","ReactComposerCollageVideoContainer.react","ReactComposerContextTypes","ReactComposerMediaUploadType"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=0,k=0,l={x:50,y:50},m=c("React").createClass({displayName:"ReactComposerDraggableCollageItem",_dragHandler:undefined,_grabbed:undefined,_scrollParent:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{upload:i.object.isRequired,itemWidth:i.number.isRequired,itemHeight:i.number.isRequired,width:i.number.isRequired,height:i.number.isRequired,isDragging:i.bool,opacity:i.number,focus:i.object.isRequired,onGrab:i.func.isRequired,onDrag:i.func.isRequired,onDrop:i.func.isRequired,onRemoveItem:i.func,enableFaceboxTagger:i.bool,enablePhotoEditing:i.bool,productTaggerType:i.string},getDefaultProps:function n(){return{width:j,height:k,focus:l,isDragging:false}},render:function n(){var o=this._dragHandler;if(!o){o=new(c("ReactComposerCollageDragHandler"))(this.props.upload.id,this.props.onGrab,this.props.onDrag,this.props.onDrop);this._dragHandler=o}var p=(this.props.isDragging?"_5uy":"")+" _3imc";return c("React").createElement("div",{className:p,key:this.props.upload.id,ref:"draggable_media"},this._getInnerMediaComponent(o))},_getInnerMediaComponent:function n(o){if(this.props.upload.mediaType==c("ReactComposerMediaUploadType").VIDEO)return this._getInnerVideoComponent(o);return this._getInnerPhotoComponent(o)},_getInnerVideoComponent:function n(o){return c("React").createElement(c("ReactComposerCollageVideoContainer.react"),{key:this.props.upload.id,upload:this.props.upload,itemWidth:this.props.itemWidth,itemHeight:this.props.itemHeight,opacity:this.props.opacity,fileURL:this.props.upload.fileURL,focus:l,containerWidth:this.props.width,containerHeight:this.props.height,dragHandler:o,onRemoveItem:this.props.onRemoveItem})},_getInnerPhotoComponent:function n(o){return c("React").createElement(c("ReactComposerCollagePhotoContainer.react"),{key:this.props.upload.id,upload:this.props.upload,itemWidth:this.props.itemWidth,itemHeight:this.props.itemHeight,opacity:this.props.opacity,dragHandler:o,isDragging:this.props.isDragging,focus:l,containerWidth:this.props.width,containerHeight:this.props.height,enableFaceboxTagger:this.props.enableFaceboxTagger,enablePhotoEditing:this.props.enablePhotoEditing,onRemoveItem:this.props.onRemoveItem,productTaggerType:this.props.productTaggerType})}});f.exports=m}),null);
__d("ReactComposerCollage.react",["immutable","Map","React","ReactComposerDraggableCollageItem.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){if(this.props.mediaUploads.size===0)return null;var l={marginLeft:5};if(!this.props.styleInfos)return null;var m=babelHelpers["extends"]({},l,{position:"relative",width:this.props.width,height:this.props.height});return c("React").createElement("div",{style:{margin:"auto",width:this.props.scaleFactor*100+"%"}},c("React").createElement("div",{style:m},this.$ReactComposerCollage1()))};k.prototype.$ReactComposerCollage1=function(){var l=this.props.mediaUploads.sortBy(function(n){return n.id}),m=[];l.forEach(function(n){var o=this.$ReactComposerCollage2(n);if(o)m.push(o)}.bind(this));return m};k.prototype.$ReactComposerCollage2=function(l){var m=this.props.styleInfos;if(!m)return null;var n=m.get(l.id);if(!n)return null;var o=this.$ReactComposerCollage3(n),p={left:o.left,top:o.top,height:o.height,width:o.width,zIndex:o.zIndex,position:"absolute"};return c("React").createElement("div",{style:p,key:l.id},this.$ReactComposerCollage4(l,o,n))};k.prototype.$ReactComposerCollage3=function(l){var m=l.dragEffectPercent/100,n=1.075*m+1*(1-m),o=.9*m+1*(1-m);o=Math.round(o*100)/100;var p=Math.round(m*80)+20,q=Math.round(l.height*n),r=Math.round(l.width*n),s=babelHelpers["extends"]({},l,{height:q,top:Math.round(l.centerY-q/2),width:r,left:Math.round(l.centerX-r/2),zIndex:p});if(o<1)s.opacity=o;return s};k.prototype.$ReactComposerCollage5=function(l){var m=l.width,n=l.height;if(l.isSpherical)m=n=Math.min(m,n);return{width:m,height:n}};k.prototype.$ReactComposerCollage4=function(l,m,n){var o=Math.round(n.dragEffectPercent)>0,p=this.$ReactComposerCollage5(l);return c("React").createElement(c("ReactComposerDraggableCollageItem.react"),{key:l.id,upload:l,itemWidth:p.width,itemHeight:p.height,width:m.width,height:m.height,opacity:m.opacity,isDragging:o,enableFaceboxTagger:this.props.enableFaceboxTagger,enablePhotoEditing:this.props.enablePhotoEditing,productTaggerType:this.props.productTaggerType,onGrab:this.props.onGrab,onDrag:this.props.onDrag,onDrop:this.props.onDrop,onRemoveItem:this.props.onRemoveItem})};function k(){h.apply(this,arguments)}k.propTypes={styleInfos:j.instanceOf(c("Map")),mediaUploads:j.instanceOf(c("immutable").List).isRequired,enableFaceboxTagger:j.bool,enablePhotoEditing:j.bool,productTaggerType:j.string,width:j.number,height:j.number,onDrag:j.func,onDrop:j.func,onGrab:j.func,onRemoveItem:j.func};f.exports=k}),null);
__d("ReactComposerCollageAnimationUtils",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=Object.prototype.hasOwnProperty,i={equal:function j(k,l){return Math.abs(k-l)<.5},isZero:function j(k){if(typeof k!=="object"||k===null)return false;var l=Object.keys(k);for(var m=0;m<l.length;m++)if(!this.equal(k[l[m]],0))return false;return true},isEqual:function j(k,l){if(typeof k!=="object"||k===null||typeof l!=="object"||l===null)return false;var m=Object.keys(k),n=Object.keys(l);if(m.length!==n.length)return false;for(var o=0;o<m.length;o++)if(!h.call(l,m[o])||!this.equal(k[m[o]],l[m[o]]))return false;return true}};f.exports=i}),null);
__d("ReactComposerCollageAnimationController",["Map","ReactComposerCollageAnimationUtils","performanceNow","requestAnimationFrame"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=.1,i=2e3,j=1,k={springConstant:300,dampingConstant:25},l={springConstant:300,dampingConstant:25},m={springConstant:200,dampingConstant:16},n=new(c("Map"))([["centerX",k],["centerY",k],["height",l],["width",l],["dragEffectPercent",m]]),o={centerX:true,centerY:true,height:false,width:false};function p(q,r,s,t,u,v){this.$ReactComposerCollageAnimationController7=false;this.$ReactComposerCollageAnimationController8=0;this.$ReactComposerCollageAnimationController1=q;this.$ReactComposerCollageAnimationController2=r;this.$ReactComposerCollageAnimationController3=s;this.$ReactComposerCollageAnimationController4=t;this.$ReactComposerCollageAnimationController5=u;this.$ReactComposerCollageAnimationController6=v}p.prototype.startAnimating=function(){if(this.$ReactComposerCollageAnimationController7)return;this.$ReactComposerCollageAnimationController7=true;this.$ReactComposerCollageAnimationController8=c("performanceNow")();c("requestAnimationFrame")(function(){return this.$ReactComposerCollageAnimationController9()}.bind(this))};p.prototype.stopAnimating=function(){this.$ReactComposerCollageAnimationController7=false};p.prototype.$ReactComposerCollageAnimationController9=function(){__p&&__p();if(!this.$ReactComposerCollageAnimationController7)return;var q=false,r=c("performanceNow")(),s=(r-this.$ReactComposerCollageAnimationController8)/1e3;s=Math.min(s,h);this.$ReactComposerCollageAnimationController8=r;var t=this.$ReactComposerCollageAnimationController1(),u=this.$ReactComposerCollageAnimationController3(),v=this.$ReactComposerCollageAnimationController5(),w=this.$ReactComposerCollageAnimationController6();t.forEach(function(x,y){__p&&__p();var z=u.get(y)||{},A=v.get(y);if(!A)return;var B=w.get(y),C=this.$ReactComposerCollageAnimationController10(x,A,z),D=this.$ReactComposerCollageAnimationController11(z,C,s,B),E=this.$ReactComposerCollageAnimationController12(x,D,s,B,A);this.$ReactComposerCollageAnimationController13(x,E,A,z);if(!c("ReactComposerCollageAnimationUtils").isZero(D)){q=true;u.set(y,D)}if(!c("ReactComposerCollageAnimationUtils").isEqual(x,E)){q=true;if(B){var F=E.width-x.width,G=E.height-x.height,H=F*((B.x-x.centerX)/(x.width||1)),I=G*((B.y-x.centerY)/(x.height||1));E.centerX-=H;E.centerY-=I}}t.set(y,E)}.bind(this));if(q&&this.$ReactComposerCollageAnimationController7){this.$ReactComposerCollageAnimationController2(t);this.$ReactComposerCollageAnimationController4(u);c("requestAnimationFrame")(function(){return this.$ReactComposerCollageAnimationController9()}.bind(this))}else this.$ReactComposerCollageAnimationController7=false};p.prototype.$ReactComposerCollageAnimationController13=function(q,r,s,t){n.forEach(function(u,v){var w=Math.abs(q[v]-r[v]),x=Math.abs(s[v]-r[v]);if(w<j&&x<.5){r[v]=s[v];t[v]=0}})};p.prototype.$ReactComposerCollageAnimationController10=function(q,r,s){var t={};n.forEach(function(u,v){t[v]=u.springConstant*(r[v]-q[v])-u.dampingConstant*(s[v]||0)});return t};p.prototype.$ReactComposerCollageAnimationController11=function(q,r,s,t){var u={};n.forEach(function(v,w){u[w]=t&&o[w]?0:Math.max(-i,Math.min(i,(q[w]||0)+r[w]*s))});return u};p.prototype.$ReactComposerCollageAnimationController12=function(q,r,s,t,u){var v={};n.forEach(function(w,x){var y=q[x]+r[x]*s,z=this.$ReactComposerCollageAnimationController14(y,q[x],u[x]);v[x]=t&&o[x]?q[x]:z}.bind(this));return v};p.prototype.$ReactComposerCollageAnimationController14=function(q,r,s){var t=Math.abs(q-s),u=Math.abs(r-s);if(t>u){var v=u/10;return q>s?s+v:s-v}else return q};f.exports=p}),null);
__d("ReactComposerCollageContainer.react",["immutable","Map","React","ReactComponentWithPureRenderMixin","ReactComposerCollage.react","ReactComposerCollageAnimationController","ReactComposerCollageUtils","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactDOM","Vector","VelocityTracker"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=500,j=c("React").createClass({displayName:"ReactComposerCollageContainer",_orderedUploads:c("immutable").List(),_width:i,_layoutConfig:null,_currentStyles:new(c("Map"))(),_targetLocations:new(c("Map"))(),_currentVelocities:new(c("Map"))(),_dragPoints:new(c("Map"))(),_velocityTrackers:new(c("Map"))(),_animationController:null,_allowLayoutChanges:true,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{containerWidth:h.number,scaleFactor:h.number,mediaUploads:h.instanceOf(c("immutable").List).isRequired,enableFaceboxTagger:h.bool,productTaggerType:h.string,disablePhotoEditing:h.bool,showSellUploadLink:h.bool},getInitialState:function k(){this._currentStyles=new(c("Map"))();return{currentStyles:new(c("Map"))()}},componentWillMount:function k(){this._updateVarsFromProps(this.props);this._animationController&&this._animationController.startAnimating()},componentWillUnmount:function k(){this._animationController&&this._animationController.stopAnimating()},componentWillReceiveProps:function k(l){this._updateVarsFromProps(l)},_getCollageItemStyles:function k(){return this._currentStyles},_setCollageItemStyles:function k(l){this._currentStyles=l;this.setState({currentStyles:l});this.forceUpdate()},_getCollageItemVelocities:function k(){return this._currentVelocities},_setCollageItemVelocities:function k(l){this._currentVelocities=l},_getCollageItemDestinations:function k(){return this._targetLocations},_getCollageItemDragPoints:function k(){return this._dragPoints},_updateVarsFromProps:function k(l){__p&&__p();if(!this._animationController)this._animationController=new(c("ReactComposerCollageAnimationController"))(function(){return this._getCollageItemStyles()}.bind(this),function(n){return this._setCollageItemStyles(n)}.bind(this),function(){return this._getCollageItemVelocities()}.bind(this),function(n){return this._setCollageItemVelocities(n)}.bind(this),function(){return this._getCollageItemDestinations()}.bind(this),function(){return this._getCollageItemDragPoints()}.bind(this));this._width=l.containerWidth*l.scaleFactor-10;var m=l.mediaUploads.filter(function(n){return!!n.width&&!!n.height});this._onNewOrderedUploads(m)},_onNewOrderedUploads:function k(l){this._orderedUploads=l;this._recomputeStyles()},_recomputeStyles:function k(){__p&&__p();var l,m=this;if(this._orderedUploads.size>0)(function(){__p&&__p();var n=[];if(m._orderedUploads.size===1){m._layoutConfig=null;n=c("ReactComposerCollageUtils").getSingleItemStyleInfo(m._orderedUploads.first(),m._width)}else{m._layoutConfig=c("ReactComposerCollageUtils").getCollageLayoutConfig(m._orderedUploads,m._width);n=m._layoutConfig.getItemStyleInfos()}var o=new(c("Map"))(),p=m._currentStyles,q=false;m._orderedUploads.forEach(function(r,s){var t=n[s],u={centerX:t.left+t.width/2,centerY:t.top+t.height/2,width:t.width,height:t.height,dragEffectPercent:this._dragPoints.get(r.id)?100:0};o.set(r.id,u);if(!p.get(r.id)){var v=babelHelpers["extends"]({},u,{width:0,height:0});p.set(r.id,v);q=true}}.bind(m));m._targetLocations=o;if(q)m._setCollageItemStyles(p);m._animationController&&m._animationController.startAnimating()})();else{this._layoutConfig=null;this._targetLocations=new(c("Map"))();this._currentVelocities=new(c("Map"))()}},render:function k(){if(!this._orderedUploads||!this._orderedUploads.size)return null;var l=0;if(this._layoutConfig)l=this._layoutConfig.getCalculatedHeight();else this.state.currentStyles.forEach(function(m){l=m.height});return c("React").createElement(c("ReactComposerCollage.react"),{styleInfos:this.state.currentStyles,mediaUploads:this._orderedUploads,enableFaceboxTagger:this.props.enableFaceboxTagger,enablePhotoEditing:this.props.enablePhotoEditing,productTaggerType:this.props.productTaggerType,onGrab:this._onGrab,onDrag:this._onDrag,onDrop:this._onDrop,width:this._width,height:l,scaleFactor:this.props.scaleFactor,onRemoveItem:function(m){return this._onRemoveItem(m)}.bind(this)})},_onGrab:function k(l,m){if(this._orderedUploads.size<2)return;var n=c("Vector").getElementPosition(c("ReactDOM").findDOMNode(this)),o=m.sub(n);this._dragPoints.set(l,o);this._recomputeStyles();var p=new(c("VelocityTracker"))();p.update(o.x,o.y);this._velocityTrackers.set(l,p)},_onRemoveItem:function k(l){this._currentStyles["delete"](l);this._currentVelocities["delete"](l);this._dragPoints["delete"](l)},_onDrag:function k(l,m,n){__p&&__p();if(this._orderedUploads.size<2)return;var o=this._currentStyles,p=babelHelpers["extends"]({},o.get(l));p.centerX+=n.x;p.centerY+=n.y;o.set(l,p);this._setCollageItemStyles(o);var q=c("Vector").getElementPosition(c("ReactDOM").findDOMNode(this)),r=m.sub(q);this._dragPoints.set(l,r);var s=this._velocityTrackers.get(l);s&&s.update(r.x,r.y);var t=this._orderedUploads;if(!t)return;if(!this._allowLayoutChanges){var u=true;this._dragPoints.forEach(function(y,z){if(!y)return;var A=t.findIndex(function(D){return D.id===z}),B=o.get(z);if(!B)return;var C=this._getCollageIndex(t,B.centerX,B.centerY);if(C!==A)u=false}.bind(this));if(u)this._allowLayoutChanges=true;else return}var v=t.findIndex(function(y){return y.id===l}),w=this._getCollageIndex(t,p.centerX,p.centerY);if(w!==0&&!w)return;if(v==w&&v>=0&&w>=0)return;var x=t.splice(v,1,t.get(w)).splice(w,1,t.get(v));this._allowLayoutChanges=false;this._onNewOrderedUploads(x)},_onDrop:function k(l,m){__p&&__p();if(this._orderedUploads.size<2)return;this._dragPoints.set(l,null);this._recomputeStyles();var n=this._velocityTrackers.get(l);this._velocityTrackers.set(l,null);var o=this._currentVelocities.get(l);if(o){o.centerX=n?n.getVelocityX():0;o.centerY=n?n.getVelocityY():0;this._currentVelocities.set(l,o)}var p=this._orderedUploads;if(!p)return;var q=p.map(function(r){return r.id});c("ReactComposerMediaUploadActions").reorderMedias(this.context.composerID,q)},_getCollageIndex:function k(l,m,n){var o=c("ReactComposerCollageUtils").getCollageLayoutConfig(l,this._width);return o&&o.getIndexForPoint(m,n)}});f.exports=j}),null);
__d("ReactComposerCollagePlusButton.react",["cx","fbt","Link.react","React","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerLoggingName","ReactComposerMediaFilePickerController.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.composerConfig.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA];return c("React").createElement(c("ReactComposerMediaFilePickerController.react"),{containerClassName:"_kqb",loggingName:c("ReactComposerLoggingName").MEDIA_COLLAGE_PLUS_BUTTON,disableFaceRecognition:!this.props.enableFaceboxTagger,mediaAcceptParam:this.props.composerConfig.mediaAcceptParam,mediaConfig:n,photoLimit:n.photoLimit,targetData:this.props.composerConfig.targetData},c("React").createElement(c("Link.react"),null,c("React").createElement("span",{className:"_kqk"}),i._("Add more photos \/ videos")))};function m(){j.apply(this,arguments)}m.propTypes={composerConfig:c("ReactComposerConfig").isRequired,enableFaceboxTagger:l.bool};f.exports=m}),null);
__d("ReactComposerInstantMediaAttachmentSelector.react",["fbt","ix","ComposerTargetData","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLoggingName"],(function a(b,c,d,e,f,g,h,i){var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerInstantMediaAttachmentSelector",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{targetData:j.instanceOf(c("ComposerTargetData")).isRequired,icon:j.object},render:function l(){var m=h._("Photo\/Video");return c("React").createElement(c("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:c("ReactComposerAttachmentType").MEDIA,label:m,icon:this.props.icon||i("40533"),"data-testid":"media-attachment-selector",loggingName:c("ReactComposerLoggingName").MEDIA_TAB_SELECTOR,disableSelectAttachment:true})}});f.exports=k}),null);
__d("ReactComposerInstantMediaAttachmentSelectorContainer.react",["cx","ComposerTargetData","React","ReactComposerInstantMediaAttachmentSelector.react","ReactComposerLoggingName","ReactComposerMediaFilePickerController.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.render=function(){"use strict";return c("React").createElement(c("ReactComposerMediaFilePickerController.react"),babelHelpers["extends"]({},this.props,{loggingName:c("ReactComposerLoggingName").MEDIA_TAB_SELECTOR,containerClassName:"_yt4"}),c("React").createElement(c("ReactComposerInstantMediaAttachmentSelector.react"),babelHelpers["extends"]({},this.props,{targetData:this.props.targetData,"data-testid":"instant-media-attachment-selector"})))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={disableFaceRecognition:k.bool.isRequired,mediaAcceptParam:k.shape({photos:k.string,both:k.string}).isRequired,photoLimit:k.number.isRequired,targetData:k.instanceOf(c("ComposerTargetData")).isRequired,icon:k.object,mediaConfig:k.object.isRequired};l.defaultProps={disableFaceRecognition:false};f.exports=l}),null);
__d("ReactComposerCrossPostToInstagramRow.react",["cx","fbt","FBToggleSwitch.react","LeftFillRightFitLayout.react","PagesComposerActions","React","XUICardSection.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerCrossPostToInstagramRow1=function(r){c("PagesComposerActions").setInstagramCrossPosting(this.props.composerID,r)}.bind(this),n}l.prototype.render=function(){return c("React").createElement(c("XUICardSection.react"),{className:"_1nth"},c("React").createElement(c("LeftFillRightFitLayout.react"),null,c("React").createElement("div",null,c("React").createElement("div",{className:"_1nti"}),c("React").createElement("div",{className:"_1ntj"},i._("Post this photo to Instagram?"))),c("React").createElement("div",{className:"_1ntk"},c("React").createElement(c("FBToggleSwitch.react"),{onToggle:this.$ReactComposerCrossPostToInstagramRow1}))))};f.exports=l}),null);
__d("ReactComposerMediaAttachmentButtons.react",["cx","fbt","ComposerTargetData","DOMContainer.react","FileInput.react","Grid.react","ReactComposerContextTypes","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerMediaUtils","Link.react","ReactComponentWithPureRenderMixin","React","VideoUploadConfig"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("Grid.react").GridItem,k=c("React").PropTypes,l=c("React").createClass({displayName:"ReactComposerMediaAttachmentButtons",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{createAlbumLink:k.any,mediaAcceptParam:k.shape({photos:k.string,both:k.string}).isRequired,onFilesSelected:k.func.isRequired,showUploadPhotosButton:k.bool,targetData:k.instanceOf(c("ComposerTargetData")).isRequired},getDefaultProps:function m(){return{mediaAcceptParam:{}}},getInitialState:function m(){return{createAlbumLink:null}},componentDidMount:function m(){var n=c("React").createElement(c("DOMContainer.react"),{className:"_3mc1",display:"block"},this.props.createAlbumLink);this.setState({createAlbumLink:n})},render:function m(){var n=[];n.push(this._getUploadPhotosButton());if(this.state.createAlbumLink)n.push(c("React").createElement(j,{className:"_4l9a",key:"createAlbum"},c("React").createElement(c("Link.react"),{className:"_2709"},this.state.createAlbumLink)));return c("React").createElement("div",{className:"_4l99"},c("React").createElement(c("Grid.react"),{className:"_2707",cols:n.length},n.filter(function(o){return o!=null})))},_getUploadPhotosButton:function m(){if(!this.props.showUploadPhotosButton)return null;var n=this.props.targetData.targetSupportsMultiplePhotos,o=this.props.mediaAcceptParam.both,p=void 0,q=c("VideoUploadConfig").allowMultimedia&&this.props.targetData.targetSupportsMultiMedia;if(n)if(q)p=i._("Upload Photos\/Videos");else p=i._("Upload Photos\/Video");else p=i._("Upload Photo\/Video");return c("React").createElement(j,{className:"_4l9a",key:"uploadPhoto"},c("React").createElement(c("FileInput.react"),{accept:o,multiple:n,name:"composer_photo",onChange:this._onFilesSelected,onClick:this._onUploadPhotosClick,ref:"fileInput","data-testid":"media-attachment-add-photo"},c("React").createElement(c("Link.react"),{className:"_2709"},c("React").createElement("div",{className:"_270a"},p))))},_onUploadPhotosClick:function m(){c("ReactComposerLoggingActions").mediaUploadInputClicked(this.context.composerID,c("ReactComposerLoggingName").MEDIA_ATTACHMENT_UPLOAD_BUTTON)},_onFilesSelected:function m(event){this.props.onFilesSelected(event,this.refs.fileInput.getFileInput());c("ReactComposerMediaUtils").clearInput(this.refs.fileInput.getFileInput())}});f.exports=l}),null);
__d("ReactComposerFailedMediaUpload.react",["cx","fbt","React","XUIButton.react","XUICloseButton.react","XUIContextualDialog.react","XUIContextualDialogTitle.react","XUIContextualDialogBody.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.error["transient"]?c("React").createElement(c("XUIButton.react"),{className:"_4_e",label:i._("Retry"),onClick:this.props.onRetryClick,size:"small",use:"special"}):c("React").createElement(c("XUIButton.react"),{className:"_4_f",label:i._("Okay"),onClick:this.props.onDismissClick,size:"small"});return c("React").createElement("span",null,c("React").createElement("div",{ref:function(o){return this.$ReactComposerFailedMediaUpload1=o}.bind(this),className:"_4_g"},c("React").createElement(c("XUICloseButton.react"),{className:"_2n25",onClick:this.props.onRemoveClick,size:"medium",shade:"light"}),c("React").createElement("p",{className:"_4_h"},i._("Error")),c("React").createElement("div",{className:"_4_i"},c("React").createElement("p",{className:"_4_j"},this.props.filename)),n),c("React").createElement(c("XUIContextualDialog.react"),{contextRef:function(){return this.$ReactComposerFailedMediaUpload1}.bind(this),hoverContextRef:function(){return this.$ReactComposerFailedMediaUpload1}.bind(this),width:c("XUIContextualDialog.react").WIDTH.NORMAL,position:"right"},c("React").createElement(c("XUIContextualDialogTitle.react"),null,this.props.error.summary),c("React").createElement(c("XUIContextualDialogBody.react"),null,c("React").createElement("div",{dangerouslySetInnerHTML:{__html:this.props.error.description}}))))};function m(){j.apply(this,arguments)}m.propTypes={error:l.object.isRequired,filename:l.string,onDismissClick:l.func,onRemoveClick:l.func,onRetryClick:l.func,uploadID:l.string.isRequired};f.exports=m}),null);
__d("ReactComposerFailedPhotoUploadContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerFailedMediaUpload.react","ReactComposerMediaUploadActions","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerPhotoUploader"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerPhotoUploadPlaceholderContainer",_uploader:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{mediaConfig:h.object.isRequired},render:function j(){return c("React").createElement(c("ReactComposerFailedMediaUpload.react"),babelHelpers["extends"]({},this.props,{onDismissClick:this._onDismissClick,onRemoveClick:this._onDismissClick,onRetryClick:this._onRetryClick}))},_onDismissClick:function j(){c("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID)},_onRetryClick:function j(){var k=c("ReactComposerMediaUploadStore").getMediaUpload(this.context.composerID,this.props.uploadID).fileUpload.getFile();k.manuallyRetried=true;c("ReactComposerMediaUploadActions").retryMediaUpload(this.context.composerID,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RETRY);if(!this._uploader)this._uploader=new(c("ReactComposerPhotoUploader"))(this.context,this.props.mediaConfig.photoLimit,{disableFaceRecognition:this.props.mediaConfig.disableFaceboxTagger});this._uploader&&this._uploader.retry(k)}});f.exports=i}),null);
__d("ReactComposerFailedVideoXUploadContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerFailedMediaUpload.react","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerMediaUtils"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerFailedVideoXUploadContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{error:h.object.isRequired,filename:h.string,uploadID:h.string.isRequired},render:function j(){return c("React").createElement(c("ReactComposerFailedMediaUpload.react"),babelHelpers["extends"]({},this.props,{onDismissClick:this._onDismissClick,onRemoveClick:this._onDismissClick,onRetryClick:this._onRetryClick}))},_onDismissClick:function j(){c("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID)},_onRetryClick:function j(){var k=c("ReactComposerMediaUploadStore").getMediaUpload(this.context.composerID,this.props.uploadID).fileUpload;k.manuallyRetried=true;var l=c("ReactComposerMediaUtils").getVideoXUploader(this.context.composerID);l.uploadVideo(k)}});f.exports=i}),null);
__d("ReactComposerNUXActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({NUX_WAS_SHOWN:null,NUX_WAS_SEEN:null,NUX_WAS_HIDDEN:null},"ReactComposerNUXActionType")}),null);
__d("ReactComposerNUXStore",["AsyncRequest","CommerceSelfServeNUXType","Map","ReactComposerNUXActionType","ReactComposerStoreBase","SimpleNUXMessageTypes"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{nuxes:new(c("Map"))()}},function(l){switch(l.type){case c("ReactComposerNUXActionType").NUX_WAS_SHOWN:k&&k.$ReactComposerNUXStore1(l);break;case c("ReactComposerNUXActionType").NUX_WAS_SEEN:k&&k.$ReactComposerNUXStore2(l);break;case c("ReactComposerNUXActionType").NUX_WAS_HIDDEN:k&&k.$ReactComposerNUXStore3(l);break}});k=this}j.prototype.hasNUXBeenSeen=function(k,l){"use strict";return this.$ReactComposerNUXStore4(k,l).seen};j.prototype.getNUXShownPhotoID=function(k,l){"use strict";return this.$ReactComposerNUXStore4(k,l).photoID};j.prototype.$ReactComposerNUXStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","nuxType","photoID"]),m=l[0],n=l[1],o=l[2],p=this.$ReactComposerNUXStore4(m,n);p.photoID=o;this.emitChange(m)};j.prototype.$ReactComposerNUXStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","nuxType"]),m=l[0],n=l[1],o=this.$ReactComposerNUXStore4(m,n);o.seen=true;if(n!==c("CommerceSelfServeNUXType").COMPOSER_PRODUCT_PHOTO_TAGGER_BUTTON&&n!==c("SimpleNUXMessageTypes").CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX)new(c("AsyncRequest"))("/ajax/photos/composer/mark_nux_seen.php").setData({type:n}).send();this.emitChange(m)};j.prototype.$ReactComposerNUXStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","nuxType"]),m=l[0],n=l[1],o=this.$ReactComposerNUXStore4(m,n);o.photoID=null;this.emitChange(m)};j.prototype.$ReactComposerNUXStore4=function(k,l){"use strict";var m=this.getComposerData(k),n=m.nuxes.get(l);if(!n){n={seen:false,photoID:null};m.nuxes.set(l,n)}return n};f.exports=new j()}),null);
__d("ReactComposerNUXActions",["ReactComposerDispatcher","ReactComposerNUXActionType","ReactComposerNUXStore"],(function a(b,c,d,e,f,g){c("ReactComposerNUXStore");var h={nuxWasShown:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerNUXActionType").NUX_WAS_SHOWN,nuxType:k,photoID:l})},nuxWasSeen:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerNUXActionType").NUX_WAS_SEEN,nuxType:k})},nuxWasHidden:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerNUXActionType").NUX_WAS_HIDDEN,nuxType:k})}};f.exports=h}),null);
__d("ReactComposerPhotoThumbnail.react",["Image.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(i){if(i.bgURL){var j={backgroundImage:"url("+i.bgURL+")"};return c("React").createElement("div",{className:i.bgClassName,style:j})}else if(i.imgSrc)return c("React").createElement(c("Image.react"),{alt:i.alt,className:i.imgClassName,src:i.imgSrc,style:i.style,width:i.width,height:i.height});return null};f.exports=h}),null);
__d("ReactComposerPhoto.react",["cx","fbt","ix","CommerceProductTaggerType","Image.react","ImageBlock.react","immutable","LoadingIndicator.react","React","ReactComposerContextTypes","ReactComposerMediaConfig","ReactComposerPhotoTagger.react","ReactComposerPhotoThumbnail.react","ReactComposerStore","FluxContainer","ReactFragment","XUIAmbientNUX.react","XUICloseButton.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;m.getStores=function(){return[c("ReactComposerStore")]};m.calculateState=function(n,o){return{posting:c("ReactComposerStore").isPosting(n)}};m.prototype.$ReactComposerPhoto1=function(){var n=this.context.gks.local_image_display?this.props.fileURL:null;return c("React").createElement(c("ReactComposerPhotoThumbnail.react"),{bgClassName:"_1a__",bgURL:n,height:c("ReactComposerMediaConfig").photo.thumbHeight,imgSrc:this.props.thumbSrc,width:c("ReactComposerMediaConfig").photo.thumbWidth,alt:this.props.label})};m.prototype.render=function(){var n={width:c("ReactComposerMediaConfig").photo.thumbWidth,height:c("ReactComposerMediaConfig").photo.thumbHeight},o=this.props.isRecognizingFaceboxes||this.props.isLoadingPhotoEdit?c("React").createElement("div",{className:"_jff"},c("React").createElement(c("LoadingIndicator.react"),{className:"_jfg",size:"small",color:"white"})):null,p=this.props.showProductTaggerNux?"_jfc"+(this.props.isRecognizingFaceboxes?" _jfd":"")+" _43p_":"_jfc"+(this.props.isRecognizingFaceboxes?" _jfd":""),q=void 0,r=void 0;if(!this.state.posting){q=c("React").createElement(c("XUICloseButton.react"),{className:"_jfe",onClick:this.props.onRemoveButtonClicked,size:"medium",shade:"light"});r=c("React").createElement(c("ReactComposerPhotoTagger.react"),{canTagFromModal:this.props.canTagFromModal,draggingPhotos:this.props.draggingPhotos,enableFaceboxTagger:this.props.enableFaceboxTagger,productTaggerType:this.props.productTaggerType,disablePhotoEditing:this.props.disablePhotoEditing,faceboxes:this.props.faceboxes,onEditClick:this.props.onEditClick,onHideProductTaggerNux:this.props.onHideProductTaggerNux,onTagIntent:this.props.onTagIntent,onTagAdded:this.props.onTagAdded,onTagRemoved:this.props.onTagRemoved,originalID:this.props.originalID,photoID:this.props.photoID,shown:this.props.showPhotoTagger,showProductTaggerNux:this.props.showProductTaggerNux})}return c("React").createElement("span",null,c("React").createElement("div",{ref:"root",className:p,style:n},this.$ReactComposerPhoto1(),this.props.disableRemovePhotos?null:q,o,r),this.renderLayers())};m.prototype.renderLayers=function(){return c("ReactFragment").create({taggingNUX:this.props.enableFaceboxTagger?this.$ReactComposerPhoto2():null,stickersNUX:this.props.disablePhotoEditing?null:this.$ReactComposerPhoto3()})};m.prototype.$ReactComposerPhoto2=function(){return c("React").createElement(c("XUIContextualDialog.react"),{contextRef:function(){return this.refs.root}.bind(this),position:"below",alignment:"left",shown:this.props.showTaggingNUX,width:300},c("React").createElement(c("XUIContextualDialogBody.react"),null,c("React").createElement(c("XUICloseButton.react"),{className:"rfloat",onClick:this.props.onTaggingNUXClose}),c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{weight:"bold",display:"block"},i._("Now It's Easier to Tag Photos.")),i._("Click photos with a {tagging_badge_icon} to review tag suggestions or add, edit, and remove tags. When you post the photo, your tags will be applied.",[i.param("tagging_badge_icon",c("React").createElement(c("Image.react"),{className:"_2z-r",src:j("95679")}))]))))};m.prototype.$ReactComposerPhoto3=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"right",contextRef:function(){return this.refs.root}.bind(this),onCloseButtonClick:this.props.onStickersNUXClose,position:"below",shown:this.props.showStickersNUX},c("React").createElement(c("ImageBlock.react"),{spacing:"medium"},c("React").createElement(c("Image.react"),{src:j("95645")}),c("React").createElement("div",{className:"_21ft"},c("React").createElement("div",{className:"_21fs"},i._("New! Add Stickers!")),i._("You can now add stickers to your photos"))))};function m(){k.apply(this,arguments)}m.defaultProps={enableFaceboxTagger:true,productTaggerType:c("CommerceProductTaggerType").NONE,disablePhotoEditing:false};m.contextTypes=c("ReactComposerContextTypes");f.exports=f.exports=c("FluxContainer").create(m,{withContext:true,withProps:true})}),null);
__d("ReactComposerPhotoContainer.react",["cx","BootloadedComponent.react","CommerceSelfServeNUXType","ComposerNUXType","FluxContainer","immutable","JSResource","LoadingIndicator.react","React","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactComposerNUXActions","ReactComposerNUXStore","ReactComposerPhoto.react","ReactComposerPhotoActions","ReactComposerPhotoStore","ReactDOM"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){__p&&__p();var l;(l=j.constructor).call.apply(l,[this].concat(Array.prototype.slice.call(arguments)));this.$ReactComposerPhotoContainer7=function(){this.$ReactComposerPhotoContainer9()}.bind(this);this.$ReactComposerPhotoContainer6=function(){if(this.props.photoID)c("ReactComposerPhotoActions").removePhoto(this.context.composerID,this.props.photoID,this.props.uploadID);else c("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID)}.bind(this);this.$ReactComposerPhotoContainer9=function(){c("ReactComposerNUXActions").nuxWasSeen(this.context.composerID,c("ComposerNUXType").ADD_STICKERS_NUX)}.bind(this);this.$ReactComposerPhotoContainer10=function(m,n,o){if(!(this.state.isSpherical||this.props.sphericalPhotoID)&&this.props.photoID)c("ReactComposerPhotoActions").tagFacebox(this.context.composerID,this.props.photoID,m,n,o)}.bind(this);this.$ReactComposerPhotoContainer1=function(){c("ReactComposerNUXActions").nuxWasSeen(this.context.composerID,c("ComposerNUXType").TAGGING_FLYOUT_NUX)}.bind(this);this.$ReactComposerPhotoContainer11=function(){if(this.state.showTaggingNUX)this.$ReactComposerPhotoContainer1()}.bind(this);this.$ReactComposerPhotoContainer12=function(m,n){if(!(this.state.isSpherical||this.props.sphericalPhotoID)&&this.props.photoID)c("ReactComposerPhotoActions").untagFacebox(this.context.composerID,this.props.photoID,m,n)}.bind(this);this.$ReactComposerPhotoContainer8=function(){c("ReactComposerNUXActions").nuxWasSeen(this.context.composerID,c("CommerceSelfServeNUXType").COMPOSER_PRODUCT_PHOTO_TAGGER_BUTTON)}.bind(this);this.beforeCalculateInitialState(this.context.composerID,this.props);this.state=k.calculateState(this.state,this.props,this.context);this.$ReactComposerPhotoContainer1=this.$ReactComposerPhotoContainer1.bind(this)}k.getStores=function(){return[c("ReactComposerNUXStore"),c("ReactComposerPhotoStore")]};k.prototype.beforeCalculateInitialState=function(l,m){__p&&__p();if(m.photoID){var n=c("ReactComposerPhotoStore").getPhoto(l,m.photoID);if(n){var o=k.$ReactComposerPhotoContainer2(l,n,m.nuxConfig,m.index),p=!o&&k.$ReactComposerPhotoContainer3(l,n,m.nuxConfig,m.index);if(o)c("ReactComposerNUXActions").nuxWasShown(l,c("ComposerNUXType").ADD_STICKERS_NUX,n.id);if(p)c("ReactComposerNUXActions").nuxWasShown(l,c("ComposerNUXType").TAGGING_FLYOUT_NUX,n.id)}}};k.calculateState=function(l,m,n){var o=n.composerID;if(m.photoID){var p=c("ReactComposerPhotoStore").getPhoto(o,m.photoID);if(p){var q=this.$ReactComposerPhotoContainer2(o,p,m.nuxConfig,m.index),r=!q&&this.$ReactComposerPhotoContainer3(o,p,m.nuxConfig,m.index),s=c("ReactComposerPhotoStore").getPhotoBeingTagged(o)===m.photoID,t=m.showProductTaggerNux===true&&this.$ReactComposerPhotoContainer4(o);return{faceboxes:p.faceboxes,isLoadingPhotoEdit:p.isLoadingPhotoEdit,isRecognizingFaceboxes:p.isRecognizingFaceboxes,isSpherical:Boolean(p.cubestripURI),showPhotoTagger:s,showProductTaggerNux:t,showStickersNUX:q,showTaggingNUX:r,thumbSrc:p.thumbSrc}}}return{faceboxes:c("immutable").Map(),isLoadingPhotoEdit:false,isRecognizingFaceboxes:false,isSpherical:m.isSpherical,showPhotoTagger:false,showProductTaggerNux:!!m.showProductTaggerNux,showStickersNUX:false,showTaggingNUX:false,thumbSrc:""}};k.$ReactComposerPhotoContainer5=function(l,m,n,o,p){var q=c("ReactComposerNUXStore").getNUXShownPhotoID(l,o),r=c("ReactComposerNUXStore").hasNUXBeenSeen(l,o);return!!n[o]&&!r&&(!q||q===m.id)&&p===0};k.$ReactComposerPhotoContainer2=function(l,m,n,o){return this.$ReactComposerPhotoContainer5(l,m,n,c("ComposerNUXType").ADD_STICKERS_NUX,o)};k.$ReactComposerPhotoContainer3=function(l,m,n,o){return this.$ReactComposerPhotoContainer5(l,m,n,c("ComposerNUXType").TAGGING_FLYOUT_NUX,o)&&m.faceboxes.size>0};k.$ReactComposerPhotoContainer4=function(l){return!c("ReactComposerNUXStore").hasNUXBeenSeen(l,c("CommerceSelfServeNUXType").COMPOSER_PRODUCT_PHOTO_TAGGER_BUTTON)};k.prototype.componentDidMount=function(){setTimeout(function(){var l=this.props.dragHandler;l&&l.add(c("ReactDOM").findDOMNode(this.refs.container))}.bind(this),0)};k.prototype.componentWillUnmount=function(){setTimeout(function(){var l=this.props.dragHandler;l&&l.remove(c("ReactDOM").findDOMNode(this.refs.container))}.bind(this),0)};k.prototype.render=function(){if(this.state.isSpherical||this.props.sphericalPhotoID){var l=c("React").createElement("div",{className:"_30t9"},c("React").createElement(c("LoadingIndicator.react"),{className:"_4qlq",size:"small",color:"white"}));return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerSphericalPhoto.react").__setRef("ReactComposerPhotoContainer.react"),bootloadPlaceholder:l,className:"_4j47 _jfc",showEditButton:true,fileURL:this.props.fileURL,alt:this.props.label,onRemoveButtonClicked:this.$ReactComposerPhotoContainer6,photoID:this.props.photoID,sphericalPhotoID:this.props.sphericalPhotoID,thumbSrc:this.state.thumbSrc,uploadID:this.props.uploadID,sphericalImage:this.props.sphericalImage,useLocalSphericalImage:this.props.useLocalSphericalImage,ref:"container"})}else return c("React").createElement(c("ReactComposerPhoto.react"),babelHelpers["extends"]({},this.props,this.state,{onEditClick:this.$ReactComposerPhotoContainer7,onHideProductTaggerNux:this.$ReactComposerPhotoContainer8,onRemoveButtonClicked:this.$ReactComposerPhotoContainer6,onStickersNUXClose:this.$ReactComposerPhotoContainer9,onTagAdded:this.$ReactComposerPhotoContainer10,onTagIntent:this.$ReactComposerPhotoContainer11,onTaggingNUXClose:this.$ReactComposerPhotoContainer1,onTagRemoved:this.$ReactComposerPhotoContainer12,ref:"container"}))};k.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(k,{withContext:true,withProps:true})}),null);
__d("ReactComposerPhotoUploadPlaceholder.react",["cx","ix","CircularProgressBar.react","Image.react","LoadingIndicator.react","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerPhotoUploadState","XUICloseButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerPhotoUploadPlaceholder",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{onRemoveButtonClicked:j.func.isRequired,uploadID:j.string.isRequired,uploadState:j.oneOf(Object.keys(c("ReactComposerPhotoUploadState"))).isRequired,uploadProgress:j.number,isSpherical:j.bool,fileURL:j.string},render:function l(){__p&&__p();var m=null,n=null,o=this.props.uploadState,p=o===c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_STARTED,q=o===c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_UPLOADING;if((p||q)&&!this.props.isDocument){var r="_1b01"+(p?" _1b02":"")+(q?" _1b03":"");m=c("React").createElement(c("CircularProgressBar.react"),{percentComplete:this.props.uploadProgress,className:r})}else n=c("React").createElement(c("LoadingIndicator.react"),{className:"_1b00",color:"white",size:"medium"});var s=void 0;if(this.props.isSpherical)s=c("React").createElement(c("Image.react"),{className:"_1az2",src:i("95829"),alt:"360 Photo"});var t={};if(this.context.gks.local_image_display&&this.props.fileURL)t={backgroundImage:"url("+this.props.fileURL+")"};return c("React").createElement("div",{className:"_50_c _1a__",style:t},c("React").createElement(c("XUICloseButton.react"),{className:"_1b04",onClick:this.props.onRemoveButtonClicked,size:"medium",shade:"dark"}),s,m,n)}});f.exports=k}),null);
__d("ReactComposerPhotoUploadPlaceholderContainer.react",["DocumentUploadConfig","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerPhotoUploadPlaceholder.react","ReactComposerPropsAndStoreBasedStateMixin"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerPhotoUploadPlaceholderContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerMediaUploadStore"))],propTypes:{uploadID:h.string.isRequired},statics:{calculateState:function j(k,l){var m=c("ReactComposerMediaUploadStore").getMediaUpload(k,l.uploadID);return{uploadProgress:m.progress,uploadState:m.state,isSpherical:m.isSpherical,isDocument:m.fileUpload&&c("DocumentUploadConfig").isSupported(m.fileUpload.getFile().type)}}},render:function j(){return c("React").createElement(c("ReactComposerPhotoUploadPlaceholder.react"),babelHelpers["extends"]({},this.props,this.state,{onRemoveButtonClicked:this._onRemoveButtonClicked}))},_onRemoveButtonClicked:function j(){c("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID)}});f.exports=i}),null);
__d("ProfileCustomVideoThumbnailEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OPEN_EDIT_DIALOG:"open_edit_dialog",CLOSE_EDIT_DIALOG:"close_edit_dialog",CANCEL_EDITING:"cancel_editing",CANCEL_DISCARD:"cancel_discard",DISCARD_EDITING:"discard_editing",SAVE_EDITING:"save_editing",CHOOSE_SELECTED_THUMBNAIL:"choose_selected_thumbnail",ADD_CUSTOM_THUMBNAIL:"add_custom_thumbnail",ADD_TEXT_TO_THUMBNAIL:"add_text_to_thumbnail",CHANGE_SELECTED_THUMBNAIL:"change_selected_thumbnail",UPLOAD_WITH_CUSTOM_THUMBNAIL:"upload_with_custom_thumbnail",UPLOAD_WITH_GENERATED_THUMBNAIL:"upload_with_generated_thumbnail",UPLOAD_WITH_NO_THUMBNAIL:"upload_with_no_thumbnail",UPLOAD_THUMBNAIL_WITH_TEXT:"upload_thumbnail_with_text",RESIZE_TEXT_BOX:"resize_text_box",DRAG_TEXT_BOX:"drag_text_box",CHANGE_TEXT_FONT:"change_text_font",CHANGE_TEXT_ALIGNMENT:"change_text_alignment"})}),null);
__d("ReactComposerVideoXActionButton.react",["cx","React","Tooltip","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=c("joinClasses")(this.props.className,"_sru");return c("React").createElement("button",babelHelpers["extends"]({className:m,onClick:this.props.onClick,"aria-label":this.props.tooltip},c("Tooltip").propsFor(this.props.tooltip)),c("React").createElement("div",{className:this.props.iconClassName}))};function l(){i.apply(this,arguments)}l.propTypes={tooltip:k.node,className:k.string,onClick:k.func,iconClassName:k.string};f.exports=l}),null);
__d("ReactComposerVideoXEditActionButton.react",["cx","fbt","ReactComposerVideoXActionButton.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=i._("Edit Video");return c("React").createElement(c("ReactComposerVideoXActionButton.react"),{className:"_3x9-",iconClassName:"_3x9_",onClick:this.props.onClick,tooltip:n})};function m(){j.apply(this,arguments)}m.propTypes={onClick:l.func};f.exports=m}),null);
__d("ReactComposerVideoXEditDialogActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({SET_ACTIVE_TAB:null,UPDATE_GENERATED_THUMBNAILS:null,UPDATE_SELECTED_THUMBNAIL:null,UPDATE_CUSTOM_THUMBNAIL:null,UPDATE_SCRUBBED_THUMBNAIL:null,USE_SELECTED_THUMBNAIL:null,REMOVE_DIALOG_STATE:null,REVERT_THUMBNAIL_STATE:null,SAVE_THUMBNAIL_STATE:null,SHOW_DISCARD_DIALOG:null,HIDE_DISCARD_DIALOG:null,SHOW_DIALOG:null,HIDE_DIALOG:null,MOVE_TEXT_BOX:null,RESIZE_TEXT_BOX:null,UPDATE_THUMBNAIL_TEXT:null,SET_VIDEO_DIMENSIONS:null,SET_CUSTOM_THUMBNAIL_DIMENSIONS:null,SET_TEXT_COLOR:null,SET_TEXT_FONT:null,SET_TEXT_ALIGNMENT:null,SET_TEXT_SIZE:null});f.exports=h}),null);
__d("ReactComposerVideoXEditDialogActions",["ReactComposerDispatcher","ReactComposerVideoXEditDialogActionTypes","VideoThumbnail"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={setActiveTab:function i(j,k,l){var m={type:c("ReactComposerVideoXEditDialogActionTypes").SET_ACTIVE_TAB,activeTab:j,composerID:k,uploadID:l};c("ReactComposerDispatcher").dispatch(m)},updateGeneratedThumbnails:function i(j,k,l){var m={type:c("ReactComposerVideoXEditDialogActionTypes").UPDATE_GENERATED_THUMBNAILS,generatedThumbnails:j,composerID:k,uploadID:l};c("ReactComposerDispatcher").dispatch(m)},updateSelectedThumbnail:function i(j,k,l){var m={type:c("ReactComposerVideoXEditDialogActionTypes").UPDATE_SELECTED_THUMBNAIL,selectedThumbnail:j,composerID:k,uploadID:l};c("ReactComposerDispatcher").dispatch(m)},updateCustomThumbnail:function i(j,k,l){var m={type:c("ReactComposerVideoXEditDialogActionTypes").UPDATE_CUSTOM_THUMBNAIL,customThumbnail:j,composerID:k,uploadID:l};c("ReactComposerDispatcher").dispatch(m)},updateScrubbedThumbnail:function i(j,k,l){var m={type:c("ReactComposerVideoXEditDialogActionTypes").UPDATE_SCRUBBED_THUMBNAIL,scrubbedThumbnail:j,composerID:k,uploadID:l};c("ReactComposerDispatcher").dispatch(m)},useSelectedThumbnail:function i(j,k){var l={type:c("ReactComposerVideoXEditDialogActionTypes").USE_SELECTED_THUMBNAIL,composerID:j,uploadID:k};c("ReactComposerDispatcher").dispatch(l)},removeDialogState:function i(j,k){var l={type:c("ReactComposerVideoXEditDialogActionTypes").REMOVE_DIALOG_STATE,composerID:j,uploadID:k};c("ReactComposerDispatcher").dispatch(l)},saveThumbnailState:function i(j,k){var l={type:c("ReactComposerVideoXEditDialogActionTypes").SAVE_THUMBNAIL_STATE,composerID:j,uploadID:k};c("ReactComposerDispatcher").dispatch(l)},revertThumbnailState:function i(j,k){var l={type:c("ReactComposerVideoXEditDialogActionTypes").REVERT_THUMBNAIL_STATE,composerID:j,uploadID:k};c("ReactComposerDispatcher").dispatch(l)},hideDiscardDialog:function i(j,k){var l={type:c("ReactComposerVideoXEditDialogActionTypes").HIDE_DISCARD_DIALOG,composerID:j,uploadID:k};c("ReactComposerDispatcher").dispatch(l)},showDiscardDialog:function i(j,k){var l={type:c("ReactComposerVideoXEditDialogActionTypes").SHOW_DISCARD_DIALOG,composerID:j,uploadID:k};c("ReactComposerDispatcher").dispatch(l)},hideDialog:function i(j,k){var l={type:c("ReactComposerVideoXEditDialogActionTypes").HIDE_DIALOG,composerID:j,uploadID:k};c("ReactComposerDispatcher").dispatch(l)},showDialog:function i(j,k){var l={type:c("ReactComposerVideoXEditDialogActionTypes").SHOW_DIALOG,composerID:j,uploadID:k};c("ReactComposerDispatcher").dispatch(l)},moveTextBox:function i(j,k,l,m){var n={type:c("ReactComposerVideoXEditDialogActionTypes").MOVE_TEXT_BOX,textTop:j,textLeft:k,composerID:l,uploadID:m};c("ReactComposerDispatcher").dispatch(n)},resizeTextBox:function i(j,k,l,m){var n={type:c("ReactComposerVideoXEditDialogActionTypes").RESIZE_TEXT_BOX,textWidth:j,textHeight:k,composerID:l,uploadID:m};c("ReactComposerDispatcher").dispatch(n)},updateThumbnailText:function i(j,k,l){var m={type:c("ReactComposerVideoXEditDialogActionTypes").UPDATE_THUMBNAIL_TEXT,thumbnailText:j,composerID:k,uploadID:l};c("ReactComposerDispatcher").dispatch(m)},setVideoDimensions:function i(j,k,l,m){var n={type:c("ReactComposerVideoXEditDialogActionTypes").SET_VIDEO_DIMENSIONS,videoWidth:j,videoHeight:k,composerID:l,uploadID:m};c("ReactComposerDispatcher").dispatch(n)},setCustomThumbnailDimensions:function i(j,k,l,m){var n={type:c("ReactComposerVideoXEditDialogActionTypes").SET_CUSTOM_THUMBNAIL_DIMENSIONS,customThumbnailWidth:j,customThumbnailHeight:k,composerID:l,uploadID:m};c("ReactComposerDispatcher").dispatch(n)},setTextColor:function i(j,k,l){var m={type:c("ReactComposerVideoXEditDialogActionTypes").SET_TEXT_COLOR,color:j,composerID:k,uploadID:l};c("ReactComposerDispatcher").dispatch(m)},setTextFont:function i(j,k,l){var m={type:c("ReactComposerVideoXEditDialogActionTypes").SET_TEXT_FONT,font:j,composerID:k,uploadID:l};c("ReactComposerDispatcher").dispatch(m)},setTextAlignment:function i(j,k,l){var m={type:c("ReactComposerVideoXEditDialogActionTypes").SET_TEXT_ALIGNMENT,alignment:j,composerID:k,uploadID:l};c("ReactComposerDispatcher").dispatch(m)},setTextSize:function i(j,k,l){var m={type:c("ReactComposerVideoXEditDialogActionTypes").SET_TEXT_SIZE,textSize:j,composerID:k,uploadID:l};c("ReactComposerDispatcher").dispatch(m)}};f.exports=h}),null);
__d("ReactComposerVideoX.react",["cx","ix","fbt","Image.react","BackgroundImage.react","React","ReactComposerMediaConfig","Tooltip.react","XUICloseButton.react","ReactComposerVideoXEditActionButton.react","ReactComposerVideoXEditDialogGatedModule","ReactComposerVideoXEditDialogActions","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react","LineClamp.react","ReactComposerNUXActions","ProfileCustomVideoThumbnailTypedLogger","ProfileCustomVideoThumbnailEvent","DurationFormatter","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactComposerVideoXEditDialogGatedModule").module,n=c("React").PropTypes;k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$ReactComposerVideoX2=function(u){return this.$ReactComposerVideoX1=u}.bind(this),this.$ReactComposerVideoX3=function(){return this.$ReactComposerVideoX1}.bind(this),this.$ReactComposerVideoX4=function(){c("ReactComposerVideoXEditDialogActions").showDialog(this.props.composerID,this.props.uploadID);new(c("ProfileCustomVideoThumbnailTypedLogger"))().setVideoID(this.props.videoID).setEvent(c("ProfileCustomVideoThumbnailEvent").OPEN_EDIT_DIALOG).log();c("ReactComposerVideoXEditDialogActions").saveThumbnailState(this.props.composerID,this.props.uploadID);if(this.props.showThumbnailNux)this.$ReactComposerVideoX5()}.bind(this),this.$ReactComposerVideoX5=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX);c("ReactComposerNUXActions").nuxWasSeen(this.props.composerID,c("SimpleNUXMessageTypes").CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX)}.bind(this),q}o.prototype.render=function(){__p&&__p();var p={width:c("ReactComposerMediaConfig").photo.thumbWidth,height:c("ReactComposerMediaConfig").photo.thumbHeight},q=void 0,r=void 0,s=void 0,t=void 0,u=void 0;if(!this.props.posting){q=c("React").createElement(c("XUICloseButton.react"),{className:"_1sju",onClick:this.props.onRemoveButtonClicked,size:"medium",shade:"light"});r=m?c("React").createElement(c("ReactComposerVideoXEditActionButton.react"),{onClick:this.$ReactComposerVideoX4,ref:"editButton"}):null;var v=this.props.uploadIndex>1?"left":"right";u=m?c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.editButton}.bind(this),position:v,width:"auto",shown:this.props.showThumbnailNux,onCloseButtonClick:this.$ReactComposerVideoX5,key:"ambientNUX"},j._("New! Choose a thumbnail that"),c("React").createElement("br",null),j._("shows what your video is about.")):null;s=m?c("React").createElement(m,{composerID:this.props.composerID,uploadID:this.props.uploadID,videoID:this.props.videoID,videoURL:this.props.videoURL,allowTextOnThumbnail:this.props.allowTextOnThumbnail}):null;t=m?c("React").createElement("div",{className:"_nai"}):null}var w=m||this.props.useThumbnailsRedesign?null:c("React").createElement("div",{className:"_2v_s"}),x=c("React").createElement(c("BackgroundImage.react"),{alt:this.props.label,src:this.props.thumbSrc,width:c("ReactComposerMediaConfig").photo.thumbWidth,height:c("ReactComposerMediaConfig").photo.thumbHeight,backgroundSize:this.props.usingPlaceholderThumbnail?"cover":"contain",className:!this.props.usingPlaceholderThumbnail?"_33by":""}),y=this.$ReactComposerVideoX6(),z="_1sjs"+(this.props.isRecognizingFaceboxes?" _1sjt":"")+(y!=null?" _225v":"");return c("React").createElement("div",{className:"uiContextualLayerParent"},c("React").createElement("div",{ref:"root",className:z,style:p},y?y:x,this.$ReactComposerVideoX7(),t,w,q,r,u,s))};o.prototype.$ReactComposerVideoX6=function(){if(!this.props.useThumbnailsRedesign||!this.props.usingPlaceholderThumbnail)return null;var p=this.props.label.endsWith(".gif")?j._("Your GIF will show up after you post."):j._("Your video will show up after you post.");return c("React").createElement("div",{className:"_225-"},c("React").createElement(c("Tooltip.react"),{alignH:this.props.uploadIndex>1?"right":"left",position:"below",className:"_225_",display:"block",tooltip:p},c("React").createElement(c("LineClamp.react"),{lines:3,className:"_2260",ref:this.$ReactComposerVideoX2},this.props.label)))};o.prototype.$ReactComposerVideoX7=function(){var p=this.props.isSpherical?c("React").createElement(c("Image.react"),{className:"_40p3",src:i("95829")}):null,q=null,r=null;if(this.props.useThumbnailsRedesign)if(this.props.duration==null)r=c("React").createElement(c("Image.react"),{className:"_2261",src:i("412727")});else{var s=c("DurationFormatter").formatShort(this.props.duration);q=c("React").createElement("span",{className:"_40p4"},s)}return c("React").createElement("div",{className:"_40p5"},q,r,p)};o.propTypes={label:n.string,onRemoveButtonClicked:n.func.isRequired,thumbSrc:n.string.isRequired,posting:n.bool.isRequired};f.exports=o}),null);
__d("VideoThumbnailDimensions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({GENERATED_THUMBNAIL_HEIGHT:284,GENERATED_THUMBNAIL_WIDTH:465})}),null);
__d("ReactComposerVideoXContainer.react",["cx","EventListener","React","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStore","ReactComposerVideoX.react","ReactDOM","ReactComposerVideoXEditDialogActions","gkx","generateVideoThumbnails","ReactComposerNUXActions","ReactComposerNUXStore","SimpleNUXMessage","SimpleNUXMessageTypes","VideoThumbnailDimensions"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=100,k=100,l="/images/icons/timeline/placeholder/placeholder-movies.png",m=c("React").createClass({displayName:"ReactComposerVideoXContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerStore"),c("ReactComposerNUXStore"))],_loadedmetadataListener:null,propTypes:{dragHandler:i.shape({add:i.func.isRequired,remove:i.func.isRequired}),label:i.string,photoID:i.string.isRequired,uploadID:i.string.isRequired,fileURL:i.string.isRequired,isSpherical:i.bool,allowTextOnThumbnail:i.bool,metadata:i.object},statics:{calculateState:function n(o,p){var q=c("ReactComposerMediaUploadStore").getMediaUpload(o.toString(),p.uploadID),r=c("ReactComposerMediaUploadStore").getUploadIndex(o.toString(),p.uploadID),s=q&&q.thumbSrc?q.thumbSrc:l,t=c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX),u=c("ReactComposerNUXStore").getNUXShownPhotoID(o,c("SimpleNUXMessageTypes").CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX),v=!t&&(!u||u===p.photoID);if(v&&!u)c("ReactComposerNUXActions").nuxWasShown(o,c("SimpleNUXMessageTypes").CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX,p.photoID);return{posting:c("ReactComposerStore").isPosting(o),thumbSrc:s,showThumbnailNux:v,uploadIndex:r}}},componentDidMount:function n(){var o=c("ReactDOM").findDOMNode(this.refs.videoPlayer);if(this.state.thumbSrc===l)this._loadedmetadataListener=c("EventListener").listen(o,"loadedmetadata",this.generateVideoThumbnails);setTimeout(function(){var p=this.props.dragHandler;p&&p.add(c("ReactDOM").findDOMNode(this.refs.container))}.bind(this),0)},generateVideoThumbnails:function n(){var o=c("ReactDOM").findDOMNode(this.refs.videoPlayer);c("generateVideoThumbnails")(o,k,j,1).done(function(p){c("ReactComposerMediaUploadActions").setVideoThumbnail(this.context.composerID,this.props.uploadID,p.thumbnails[0].getURL())}.bind(this));c("generateVideoThumbnails")(o,c("VideoThumbnailDimensions").GENERATED_THUMBNAIL_WIDTH,c("VideoThumbnailDimensions").GENERATED_THUMBNAIL_HEIGHT,10,"contain").done(function(p){c("ReactComposerVideoXEditDialogActions").updateGeneratedThumbnails(p.thumbnails,this.context.composerID,this.props.uploadID)}.bind(this));if(o instanceof HTMLVideoElement)c("ReactComposerVideoXEditDialogActions").setVideoDimensions(o.videoWidth,o.videoHeight,this.context.composerID,this.props.uploadID)},componentWillUnmount:function n(){if(this._loadedmetadataListener){this._loadedmetadataListener.remove();this._loadedmetadataListener=null}setTimeout(function(){var o=this.props.dragHandler;o&&o.remove(c("ReactDOM").findDOMNode(this.refs.container))}.bind(this),0)},render:function n(){var o=c("gkx")("AT5AZFx8_OX7mR7GlexAPapFyT4DLbypbk9jGe7wuOc3Lkq4_RtKJMLGX67pDGc7JJBl3bC1AsULXsoI2mdB6vXpgqQwTbH-2CUtm5lbnkkzEA"),p=o&&this.props.metadata&&this.props.metadata.format&&this.props.metadata.format.duration!=null?Math.floor(this.props.metadata.format.duration):null;return c("React").createElement("div",null,c("React").createElement(c("ReactComposerVideoX.react"),{label:this.props.label,posting:this.state.posting,thumbSrc:this.state.thumbSrc,usingPlaceholderThumbnail:this.state.thumbSrc===l,onRemoveButtonClicked:this._onRemoveButtonClicked,composerID:this.context.composerID,uploadID:this.props.uploadID,uploadIndex:this.state.uploadIndex,isSpherical:this.props.isSpherical,videoID:this.props.photoID,showThumbnailNux:this.state.showThumbnailNux,videoURL:this.props.fileURL,allowTextOnThumbnail:this.props.allowTextOnThumbnail,useThumbnailsRedesign:o,duration:p,ref:"container"}),this._getVideoElement())},_getVideoElement:function n(){return c("React").createElement("video",{ref:"videoPlayer",className:"_2mpk",src:this.props.fileURL})},_onRemoveButtonClicked:function n(){c("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID);c("ReactComposerVideoXEditDialogActions").removeDialogState(this.context.composerID,this.props.uploadID);var o=c("ReactComposerNUXStore").getNUXShownPhotoID(this.context.composerID,c("SimpleNUXMessageTypes").CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX);if(o==this.props.photoID)c("ReactComposerNUXActions").nuxWasHidden(this.context.composerID,c("SimpleNUXMessageTypes").CUSTOM_PROFILE_VIDEO_THUMBNAILS_NUX)}});f.exports=m}),null);
__d("ReactComposerVideoXUploadPlaceholder.react",["cx","CircularProgressBar.react","LoadingIndicator.react","ProgressBar.react","React","ReactComposerPhotoUploadState","XUICloseButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.render=function(){__p&&__p();var m=null,n=null,o=null,p=this.props.uploadState,q=p===c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_UPLOADING,r=50*Math.log10(Math.max(1,parseInt(this.props.uploadProgress,10)));if(this.props.useRealProgressPercentage)r=parseFloat(this.props.uploadProgress);if(q){var s="_5t36"+(q?" _5t3f":"");m=c("React").createElement(c("CircularProgressBar.react"),{percentComplete:r,className:s})}else{o=c("React").createElement(c("XUICloseButton.react"),{className:"_5t3o",onClick:this.props.onRemoveButtonClicked,size:"medium",shade:"dark"});n=c("React").createElement(c("LoadingIndicator.react"),{className:"_1b00",color:"white",size:"medium"})}return c("React").createElement("div",{className:"_5t3l"},o,m,n)};function l(){i.apply(this,arguments)}l.propTypes={onRemoveButtonClicked:k.func.isRequired,uploadID:k.string.isRequired,uploadState:k.oneOf(Object.keys(c("ReactComposerPhotoUploadState"))).isRequired,uploadProgress:k.number,canSeeCircularProgress:k.bool,useRealProgressPercentage:k.bool};f.exports=l}),null);
__d("ReactComposerVideoXUploadPlaceholderContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerVideoXUploadPlaceholder.react"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerVideoXUploadPlaceholderContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerMediaUploadStore"))],propTypes:{uploadID:h.string.isRequired},statics:{calculateState:function j(k,l){var m=c("ReactComposerMediaUploadStore").getMediaUpload(k,l.uploadID);return{uploadProgress:m.progress,uploadState:m.state,useRealProgressPercentage:m.useRealProgressPercentage}}},render:function j(){return c("React").createElement(c("ReactComposerVideoXUploadPlaceholder.react"),babelHelpers["extends"]({},this.props,this.state,{onRemoveButtonClicked:this._onRemoveButtonClicked}))},_onRemoveButtonClicked:function j(){c("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID)}});f.exports=i}),null);
__d("ReactComposerDraggableMedia.react",["cx","fbt","Draggable","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerFailedPhotoUploadContainer.react","ReactComposerFailedVideoXUploadContainer.react","ReactComposerMediaUploadActions","ReactComposerMediaUploadType","ReactComposerPhotoActions","ReactComposerPhotoContainer.react","ReactComposerPhotoUploadPlaceholderContainer.react","ReactComposerPhotoUploadState","ReactComposerVideoXContainer.react","ReactComposerVideoXUploadPlaceholderContainer.react","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","SimpleNUXMessage","SimpleNUXMessageTypes","Vector","XUIAmbientNUX.react","throttle"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=200,l=5,m=c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,n=c("React").createClass({displayName:"ReactComposerDraggableMedia",_draggable:undefined,_grabbed:undefined,_scrollParent:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{enableFaceboxTagger:j.bool,productTaggerType:j.string,disablePhotoEditing:j.bool,mediaConfig:j.object.isRequired,upload:j.object.isRequired,nuxConfig:j.object.isRequired,showSphericalSingletonNux:j.bool,draggingPhotos:j.bool,enableMediaDragging:j.bool,disableRemovePhotos:j.bool,index:j.number,updateComponentPosition:j.func.isRequired,onGrab:j.func.isRequired,onDrag:j.func.isRequired,onDrop:j.func.isRequired},getInitialState:function o(){return{dragging:false,showSphericalSingletonNux:false}},componentWillReceiveProps:function o(p){if(this.props.index!==p.index&&p.index!==undefined)setTimeout(this._updateComponentPosition,0);if(!this.props.showSphericalSingletonNux&&p.showSphericalSingletonNux&&!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").SPHERICAL_SINGLETON_NUX))this.setState({showSphericalSingletonNux:true})},componentDidUpdate:function o(p){if(this.props.enableMediaDragging&&p.upload.state!==m&&this.props.upload.state===m&&!this.props.disableRemovePhotos)this._createDraggable();else if(p.upload.state===m&&this.props.upload.state!==m)this._draggable&&this._draggable.destroy()},componentDidMount:function o(){this._scrollParent=this._findScrollParent();if(this.props.enableMediaDragging&&this.props.upload.state===m&&!this.props.disableRemovePhotos)this._createDraggable();setTimeout(this._updateComponentPosition,0)},componentWillUnmount:function o(){this._draggable&&this._draggable.destroy()},render:function o(){var p=(this.state.dragging?"_2pkn":"")+" _2pko",q=this.props.upload,r=!q.isSpherical&&q.photoID?q.photoID:q.id;return c("React").createElement("div",{className:p,key:r,onClick:this._onClick,ref:"draggable_media",role:"presentation"},this._getInnerMediaComponent())},renderLayers:function o(){return{sphericalSingletonNux:this._sphericalSingletonNux()}},_sphericalSingletonNux:function o(){if(!this.props.showSphericalSingletonNux)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return this.refs.draggable_media}.bind(this),shown:this.state.showSphericalSingletonNux,position:"below",onCloseButtonClick:this._onSphericalSingletonNuxClose,width:"auto"},i._("Post this photo individually to view in 360\u00b0"))},_onSphericalSingletonNuxClose:function o(){this.setState({showSphericalSingletonNux:false});c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").SPHERICAL_SINGLETON_NUX)},_getInnerMediaComponent:function o(){if(this.props.upload.mediaType==c("ReactComposerMediaUploadType").VIDEO)return this._getInnerVideoComponent();return this._getInnerPhotoComponent()},_getInnerVideoComponent:function o(){var p=this.props.upload;if(p.state===m){var q=this._getDragHandler();return c("React").createElement("div",{"data-testid":"media-attachment-video"},c("React").createElement(c("ReactComposerVideoXContainer.react"),{isSpherical:p.isSphericalVideo,dragHandler:q,key:p.photoID,label:p.filename,photoID:p.photoID,uploadID:p.id,fileURL:p.fileURL,allowTextOnThumbnail:this.props.mediaConfig.allowTextOnVideoThumbnail,metadata:p.videoMetadata}))}if(p.state===c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED)return c("React").createElement(c("ReactComposerFailedVideoXUploadContainer.react"),{key:p.id,error:p.error,filename:p.filename,uploadID:p.id});return c("React").createElement(c("ReactComposerVideoXUploadPlaceholderContainer.react"),{key:p.id,uploadID:p.id})},_getInnerPhotoComponent:function o(){var p=this.props.upload;if(p.state===c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED)return c("React").createElement(c("ReactComposerFailedPhotoUploadContainer.react"),{error:p.error,filename:p.filename,key:p.id,mediaConfig:this.props.mediaConfig,uploadID:p.id});if(p.state===m||p.isSpherical&&p.useLocalSphericalImage&&p.fileURL){var q=this._getDragHandler(),r=!p.isSpherical&&p.photoID?p.photoID:p.id;return c("React").createElement("div",{"data-testid":"media-attachment-photo"},c("React").createElement(c("ReactComposerPhotoContainer.react"),{canTagFromModal:this.props.mediaConfig.canTagFromModal,draggingPhotos:this.props.draggingPhotos,dragHandler:q,enableFaceboxTagger:this.props.enableFaceboxTagger,label:p.filename,productTaggerType:this.props.productTaggerType,disablePhotoEditing:this.props.disablePhotoEditing,disableRemovePhotos:this.props.disableRemovePhotos,key:r,nuxConfig:this.props.nuxConfig,originalID:p.originalPhotoID,photoID:p.photoID,showProductTaggerNux:this.props.nuxConfig.showProductPhotoTaggerNux&&this.props.index===0,index:this.props.index,sphericalPhotoID:p.sphericalPhotoID,uploadID:p.id,fileURL:p.fileURL,sphericalImage:p.sphericalImage,isSpherical:p.isSpherical,useLocalSphericalImage:p.useLocalSphericalImage}))}return c("React").createElement(c("ReactComposerPhotoUploadPlaceholderContainer.react"),{key:p.id,uploadID:p.id,fileURL:p.fileURL})},_getDragHandler:function o(){var p=this;return{add:function q(r){p._draggable&&p._draggable.addHandle(r)},remove:function q(r){p._draggable&&p._draggable.removeHandle(r)}}},_createDraggable:function o(){this._draggable=new(c("Draggable"))(c("ReactDOM").findDOMNode(this)).setNamespace("ReactComposer").setUseAbsolute(true).setAvoidKillingEvents(true).setGutter(l).setGrabHandler(this._onGrab).setDragHandler(c("throttle")(this._onDrag,k)).setDropHandler(this._onDrop);this._updateComponentPosition()},_updateComponentPosition:function o(){var p=c("ReactDOM").findDOMNode(this),q=c("Vector").getElementPosition(p);q=this._compensateForScroll(p,q);this.props.updateComponentPosition(this.props.upload.id||this.props.upload.photoID,q,c("Vector").getElementDimensions(p))},_compensateForScroll:function o(p,q){return this._scrollParent?q.add(this._scrollParent.scrollLeft,this._scrollParent.scrollTop):q},_findScrollParent:function o(){__p&&__p();var p=c("ReactDOM").findDOMNode(this);if(p.closest)return p.closest(".fbScrollableAreaWrap");else{var q=document.querySelectorAll(".fbScrollableAreaWrap");while(p&&p.nodeType===1){var r=0;while(q[r]){if(q[r]===p)return p;r++}p=p.parentNode}return null}},_onGrab:function o(){if(this.state.dragging)return;this._grabbed=true;var p=c("ReactDOM").findDOMNode(this);this.props.onGrab(this.props.upload.id||this.props.upload.photoID,p)},_onDrag:function o(p){if(!this._grabbed)return;this.setState({dragging:true});var q=c("ReactDOM").findDOMNode(this);p=this._compensateForScroll(q,p);this.props.onDrag(p)},_onDrop:function o(p){this._draggable&&this._draggable.resetPosition();this.setState({dragging:false});this._grabbed=false;var q=c("ReactComposerMediaUploadActions").mediaMoved,r=c("ReactDOM").findDOMNode(this);p=this._compensateForScroll(r,p);this.props.onDrop(p,q)},_onClick:function o(){c("ReactComposerPhotoActions").setPhotoBeingTagged(this.context.composerID,this.props.upload.photoID)}});f.exports=n}),null);
__d("ReactComposerGenericPhotoUploadLink.react",["cx","Link.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=c("joinClasses")("__9u",this.props.className);return c("React").createElement(c("Link.react"),{className:m},this.props.children)};function l(){"use strict";i.apply(this,arguments)}l.propTypes={className:k.string};l.defaultProps={className:"__9t"};f.exports=l}),null);
__d("ReactComposerMediaScrollableArea.react",["React","ReactComponentWithPureRenderMixin","ReactDOM","TimelineMapScrollableArea","joinClasses"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=h.oneOfType([h.string,h.number]),j=c("React").createClass({displayName:"ReactComposerMediaScrollableArea",_scrollableArea:c("TimelineMapScrollableArea"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{children:h.array.isRequired,getAddMoreDOM:h.func,height:i.isRequired,persistent:h.bool,photosCount:h.number,scrollbar:h.oneOf(["native","fade","nofade"]).isRequired,verticalScroll:h.bool,width:i.isRequired},getDefaultProps:function k(){return{scrollbar:"native",width:"100%"}},componentDidMount:function k(){this._scrollableArea=new(c("TimelineMapScrollableArea"))(c("ReactDOM").findDOMNode(this.refs.container),{fade:this.props.scrollbar==="fade",persistent:this.props.persistent,verticalscroll:this.props.verticalScroll});this._scrollAddButtonIntoView()},componentDidUpdate:function k(l,m){if(this.props.photosCount>l.photosCount)this._scrollAddButtonIntoView()},componentWillUnmount:function k(){this._scrollableArea.destroy()},render:function k(){var l=c("joinClasses")(this.props.className,this.props.scrollbar),m={height:this.props.height,width:this.props.width},n=this.props.height-(this.props.scrollbar==="fade"?0:10),o={height:n};return c("React").createElement("div",{className:l,ref:"container"},c("React").createElement("div",{className:"fbScrollableArea",style:m},c("React").createElement("div",{className:"fbScrollableAreaWrap"},c("React").createElement("div",{className:"fbScrollableAreaBody",style:o},c("React").createElement("div",{className:"fbScrollableAreaContent"},this.props.children))),this._getTrack()))},_getTrack:function k(){if(this.props.scrollbar==="native")return null;return c("React").createElement("div",{className:"fbScrollableAreaTrack invisible_elem"},c("React").createElement("div",{className:"fbScrollableAreaGripper"}))},_scrollAddButtonIntoView:function k(){this.props.getAddMoreDOM&&this.props.getAddMoreDOM()&&this._scrollableArea.scrollIntoView(this.props.getAddMoreDOM())}});f.exports=j}),null);
__d("ReactComposerMediaUploadsGrid.react",["cx","fbt","FileInput.react","immutable","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerDraggableMedia.react","ReactComposerGenericPhotoUploadLink.react","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerMediaScrollableArea.react","ReactComposerMediaUtils","ReactDOM","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=112,l=c("React").createClass({displayName:"ReactComposerMediaUploadsGrid",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{enableFaceboxTagger:j.bool,productTaggerType:j.string,disablePhotoEditing:j.bool,disableRemovePhotos:j.bool,addMorePhotosConfig:j.shape({maxPhotos:j.number}).isRequired,mediaAcceptParam:j.string,mediaConfig:j.object.isRequired,nuxConfig:j.object.isRequired,onFilesSelected:j.func,canUploadMultiplePhotos:j.bool,uploads:j.instanceOf(c("immutable").List).isRequired,sphericalSingletonNuxUpload:j.object,onDrop:j.func,photoUploadLink:j.element,scrollableAreaHeight:j.number.isRequired,sourceIndex:j.number,targetIndex:j.number,updateComponentPosition:j.func.isRequired},getDefaultProps:function m(){return{addMorePhotosConfig:{},canUploadMultiplePhotos:false,photoUploadLink:c("React").createElement(c("ReactComposerGenericPhotoUploadLink.react"),null),scrollableAreaHeight:k,showSellUploadLink:false}},render:function m(){return c("React").createElement("div",{className:"_kkp"},c("React").createElement("div",{className:c("joinClasses")("_kkq",this.props.className)},c("React").createElement(c("ReactComposerMediaScrollableArea.react"),{fade:true,getAddMoreDOM:this._getAddMoreDOM,height:this.props.scrollableAreaHeight,photosCount:this.props.uploads.size,scrollbar:"fade",verticalScroll:true},this.props.children,this._getComponents(),this._getAddMorePhotosButton())))},_onAddMorePhotosClick:function m(){c("ReactComposerLoggingActions").mediaUploadInputClicked(this.context.composerID,c("ReactComposerLoggingName").MEDIA_UPLOADS_PLUS_BUTTON)},_onFilesSelected:function m(event){if(this.props.onFilesSelected){var n=this.props.onFilesSelected;n(event,this.refs.fileInput.getFileInput())}c("ReactComposerMediaUtils").clearInput(this.refs.fileInput.getFileInput(),true)},_getAddMorePhotosButton:function m(){if(!this.props.canUploadMultiplePhotos&&this.props.uploads.size>0)return null;if(this.props.addMorePhotosConfig.maxPhotos&&this.props.uploads.size>=this.props.addMorePhotosConfig.maxPhotos)return null;return c("React").createElement("span",{ref:"addMore",className:"_kkr"},c("React").createElement(c("FileInput.react"),{accept:this.props.mediaAcceptParam,multiple:this.props.canUploadMultiplePhotos,name:"composer_photo",onChange:this._onFilesSelected,onClick:this._onAddMorePhotosClick,ref:"fileInput",title:i._("Choose a file to upload"),"data-testid":"add-more-photos"},this.props.photoUploadLink))},_getComponents:function m(){__p&&__p();var n=this.props.uploads.toSeq().filter(function(p,q){return q!==this.props.sourceIndex}.bind(this)).map(function(p,q){return this._getDraggablePhoto(p,q)}.bind(this));if(this.props.targetIndex!=null){var o=c("React").createElement("div",{key:"placeholder",className:"_kks"});n=n.splice(this.props.targetIndex,0,o)}if(this.props.sourceIndex!=null)n=n.splice(this.props.sourceIndex,0,this._getDraggablePhoto(this.props.uploads.get(this.props.sourceIndex)));return n.toArray()},_getDraggablePhoto:function m(n,o){return c("React").createElement(c("ReactComposerDraggableMedia.react"),{enableFaceboxTagger:this.props.enableFaceboxTagger,productTaggerType:this.props.productTaggerType,disablePhotoEditing:this.props.disablePhotoEditing,disableRemovePhotos:this.props.disableRemovePhotos,key:n.id,upload:n,nuxConfig:this.props.nuxConfig,showSphericalSingletonNux:n===this.props.sphericalSingletonNuxUpload,draggingPhotos:this.props.sourceIndex!=null,enableMediaDragging:true,index:o,mediaConfig:this.props.mediaConfig,updateComponentPosition:this.props.updateComponentPosition,onGrab:this.props.onGrab,onDrag:this.props.onDrag,onDrop:this.props.onDrop})},_getAddMoreDOM:function m(){return c("ReactDOM").findDOMNode(this.refs.addMore)}});f.exports=l}),null);
__d("ReactComposerMediaUploadsGridContainer.react",["Locale","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerMediaUploadsGrid.react","ReactDOM","Rect","Vector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerMediaUploadsGridContainer",_componentsPosition:{},contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{photoUploadLink:h.element,enableFaceboxTagger:h.bool,productTaggerType:h.string,disablePhotoEditing:h.bool,showSellUploadLink:h.bool,disableRemovePhotos:h.bool},getInitialState:function j(){return{rtl:c("Locale").isRTL(),sourceIndex:null,targetIndex:null,uploads:this.props.uploads,sphericalSingletonNuxUpload:null}},componentWillReceiveProps:function j(k){if(this.state.uploads!==k.uploads){var l=k.uploads.toSeq().filter(function(m){return m.canShowSphericalSingletonNux}).first();this.setState({uploads:k.uploads,sphericalSingletonNuxUpload:l})}},render:function j(){return c("React").createElement(c("ReactComposerMediaUploadsGrid.react"),babelHelpers["extends"]({},this.props,{onGrab:this._onGrab,onDrag:this._onDrag,onDrop:this._onDrop,sourceIndex:this.state.sourceIndex,targetIndex:this.state.targetIndex,updateComponentPosition:this._updateComponentPosition,uploads:this.state.uploads,sphericalSingletonNuxUpload:this.state.sphericalSingletonNuxUpload}))},_onGrab:function j(k,l){var m=this.state.uploads.findIndex(function(n){return n.id===k});this.setState({sourceIndex:m,targetIndex:m})},_onDrag:function j(k){var l=c("Vector").getElementPosition(c("ReactDOM").findDOMNode(this));k=k.sub(l);this.setState({targetIndex:this._getTargetID(k)})},_onDrop:function j(k,l){__p&&__p();this._onDrag(k);var m=this.state.sourceIndex,n=this.state.targetIndex;if(m==null||n==null)return;if(m!==n){var o=this.state.uploads;o=o.splice(m,1).splice(n,0,o.get(m));this.setState({uploads:o});l(this.context.composerID,m,n)}this._endDrag()},_endDrag:function j(){this.setState({sourceIndex:null,targetIndex:null})},_getTargetID:function j(k){var l=this.state.uploads,m=this.state.rtl?function(q,k){return q.right>=k.x}:function(q,k){return q.left<=k.x};for(var n=l.size-1;n>=0;n--){var o=l.get(n),p=o.id,q=this._componentsPosition[p];if(m(q,k))return n}return 0},_updateComponentPosition:function j(k,l,m){var n=new(c("Rect"))(c("ReactDOM").findDOMNode(this));this._componentsPosition[k]={left:l.x-n.l,right:l.x-n.l+m.x}}});f.exports=i}),null);
__d("ReactComposerStatusAttachmentMentionsInput.react",["cx","addEmojiInput","Arbiter","MentionsInput.react","React","ReactComponentWithPureRenderMixin","ReactComposerConfig","ReactComposerContextTypes","ReactComposerEvents","ReactComposerInit","ReactComposerTaggerType","SubscriptionsHandler","XUITypeaheadView.react","ifRequired","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("addEmojiInput")(c("MentionsInput.react")),k=c("React").createClass({displayName:"ReactComposerStatusAttachmentMentionsInput",_subscriptions:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{config:c("ReactComposerConfig"),mentionsSource:i.object,preventFocus:i.bool,typeaheadReporter:i.object,onChange:i.func,onFocus:i.func,onPasteFiles:i.func},componentWillUnmount:function l(){this.props.onBlur&&this.props.onBlur(this.props.editorState);this._subscriptions&&this._subscriptions.release()},componentWillMount:function l(){var m=new(c("SubscriptionsHandler"))();if(!this.props.preventFocus)m.addSubscriptions(c("Arbiter").subscribe([c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID],function(){return this.focus()}.bind(this)));this._subscriptions=m},componentDidCatch:function l(m,n){},render:function l(){var m=this.props.config&&this.props.taggersConfig&&this.props.config.taggersConfig[c("ReactComposerTaggerType").PEOPLE],n=m&&m.typeaheadView?m.typeaheadView:c("XUITypeaheadView.react"),o=m&&m.typeaheadViewProps?m.typeaheadViewProps:{},p=Object.assign({},{ariaMultiline:true,role:"textbox",typeaheadView:n,typeaheadViewProps:o,selectOnTab:false,spellCheck:true},this.props,{className:c("joinClasses")("_1mwp navigationFocus",this.props.className),editorState:this.props.editorState,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,maxResults:10});return c("React").createElement(j,babelHelpers["extends"]({ref:"mentionsInput"},p,{webDriverTestID:"status-attachment-mentions-input"}))},focus:function l(){if(!c("ReactComposerInit").isInstanceMounted(this.context.composerID))c("Arbiter").subscribeOnce([c("ReactComposerEvents").INSTANCE_MOUNTED+this.context.composerID],function(){return this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()}.bind(this));else this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},blur:function l(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()},_onAddMention:function l(m,n,o){var p=this.props.typeaheadReporter;if(p){p.reportSelect(m.getUniqueID(),m.getType(),n,o.button>=0);p.sessionEnd();p.sessionStart()}if(m.getType()==="event")c("ifRequired")("ReactComposerEventAttachmentActions",function(q){return q.fetchEventAttachment(this.context.composerID,m.getUniqueID())}.bind(this))},_onShowMentions:function l(m,n){var o=this.props.typeaheadReporter;if(o)o.reportResults(m.map(function(p){return p.getUniqueID()}))},_onFocus:function l(){var m=this.props.typeaheadReporter;if(m)m.sessionStart();this.props.onFocus&&this.props.onFocus()},_onChange:function l(m){this.props.onChange&&this.props.onChange(m)},_onBlur:function l(){this.props.typeaheadReporter&&this.props.typeaheadReporter.sessionEnd();this.props.onBlur&&this.props.onBlur(this.props.editorState)}});f.exports=k}),null);
__d("ReactComposerStatusAttachmentMentionsInputVariant.react",["cx","EmojiInputButton.react","Keys","React","ReactComposerActions","ReactComposerAttachmentType","ReactComposerStatusAttachmentMentionsInput.react","ReactComposerStickerContainer","UserAgent_DEPRECATED","emptyFunction","getCampfireKeyBinding","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("ReactComposerStickerContainer").ReactComposerStickerComponent;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){__p&&__p();j.constructor.call(this,m);this.$ReactComposerStatusAttachmentMentionsInputVariant1=function(n){var o=/^image\//;n=n.filter(function(p){return o.test(p.type)});if(n.length>0&&this.props.onPasteFiles){this.props.onPasteFiles(n);return true}return false}.bind(this);this.$ReactComposerStatusAttachmentMentionsInputVariant2=function(event,n){var o=c("UserAgent_DEPRECATED").osx()?event.metaKey:event.ctrlKey;if(event.keyCode===c("Keys").RETURN&&o){this.blur();setTimeout(this.props.onPostIntent,0);return true}return false}.bind(this);this.$ReactComposerStatusAttachmentMentionsInputVariant3=function(){c("ReactComposerActions").expandSprouts(this.props.compositionID)}.bind(this)}l.prototype.render=function(){__p&&__p();var m=this.props.config&&this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],n=null;if(this.props.useRichTextEditor){var o=m.richTextEditor;n=c("React").createElement(o,babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_3w8y _21mu"),canAttachVideo:false,canAttachPhoto:false,canAttachEmbed:false,onSave:c("emptyFunction"),spellCheck:true,autoCorrect:false,handlePastedFiles:this.$ReactComposerStatusAttachmentMentionsInputVariant1,handleContentReturn:this.$ReactComposerStatusAttachmentMentionsInputVariant2,keyBindingFn:c("getCampfireKeyBinding"),ref:"mentionsInput"}))}else n=c("React").createElement(c("ReactComposerStatusAttachmentMentionsInput.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,(this.props.isSelectedAttachmentActive?"_1mwq":"")+(this.props.config&&this.props.config.showExpandedComposer?" _4c_p":"")+(m&&m.showProfilePic?" _5bu_":"")+(this.props.isPosting?" _1udp":"")+(this.props.shouldUseLargeText?" _17nh":"")+(m&&m.largeTextThreshold?" _34nd":"")+" _21mu"+(this.props.sticker&&this.props.sticker.stickerID?" _hjn":"")),ref:"mentionsInput",readOnly:this.props.isPosting,editorState:this.props.editorState,mentionsSource:this.props.mentionsSource,typeaheadReporter:this.props.typeaheadReporter,handlePastedFiles:this.$ReactComposerStatusAttachmentMentionsInputVariant1,handleContentReturn:this.$ReactComposerStatusAttachmentMentionsInputVariant2}));var p="_3nc-",q="_3nc_",r="_5zq9",s=c("React").createElement(c("EmojiInputButton.react"),{buttonClassName:p,iconActiveClassName:r,iconClassName:q,onSelect:this.props.onInsertEmoji,onClick:this.$ReactComposerStatusAttachmentMentionsInputVariant3}),t=null;if(k)t=c("React").createElement(k,{sticker:this.props.sticker,composerID:this.props.compositionID});return c("React").createElement("div",{className:"_3nd0"},t,n,s)};l.prototype.blur=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()};l.prototype.focus=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()};f.exports=l}),null);
__d("ReactComposerStatusAttachmentMentionsInputContainer.react",["Arbiter","EditorState","LitestandStoryInsertionStatus","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerContextTypes","getReactComposerEmojiInputDecorator","ReactComposerEvents","ReactComposerOptimisticPostingActions","ReactComposerHandleUnsavedChanges","ReactComposerInputDecorator","ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputVariant.react","ReactComposerStatusStore","ReactComposerStatusUtils","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","TextDelightEvents","UnicodeUtils","addEmojiToEditorState","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=function i(k,l){var m=c("ReactComposerAttachmentStore").getSelectedAttachmentID(k);if(m===c("ReactComposerAttachmentType").LIVE_VIDEO||m===c("ReactComposerAttachmentType").SELL)return false;var n=l&&l.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],o=c("ReactComposerTaggerStore").hasMarkdown(k);return!!(n&&n.richTextEditor&&!o)},j=c("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputContainer",_rerenderSubscription:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"),c("ReactComposerMediaUploadStore"),c("ReactComposerMinutiaeAttachmentStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerStatusStore"),c("ReactComposerStore"),c("ReactComposerTaggerStore"))],propTypes:{config:c("ReactComposerConfig"),mentionsEnabled:h.bool,mentionsSource:h.object,onChange:h.func,onFocus:h.func,onPasteFiles:h.func,handlePastedText:h.func},getDefaultProps:function k(){return{mentionsEnabled:true}},getInitialState:function k(){return{isFocused:false}},statics:{calculateState:function k(l,m){__p&&__p();var n=c("ReactComposerStatusStore").getEditorState(l),o=m.config&&m.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],p=false,q=c("ReactComposerStatusStore").getTextLength(l),r=c("ReactComposerAttachmentStore").isSelectedAttachmentActive(l),s=c("ReactComposerAttachmentStore").getSelectedAttachmentID(l),t=i(l,m.config),u=c("ReactComposerInputDecorator").NONE;if(m.mentionsEnabled)u=o&&o.richTextEditor?c("ReactComposerInputDecorator").RICH_TEXT:c("ReactComposerInputDecorator").MENTIONS;if(o&&o.largeTextThreshold&&c("ReactComposerMediaUploadStore").getUploadsCount(l)===0&&!c("ReactComposerScrapedAttachmentStore").hasAttachment(l)&&!c("ReactComposerTaggerStore").hasExplicitLocation(l)&&!c("ReactComposerTaggerStore").hasMarkdown(l)&&c("ReactComposerMinutiaeAttachmentStore").getMarkup(l)===null&&s!==c("ReactComposerAttachmentType").FIND_PLAYERS&&s!==c("ReactComposerAttachmentType").SELL){if(!q&&n){var v=n.getCurrentContent();q=c("UnicodeUtils").strlen(v.getPlainText())}var w=m.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].placeholderText;if(w&&w.length<=o.LargePlaceholderTextThreshold&&q===0&&r||q!==0&&q<=o.largeTextThreshold)p=true;c("ifRequired")("ReactComposerFormattedTextStore",function(z){var A=z.getSelectedIndex(l);if(A>-1){p=true;u=m.mentionsEnabled?c("ReactComposerInputDecorator").MENTIONS:c("ReactComposerInputDecorator").NONE;t=false}})}var x=c("getReactComposerEmojiInputDecorator")(u,p&&!t?28:16),y=void 0;if(n)if(n.getDecorator()!==x){y=c("EditorState").set(n,{decorator:x});c("ReactComposerStatusActions").setEditorState(l,y)}else y=n;else{y=c("EditorState").createEmpty(x);c("ReactComposerStatusActions").setEditorState(l,y)}return{activeEditorState:c("ReactComposerStatusStore").getActiveEditorState(l),editorState:y,isSelectedAttachmentActive:c("ReactComposerAttachmentStore").isSelectedAttachmentActive(l),mentionsSource:m.mentionsEnabled?c("ReactComposerStatusStore").getMentionsSource(l):null,posting:c("ReactComposerStore").isPosting(l),typeaheadReporter:c("ReactComposerStatusStore").getTypeaheadReporter(l),shouldUseLargeText:p,selectedSticker:c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").STICKER),useRichText:t}}},componentWillMount:function k(){if(this.props.mentionsSource)c("ReactComposerStatusActions").setMentionsSource(this.context.composerID,this.props.mentionsSource);this._storyInsertionBlocker=c("LitestandStoryInsertionStatus").registerBlocker(function(){return c("ReactComposerHandleUnsavedChanges").hasUnsavedChanges(this.context.composerID)||this.state.isFocused}.bind(this))},componentDidMount:function k(){var l=c("ReactComposerStatusStore").getEditorState(this.context.composerID);if(this.state.editorState!==l){this._pendingEditorStateUpdateFromMount=l;this.setState({editorState:l},function(){this._pendingEditorStateUpdateFromMount=undefined}.bind(this))}this._rerenderSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").RERENDER_MENTION_INPUT+this.context.composerID,function(){this.setState({editorState:c("ReactComposerStatusStore").getEditorState(this.context.composerID)})}.bind(this))},componentWillReceiveProps:function k(l){if(this.props.mentionsSource!==l.mentionsSource)c("ReactComposerStatusActions").setMentionsSource(this.context.composerID,l.mentionsSource);if(l.editorState===null){var m=c("EditorState").createEmpty(c("getReactComposerEmojiInputDecorator")(c("ReactComposerInputDecorator").MENTIONS));c("ReactComposerStatusActions").setEditorState(this.context.composerID,m);this.setState({editorState:m})}},componentWillUnmount:function k(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;this._rerenderSubscription&&this._rerenderSubscription.unsubscribe()},render:function k(){return c("React").createElement(c("ReactComposerStatusAttachmentMentionsInputVariant.react"),babelHelpers["extends"]({},this.props,{activeEditorState:this.state.activeEditorState,compositionID:this.context.composerID,editorState:this.state.editorState,isSelectedAttachmentActive:this.state.isSelectedAttachmentActive,isPosting:this.state.posting,mentionsSource:this.state.mentionsSource,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onInsertEmoji:this._onInsertEmoji,onPostIntent:this._onPostIntent,ownerID:this.context.actorID,ref:"mentionsInput",shouldUseLargeText:this.state.shouldUseLargeText,typeaheadReporter:this.state.typeaheadReporter,useRichTextEditor:this.state.useRichText,sticker:this.state.selectedSticker}))},focus:function k(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus();if(this._pendingEditorStateUpdateFromMount!==undefined)this.setState({editorState:this._pendingEditorStateUpdateFromMount},function(){return this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()}.bind(this))},_onFocus:function k(){c("Arbiter").inform(c("ReactComposerEvents").MENTION_INPUT_FOCUS+this.context.composerID);this.setState({isFocused:true});this.props.onFocus&&this.props.onFocus()},_onChange:function k(l){__p&&__p();if(this._pendingEditorStateUpdateFromMount!==undefined)return;var m=0;if(l){var n=l.getCurrentContent();m=n?c("UnicodeUtils").strlen(n.getPlainText()):0;if(c("ReactComposerStatusStore").getEditorState(this.context.composerID)!==l){c("ReactComposerStatusActions").setEditorState(this.context.composerID,l);c("ReactComposerStatusActions").setTextLength(this.context.composerID,m);if(n)c("TextDelightEvents").emitScrapablePost(n.getPlainText())}}this._handleMarkdownChange(l);this.props.onChange&&this.props.onChange(l);this.setState({editorState:l})},_onInsertEmoji:function k(l){var m=c("ReactComposerStatusStore").getActiveEditorState(this.context.composerID),n=c("ReactComposerStatusStore").getActiveLanguageDialect(this.context.composerID);c("addEmojiToEditorState")(l,m,n==null?this._onChange:this._onMultilingualEditorChange)},_onMultilingualEditorChange:function k(l){var m=this.context.composerID,n=c("ReactComposerStatusStore").getActiveEditorState(m),o=c("ReactComposerStatusStore").getActiveLanguageDialect(m);if(n!==l)c("ifRequired")("ReactComposerMultilingualStatusActions",function(p){p.setEditorState(m,o,l)})},_handleMarkdownChange:function k(l){var m=this.props.config?this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS]:null;c("ReactComposerStatusUtils").handleMarkdownPreview(this.context.composerID,this.context.targetID,m?m.markdownPreviewAttachment:null,l)},_onBlur:function k(l){c("ReactComposerStatusActions").setEditorState(this.context.composerID,l);this.setState({isFocused:false})},_onPostIntent:function k(){if(this.context.gks.optimisticPosting)c("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,this.props.config,c("ReactComposerAttachmentType").STATUS,this.context.actorID,this.context.targetID);else c("ReactComposerActions").postIntended(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID})}});f.exports=j}),null);
__d("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react",["cx","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputContainer.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputWithTagExpansionContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],render:function j(){var k=c("joinClasses")(this.props.className,"_395");return c("React").createElement(c("ReactComposerStatusAttachmentMentionsInputContainer.react"),babelHelpers["extends"]({},this.props,{className:k,onChange:this._onChange,ref:"mentionsInput"}))},focus:function j(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},insertEmoji:function j(k){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.insertEmoji(k)},_onChange:function j(k){c("ReactComposerStatusActions").setMentions(this.context.composerID,this._getMentionsFromEditorState(k));this.props.onChange&&this.props.onChange(k)},_getMentionsFromEditorState:function j(k){__p&&__p();var l=k.getCurrentContent(),m={};l.getBlockMap().forEach(function(n){__p&&__p();var o=n.getText();n.findEntityRanges(function(){return true},function(p,q){var r=n.getEntityAt(p);if(!r)return;var s=l.getEntity(r);if(s.getType()!=="MENTION"||s.getData().type!=="user")return;var t=s.getData().id;m[t]={type:"user",uid:t,text:o.slice(p,q),isWeak:s.getData().isWeak}})});return m}});f.exports=i}),null);
__d("BootloadedReactComposerFundraiserTaggerButton.react",["BootloadedComponent.react","ReactComposerTaggerType","JSResource","React","idx"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j;if((j=i)!=null?(j=j.taggersConfig)!=null?(j=j[c("ReactComposerTaggerType").FUNDRAISER])!=null?j.enabled:j:j:j)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerFundraiserTaggerButton.react").__setRef("BootloadedReactComposerFundraiserTaggerButton.react"),bootloadPlaceholder:c("React").createElement("div",null),source:i.source});return null}f.exports=h}),null);
__d("BootloadedReactComposerFundraiserTaggerContainer.react",["BootloadedComponent.react","ReactComposerTaggerType","JSResource","React","idx"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j;if((j=i)!=null?(j=j.taggersConfig)!=null?(j=j[c("ReactComposerTaggerType").FUNDRAISER])!=null?j.enabled:j:j:j)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerFundraiserTaggerContainer.react").__setRef("BootloadedReactComposerFundraiserTaggerContainer.react"),bootloadPlaceholder:c("React").createElement("div",null)});return null}f.exports=h}),null);
__d("PlaceSearchConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SOURCE_INTERN:"intern",SOURCE_W_COMPOSER:"web_composer",SOURCE_W_COMPOSER_MEDIA:"web_composer_media",SOURCE_ALBUM_CREATION:"album_creation",SOURCE_ALBUM_EDIT:"album_edit",SOURCE_PHOTO_EDIT:"photo_edit",SOURCE_ALBUM_ADD_PHOTOS:"album_add_photos",SOURCE_PLAN_EDIT:"plan_edit",SOURCE_GROUP_EDIT:"group_edit",SOURCE_DISSIMILARITY:"dissimilarity",SOURCE_TEST:"test",SOURCE_FQL:"fql",SOURCE_EVENTS:"events_create",SOURCE_PAGES:"pages_create",SOURCE_TOUCH:"touch",SOURCE_M:"m",SOURCE_M_PLAN:"m_plan",SOURCE_M_NO_GPS:"m_no_gps",SOURCE_PROFILE_MAP:"profile_map",SOURCE_WEB_DASH:"web_dashboard",SOURCE_MOBILE_DASH:"mobile_dashboard",SOURCE_UNKNOWN:"unknown",SOURCE_PHOTO_EDIT_EXIF:"photo_edit_exif",SOURCE_TIMELINE_LOCATION_EDIT:"timeline_location_edit",SOURCE_NETEGO_TAGGING:"netego_tagging",SOURCE_PPS_NETEGO:"netego_pps",SOURCE_PPS_SNOWLIFT:"snowlift_pps",SOURCE_PROXIMITY_GUESSER:"proximity_guesser",SOURCE_SEARCH_RESULTS_PAGE:"detailedsearch",SOURCE_PLACES_EDITOR:"places_editor",SOURCE_MAP_COMPOSER:"map_composer",SOURCE_W_MARKETPLACE_SEARCH:"web_marketplace_search",SOURCE_NEARBY:"nearby",SOURCE_SEARCH_MAP:"searchmap",SOURCE_TIMELINE_COMPOSER:"timeline_composer",SOURCE_M_EDIT_PROFILE:"m_edit_profile",SOURCE_M_EDIT_PAGE_INFO:"m_edit_page_info",SOURCE_PYML_NEARBY:"pyml_nearby",SOURCE_MOBILE_PLACE_COMPOSER:"mobile_place_composer",SOURCE_NEARBY_CHAT_ROOM:"nearby_chat_room",SOURCE_GRAPHQL:"graphql",SOURCE_CURRENT_PLACE:"current_place",SOURCE_AURA_PUSH_NOTIF:"aura_push_notif",SOURCE_SUGGESTIFIER:"suggestifier",SOURCE_PLACE_ADDRESS_LOCATED_IN:"place_address_located_in",SOURCE_IG_MEDIA_TAGGING:"instagram.media_tagging.place_search",SOURCE_MOBILE_STATUS:"mobile_status",SOURCE_MOBILE_CHECKIN:"mobile_checkin",SOURCE_SUGGESTED_CHECKIN_PROMPT:"suggested_checkin_prompt",SOURCE_MOBILE_PHOTO:"mobile_photo",SOURCE_CAMERA_MEDIA_EFFECT_UPLOAD:"camera_media_effect_upload",SOURCE_GEO_ADMIN_AREA_MATCHER:"geo_admin_area_matcher",SOURCE_INSTANT_WORKFLOWS:"instant_workflows",SOURCE_JOB_SEARCH:"job_search",SOURCE_INSPIRATIONS:"inspirations",SOURCE_IG_PLACE_TAGGING:"instagram.place_tagging",SOURCE_PAGES_MATCHER:"pages_matcher",SOURCE_HEALTH_BLOOD_DONATION_HOSPITAL:"blood_donation",PREDICTIONS_APPID:106712229428223})}),null);
__d("ReactComposerActivityTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h,i){var j=c("React").createClass({displayName:"ReactComposerActivityTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],statics:{taggerID:c("ReactComposerTaggerType").ACTIVITY,loggingName:c("ReactComposerLoggingName").MINUTIAE_TAGGER},getTitle:function k(){return i._("Add what you're doing or how you're feeling")},getTooltip:function k(){return i._("Add what you're doing or how you're feeling")},getClassName:function k(){return"_3tdo"}});f.exports=j}),null);
__d("ReactComposerActionTaggerItem.react",["cx","ImageBlock.react","React","TypeaheadViewItem","joinClasses"],(function a(b,c,d,e,f,g,h){var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerActionTaggerItem",mixins:[c("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({customIcon:i.object},c("TypeaheadViewItem").propTypes),render:function k(){var l=this.props.entry,m=l.getAuxiliaryData(),n=c("React").createElement("span",{dangerouslySetInnerHTML:m.icon||this.props.customIcon}),o="_599m _5mne"+(this.props.highlighted?" _599n":"")+" _18d1"+(this.props.highlighted?" _18d2":"");o=c("joinClasses")(o,this.props.className);return c("React").createElement("li",{"aria-selected":this.props.highlighted,className:o,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c("React").createElement(c("ImageBlock.react"),{spacing:"medium"},n,c("React").createElement("div",{className:"_599p"},l.getTitle())),c("React").createElement("i",{className:"_18d3"}))}});f.exports=j}),null);
__d("ReactComposerActionTaggerView.react",["React","ReactComposerActionTaggerItem.react","ReactComposerTaggerViewMixin"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerActionTaggerView",mixins:[c("ReactComposerTaggerViewMixin")],getItemImpl:function i(){return c("ReactComposerActionTaggerItem.react")}});f.exports=h}),null);
__d("ReactComposerActionTaggerPresenter",["ReactComposerActionTaggerView.react"],(function a(b,c,d,e,f,g){f.exports={ViewRenderer:c("ReactComposerActionTaggerView.react"),useLayer:true,maxEntries:20}}),null);
__d("WebAsyncSearchSourceWithMetrics",["AbstractAsyncSearchSource","AbstractSearchSource","AsyncRequest","Map","TypeaheadMetricReporter","WebAsyncSearchSourceUtils","uuid"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this);this.$WebAsyncSearchSourceWithMetrics1=new(c("AbstractAsyncSearchSource"))(k,this.$WebAsyncSearchSourceWithMetrics4.bind(this),c("WebAsyncSearchSourceUtils").normalizeResponse);this.$WebAsyncSearchSourceWithMetrics2=new(c("TypeaheadMetricReporter"))(l);this.$WebAsyncSearchSourceWithMetrics3=new(c("Map"))();this.$WebAsyncSearchSourceWithMetrics2.addListener&&this.$WebAsyncSearchSourceWithMetrics2.addListener("reset",function(m){this.$WebAsyncSearchSourceWithMetrics1.setRequestData({sid:m.sid})}.bind(this))}j.prototype.bootstrapImpl=function(k){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportBootstrapBegin();this.$WebAsyncSearchSourceWithMetrics1.bootstrap(function(){this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries(function(l){this.$WebAsyncSearchSourceWithMetrics2.reportBootstrapComplete(l.map(function(m){return m.getType()}));k()}.bind(this))}.bind(this))};j.prototype.searchImpl=function(k,l,m){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportQueryBegin(k);if(m)this.$WebAsyncSearchSourceWithMetrics2.reportStrategyName(m.strategyName);var n=Date.now();this.$WebAsyncSearchSourceWithMetrics1.search(k,function(o,k,p){this.$WebAsyncSearchSourceWithMetrics2.reportQueryComplete(Date.now()-n,0);l(o,k,p)}.bind(this),m)};j.prototype.getBootstrappedEntries=function(k){"use strict";return this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries(k)};j.prototype.getAllEntriesMap=function(){"use strict";return this.$WebAsyncSearchSourceWithMetrics1.getAllEntriesMap()};j.prototype.getTypeaheadSessionID=function(){"use strict";return this.$WebAsyncSearchSourceWithMetrics2.getSID()};j.prototype.setRequestData=function(k){"use strict";this.$WebAsyncSearchSourceWithMetrics1.setRequestData(k)};j.prototype.sessionStart=function(){"use strict";this.$WebAsyncSearchSourceWithMetrics2.sessionStart()};j.prototype.sessionEnd=function(){"use strict";this.$WebAsyncSearchSourceWithMetrics2.sessionEnd()};j.prototype.reportResults=function(k){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportResults(k)};j.prototype.reportSelect=function(k,l,m,n,o,p){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportSelect(k,l,m,n,o,p)};j.prototype.reportRequestID=function(k){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportRequestID(this.$WebAsyncSearchSourceWithMetrics5(k))};j.prototype.$WebAsyncSearchSourceWithMetrics5=function(k){"use strict";var l=k;while(l.length>0){if(this.$WebAsyncSearchSourceWithMetrics3.has(l))return this.$WebAsyncSearchSourceWithMetrics3.get(l);l=l.slice(0,-1)}return this.$WebAsyncSearchSourceWithMetrics3.get("")};j.prototype.$WebAsyncSearchSourceWithMetrics4=function(k,l,m,n){"use strict";var o=k.value||"",p=c("uuid")();new(c("AsyncRequest"))(l.uri).setData(babelHelpers["extends"]({request_id:p},k,l.data)).setMethod("GET").setReadOnly(true).setAllowCrossPageTransition(true).setInitialHandler(function(){this.$WebAsyncSearchSourceWithMetrics3.set(o,p)}.bind(this)).setHandler(m).setErrorHandler(n).send()};f.exports=j}),null);
__d("ReactComposerActionTaggerComponent.react",["cx","fbt","BasicTypeaheadLoggerJSConstants","DummySearchSource","React","ReactComposerActionTaggerPresenter","ReactComposerTaggerViewStyles","WebAsyncSearchSourceWithMetrics","XUITypeahead.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("BasicTypeaheadLoggerJSConstants").Fields,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){"use strict";__p&&__p();k.constructor.call(this,o);this.$ReactComposerActionTaggerComponent1=function(p,event){var q={};q[l.SELECTED_ORIGINAL_ID]=p.getAuxiliaryData().original_id;q[l.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(p.getUniqueID(),p.getType(),p.getOrder(),!!event&&event.button>=0,this.state.query,q);this.props.taggerSource.sessionEnd();this.setState({query:p.getTitle()});this.props.onSelect&&this.props.onSelect(p)}.bind(this);this.$ReactComposerActionTaggerComponent2=function(){this.setState({query:""});this.props.onSelect&&this.props.onSelect(null)}.bind(this);this.$ReactComposerActionTaggerComponent3=function(event){this.setState({query:event.target.value})}.bind(this);this.$ReactComposerActionTaggerComponent4=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$ReactComposerActionTaggerComponent5=function(){this.props.taggerSource.sessionStart()}.bind(this);this.$ReactComposerActionTaggerComponent6=function(p,q){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(p.map(function(r){return r.getUniqueID()}))}.bind(this);this.$ReactComposerActionTaggerComponent7=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);o.taggerSource.sessionStart();this.state={query:""}}n.prototype.componentWillUnmount=function(){"use strict";this.props.taggerSource.sessionEnd()};n.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_3uco _5esl"},c("React").createElement(c("XUITypeahead.react"),{presenter:this.$ReactComposerActionTaggerComponent8(),focusedOnInit:this.props.autoFocus,showEntriesOnFocus:true,placeholder:i._("Choose a feeling or activity..."),className:"_5esx _3ucr",queryString:this.state.query,searchSource:this.props.taggerSource,highlightOnSelect:true,onSelectAttempt:this.$ReactComposerActionTaggerComponent1,onClear:this.$ReactComposerActionTaggerComponent2,onChange:this.$ReactComposerActionTaggerComponent3,onBlur:this.$ReactComposerActionTaggerComponent4,onFocus:this.$ReactComposerActionTaggerComponent5,onEntriesFound:this.$ReactComposerActionTaggerComponent6,onNoEntriesFound:this.$ReactComposerActionTaggerComponent7,tallInput:true,autoHighlight:true}))};n.prototype.$ReactComposerActionTaggerComponent8=function(){"use strict";var o={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},c("ReactComposerActionTaggerPresenter"),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:o})};n.propTypes={autoFocus:m.bool,onSelect:m.func,placeID:m.string,taggerSource:m.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape)};n.defaultProps={autoFocus:true,onSelect:c("emptyFunction"),taggerSource:new(c("DummySearchSource"))(),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT};f.exports=n}),null);
__d("ReactComposerObjectTaggerItem.react",["cx","BackgroundImage.react","Badge.react","ImageBlock.react","Locale","React","TypeaheadViewItem","UnicodeBidi","joinClasses"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"ReactComposerObjectTaggerItem",mixins:[c("TypeaheadViewItem").Mixin],propTypes:c("TypeaheadViewItem").propTypes,render:function j(){var k=this.props.entry,l=k.getSubtitle()?c("React").createElement("div",{className:"_599q"},k.getSubtitle()):null,m=k.getPhoto()?c("React").createElement(c("BackgroundImage.react"),{width:32,height:32,backgroundSize:"cover",src:k.getPhoto()}):c("React").createElement("span",null),n=k.getAuxiliaryData(),o=n&&n.verified?c("React").createElement(c("Badge.react"),null):null,p=n&&n.icon?c("React").createElement("span",{className:"_mbq",dangerouslySetInnerHTML:n.icon}):null,q="_599m"+(!l?" _5mne":"")+(this.props.highlighted?" _599n":"");q=c("joinClasses")(q,this.props.className);var r=c("UnicodeBidi").isDirectionRTL(k.getTitle()),s=c("Locale").isRTL(),t=r&&!s?"rtl":!r&&s?"ltr":null;return c("React").createElement("li",{"aria-selected":this.props.highlighted,className:q,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c("React").createElement(c("ImageBlock.react"),{spacing:"medium"},m,c("React").createElement("div",null,c("React").createElement("div",{className:"_599p",dir:t},k.getTitle(),o),l),p))}});f.exports=i}),null);
__d("ReactComposerObjectTaggerView.react",["React","ReactComposerActionTaggerItem.react","ReactComposerObjectTaggerItem.react","ReactComposerTaggerViewMixin"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerObjectTaggerView",mixins:[c("ReactComposerTaggerViewMixin")],getItemImpl:function i(){return c("ReactComposerObjectTaggerItem.react")},getRegexItemImpl:function i(){return c("ReactComposerActionTaggerItem.react")}});f.exports=h}),null);
__d("ReactComposerObjectTaggerPresenter",["ReactComposerObjectTaggerView.react"],(function a(b,c,d,e,f,g){f.exports={ViewRenderer:c("ReactComposerObjectTaggerView.react"),useLayer:true,maxEntries:120}}),null);
__d("WebAsyncPlusRegexSearchSource",["invariant","AbstractSearchSource"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("AbstractSearchSource"));j=i&&i.prototype;function k(l){"use strict";j.constructor.call(this);this.$WebAsyncPlusRegexSearchSource1=l.asyncSource;this.$WebAsyncPlusRegexSearchSource2=l.regexSource;this.$WebAsyncPlusRegexSearchSource3=!!l.appendRegexEntries;this.$WebAsyncPlusRegexSearchSource4=!!l.preferRegexEntries;!!this.$WebAsyncPlusRegexSearchSource1||h(0);!!this.$WebAsyncPlusRegexSearchSource2||h(0)}k.prototype.bootstrapImpl=function(l){"use strict";this.$WebAsyncPlusRegexSearchSource1.bootstrap(l)};k.prototype.$WebAsyncPlusRegexSearchSource5=function(l,m){"use strict";__p&&__p();var n=[],o=false,p;for(var q=0;q<l.length;q++){p=l[q].getTitle();for(var r=0;r<m.length;r++)if(p===m[r].getTitle()){o=true;break}if(!o)n.push(l[q]);else o=false}return n};k.prototype.searchImpl=function(l,m,n){"use strict";__p&&__p();var o=this.$WebAsyncPlusRegexSearchSource1,p=this.$WebAsyncPlusRegexSearchSource3,q=this.$WebAsyncPlusRegexSearchSource4,r=this.$WebAsyncPlusRegexSearchSource5;this.$WebAsyncPlusRegexSearchSource2.search(l,function(s){__p&&__p();m(s,l);o.search(l,function(t){__p&&__p();var u=[],v=[];if(q){u=s;v=r(t,s)}else{v=t;u=r(s,t)}var w=p?v.concat(u):u.concat(v);m(w,l)},n)},n)};f.exports=k}),null);
__d("ReactComposerObjectTaggerComponent.react",["cx","DummySearchSource","Grid.react","ReactComposerObjectTaggerPresenter","ReactComposerTaggerViewStyles","React","RegexMatchSearchSource","BasicTypeaheadLoggerJSConstants","WebAsyncPlusRegexSearchSource","WebAsyncSearchSourceWithMetrics","XUITypeahead.react","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("Grid.react").GridItem,l=c("BasicTypeaheadLoggerJSConstants").Fields,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(o){"use strict";__p&&__p();j.constructor.call(this,o);this.$ReactComposerObjectTaggerComponent1=function(u,event){var v={};v[l.SELECTED_ORIGINAL_ID]=u.getAuxiliaryData().original_id;v[l.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(u.getUniqueID(),u.getType(),u.getOrder(),!!event&&event.button>=0,this.state.query,v);this.props.taggerSource.sessionEnd();this.setState({query:u.getTitle()});this.props.onSelect(u)}.bind(this);this.$ReactComposerObjectTaggerComponent2=function(event){if(this.props.object&&this.props.object.getTitle()===event.target.value)this.props.onSelect(null);if(event.target.value==="")this.props.onEmptyBackspace()}.bind(this);this.$ReactComposerObjectTaggerComponent3=function(){this.setState({query:""});this.props.onClear()}.bind(this);this.$ReactComposerObjectTaggerComponent4=function(event){this.setState({query:event.target.value})}.bind(this);this.$ReactComposerObjectTaggerComponent5=function(){this.props.onPrefixClick()}.bind(this);this.$ReactComposerObjectTaggerComponent6=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$ReactComposerObjectTaggerComponent7=function(){setTimeout(function(){this.props.taggerSource.sessionStart()}.bind(this),0)}.bind(this);this.$ReactComposerObjectTaggerComponent8=function(u,v){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(u.map(function(w){return w.getUniqueID()}))}.bind(this);this.$ReactComposerObjectTaggerComponent9=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);var p=o.taggerSource,q=o.action.getUniqueID(),r=o.actionTypeIDsWithNoFreeForm,s=!r[q];if(s){var t=new(c("RegexMatchSearchSource"))(".+");p=new(c("WebAsyncPlusRegexSearchSource"))({asyncSource:p,regexSource:t,appendRegexEntries:true})}setTimeout(function(){o.taggerSource.sessionStart()},0);this.state={query:o.object?o.object.getTitle():"",searchSource:p}}n.prototype.componentWillUnmount=function(){"use strict";this.props.taggerSource.sessionEnd()};n.prototype.focusInput=function(){"use strict";var o=this.refs.objectTypeahead;if(o)o.focusInput&&o.focusInput()};n.prototype.render=function(){"use strict";var o=this.props.action.getAuxiliaryData(),p=o?o.prompt:"";return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl",role:"presentation"},c("React").createElement(k,{className:"_5esm _4zdy",key:"prefix",role:"presentation",onClick:this.$ReactComposerObjectTaggerComponent5},this.props.action.getTitle()),c("React").createElement(k,{className:"_5esw",key:"suffix",role:"presentation"},c("React").createElement(c("XUITypeahead.react"),{ref:"objectTypeahead",presenter:this.$ReactComposerObjectTaggerComponent10(),clearable:true,focusedOnInit:this.props.autoFocus,autoHighlight:true,showEntriesOnFocus:true,placeholder:p,selectedEntry:this.props.object,className:"_5esx _4zdz",queryString:this.state.query,searchSource:this.state.searchSource,highlightOnSelect:true,onSelectAttempt:this.$ReactComposerObjectTaggerComponent1,onBackspace:this.$ReactComposerObjectTaggerComponent2,onClear:this.$ReactComposerObjectTaggerComponent3,onChange:this.$ReactComposerObjectTaggerComponent4,onBlur:this.$ReactComposerObjectTaggerComponent6,onEntriesFound:this.$ReactComposerObjectTaggerComponent8,onNoEntriesFound:this.$ReactComposerObjectTaggerComponent9,onFocus:this.$ReactComposerObjectTaggerComponent7,tallInput:false})))};n.prototype.$ReactComposerObjectTaggerComponent10=function(){"use strict";var o={};o.taggerViewStyle=this.props.taggerViewStyle;o.customIcon=this.props.action.getAuxiliaryData().icon;return Object.assign({},c("ReactComposerObjectTaggerPresenter"),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:o})};n.propTypes={action:m.object.isRequired,actionTypeIDsWithNoFreeForm:m.object.isRequired,autoFocus:m.bool,object:m.object,onClear:m.func.isRequired,onEmptyBackspace:m.func.isRequired,onPrefixClick:m.func.isRequired,onSelect:m.func.isRequired,placeID:m.string,taggerSource:m.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape)};n.defaultProps={actionTypeIDsWithNoFreeForm:{},autoFocus:true,onClear:c("emptyFunction"),onEmptyBackspace:c("emptyFunction"),onPrefixClick:c("emptyFunction"),onSelect:c("emptyFunction"),taggerSource:new(c("DummySearchSource"))(),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT};f.exports=n}),null);
__d("ReactComposerObjectTaggerContainer.react",["React","ReactComposerObjectTaggerComponent.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTaggerViewStyles","emptyFunction"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerObjectTaggerContainer",mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"))],propTypes:{action:h.object.isRequired,autoFocus:h.bool,onClear:h.func.isRequired,onEmptyBackspace:h.func.isRequired,onPrefixClick:h.func.isRequired,onSelect:h.func.isRequired,object:h.object,taggerViewStyle:h.shape(c("ReactComposerTaggerViewStyles").Shape)},getDefaultProps:function j(){return{autoFocus:true,onClear:c("emptyFunction"),onEmptyBackspace:c("emptyFunction"),onPrefixClick:c("emptyFunction"),onSelect:c("emptyFunction"),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}},statics:{calculateState:function j(k,l){var m=c("ReactComposerTaggerStore").getTaggerSource(k,c("ReactComposerTaggerType").OG);return{taggerSource:m}}},render:function j(){return c("React").createElement(c("ReactComposerObjectTaggerComponent.react"),babelHelpers["extends"]({ref:"objectTagger"},this.props,{taggerSource:this.state.taggerSource}))},focusInput:function j(){var k=this.refs.objectTagger;k&&k.focusInput()}});f.exports=i}),null);
__d("ReactComposerActivityTaggerComponent.react",["DummySearchSource","React","ReactComposerActionTaggerComponent.react","ReactComposerObjectTaggerContainer.react","ReactComposerTaggerViewStyles","WebAsyncSearchSourceWithMetrics","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){__p&&__p();var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={action:this.props.taggerData.action,object:this.props.taggerData.object},this.$ReactComposerActivityTaggerComponent3=function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(q,null));this.setState({action:q})}.bind(this),this.$ReactComposerActivityTaggerComponent2=function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(this.state.action,q));this.setState({object:q})}.bind(this),this.$ReactComposerActivityTaggerComponent1=function(){this.props.onSelect&&this.props.onSelect(this.getTaggerData(null,null));this.setState({action:null,object:null})}.bind(this),m}k.prototype.componentDidUpdate=function(){"use strict";if(this.state.action&&!this.state.object){var l=this.refs.objectTagger;l&&l.focusInput()}};k.prototype.componentWillUnmount=function(){"use strict";if(this.state.action&&!this.state.object)this.$ReactComposerActivityTaggerComponent1()};k.prototype.render=function(){"use strict";if(this.state.action)return c("React").createElement(c("ReactComposerObjectTaggerContainer.react"),{ref:"objectTagger",action:this.state.action,actionTypeIDsWithNoFreeForm:this.props.actionTypeIDsWithNoFreeForm,autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,object:this.state.object,onClear:this.$ReactComposerActivityTaggerComponent1,onEmptyBackspace:this.$ReactComposerActivityTaggerComponent1,onPrefixClick:this.$ReactComposerActivityTaggerComponent1,onSelect:this.$ReactComposerActivityTaggerComponent2,placeID:this.props.placeID,taggerViewStyle:this.props.objectTaggerViewStyle});return c("React").createElement(c("ReactComposerActionTaggerComponent.react"),{autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,onSelect:this.$ReactComposerActivityTaggerComponent3,placeID:this.props.placeID,taggerSource:this.props.taggerSource,taggerViewStyle:this.props.actionTaggerViewStyle})};k.prototype.getTaggerData=function(l,m){"use strict";var n=this.props.taggerData;n.action=l;n.object=m;return n};k.propTypes={actionTypeIDsWithNoFreeForm:j.object.isRequired,actorID:j.string.isRequired,autoFocus:j.bool,placeID:j.string,taggerData:j.object.isRequired,taggerSource:j.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired,onSelect:j.func.isRequired,actionTaggerViewStyle:j.shape(c("ReactComposerTaggerViewStyles").Shape),objectTaggerViewStyle:j.shape(c("ReactComposerTaggerViewStyles").Shape)};k.defaultProps={actionTypeIDsWithNoFreeForm:{},autoFocus:true,taggerData:{},taggerSource:new(c("DummySearchSource"))(),onSelect:c("emptyFunction"),actionTaggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,objectTaggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT};f.exports=k}),null);
__d("ReactComposerLocationAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_MINUTIAE_ACTION_CONTEXT:null,SET_LOCATION_MARKUP:null},"ReactComposerLocationAttachmentActionType")}),null);
__d("XReactComposerLocationAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/location/attachment/",{composer_id:{type:"String",required:true},location_id:{type:"String",required:true},target_id:{type:"String",required:true}})}),null);
__d("ReactComposerLocationAttachmentStore",["AsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerLocationAttachmentActionType","ReactComposerStoreBase","XReactComposerLocationAttachmentController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{isEnabled:false,isFetching:false,markup:null,pendingRequest:null,minutiaeTaggedPlace:null,isTimeline:false,sourceAttachment:null}},function(l){__p&&__p();switch(l.type){case c("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED:k&&k.$ReactComposerLocationAttachmentStore1(l);break;case c("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore2(l);break;case c("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT:k&&k.$ReactComposerLocationAttachmentStore3(l);break;case c("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP:k&&k.$ReactComposerLocationAttachmentStore4(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore5(l);break}});k=this}j.prototype.isEnabled=function(k){"use strict";return this.getComposerData(k).isEnabled};j.prototype.getMarkup=function(k){"use strict";return this.getComposerData(k).markup};j.prototype.getMinutiaeTaggedPlace=function(k){"use strict";return this.getComposerData(k).minutiaeTaggedPlace};j.prototype.getIsTimeline=function(k){"use strict";return this.getComposerData(k).isTimeline};j.prototype.isFetching=function(k){"use strict";return this.getComposerData(k).isFetching};j.prototype.$ReactComposerLocationAttachmentStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","enabled"]),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n};j.prototype.$ReactComposerLocationAttachmentStore2=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","locationID","targetID"]),m=l[0],n=l[1],o=l[2];if(!this.isEnabled(m))return;var p=this.getComposerData(m);p.isFetching=true;var q=c("XReactComposerLocationAttachmentController").getURIBuilder().setString("composer_id",m).setString("location_id",n).setString("target_id",o).getURI();p.pendingRequest=new(c("AsyncRequest"))(q).setFinallyHandler(function(){p.isFetching=false;p.pendingRequest=null;this.emitChange(m)}.bind(this));p.pendingRequest.send();this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","objectID","isTimeline"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.minutiaeTaggedPlace=n;p.isTimeline=o;this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","markup"]),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;o.sourceAttachment=c("ReactComposerAttachmentStore").getSelectedAttachmentID(m);this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore5=function(k){"use strict";var l=this.validateAction(k,["composerID","id"]),m=l[0],n=l[1],o=this.getComposerData(m);if(n===c("ReactComposerAttachmentType").STATUS||k.proxiedAttachmentID===o.sourceAttachment||o.sourceAttachment===null)return;o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerLocationAttachmentActions",["ReactComposerDispatcher","ReactComposerLocationAttachmentActionType","ReactComposerLocationAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerLocationAttachmentStore");h.prototype.enabled=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED,enabled:j})};h.prototype.fetchLocationAttachment=function(i,j,k){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT,locationID:j,targetID:k})};h.prototype.setMinutiaeActionContext=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT,objectID:j,isTimeline:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.setMarkup=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP,markup:j})};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerMinutiaeAttachmentActions",["ReactComposerDispatcher","ReactComposerMinutiaeAttachmentActionType","ReactComposerMinutiaeAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerMinutiaeAttachmentStore");h.prototype.fetchMinutiaeAttachment=function(i,j,k,l,m,n){"use strict";var o={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").FETCH_ATTACHMENT,actionID:j,objectID:k,targetID:l,actorID:m,isTimeline:n};c("ReactComposerDispatcher").dispatch(o)};h.prototype.setExplicitLocation=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").SET_EXPLICIT_LOCATION,explicitLocation:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setMarkup=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").SET_MARKUP,markup:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setHideAttachment=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").SET_HIDE_OBJECT_ATTACHMENT,hideAttachment:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerTypeaheadSearchSourceType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTIVITY:"ACTIVITY",LOCATION:"LOCATION"})}),null);
__d("ReactComposerActivityTaggerContainer.react",["Arbiter","BasicTypeaheadLoggerJSConstants","Map","MinutiaeVerbs","React","ReactComposerActivityTaggerComponent.react","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerEvents","ReactComposerLocationAttachmentActions","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ReactComposerTypeaheadSearchSourceConfig","ReactComposerTypeaheadSearchSourceType","WebAsyncSearchSourceWithMetrics","getObjectValues"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerActivityTaggerContainer",_actionTypeSearchSources:new(c("Map"))(),_objectSearchSources:new(c("Map"))(),_searchSourceConfig:null,mixins:[c("ReactComposerTaggerContainerMixin")()],statics:{taggerID:c("ReactComposerTaggerType").ACTIVITY,loggingName:c("ReactComposerLoggingName").MINUTIAE_TAGGER,taggerComponent:c("ReactComposerActivityTaggerComponent.react"),enableHideOnEscape:true,webDriverTestID:"activity-tagger-component"},propTypes:{actionTypeIDsToPrefetch:h.array.isRequired,actionTypeIDsWithNoFreeForm:h.object.isRequired,isPersonalTimeline:h.bool,rankVerbs:h.bool,placeID:h.string,typeaheadLoggerEventName:h.oneOf(c("getObjectValues")(c("BasicTypeaheadLoggerJSConstants").EventNames)).isRequired,actionTaggerViewStyle:h.shape(c("ReactComposerTaggerViewStyles").Shape),objectTaggerViewStyle:h.shape(c("ReactComposerTaggerViewStyles").Shape)},getDefaultProps:function j(){return{actionTypeIDsToPrefetch:[],actionTypeIDsWithNoFreeForm:{},isPersonalTimeline:false,placeID:null,rankVerbs:false,actionTaggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,objectTaggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}},getInitialState:function j(){return{hasDoneInitialObjectPrefetch:false}},componentWillMount:function j(){this._searchSourceConfig=c("ReactComposerTypeaheadSearchSourceConfig")[c("ReactComposerTypeaheadSearchSourceType").ACTIVITY];this._updateActionTypeSearchSource(this.props.placeID);this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData)},componentWillReceiveProps:function j(k){if(k.placeID!==this.props.placeID){this._updateActionTypeSearchSource(k.placeID);this._prefetchObjectSearchSources(k.placeID)}},componentWillUpdate:function j(k,l){__p&&__p();if(!this.state.isSelected&&l.isSelected){var m=this._actionTypeSearchSources.get(this.props.placeID).getTypeaheadSessionID();this._createAndBootstrapActionTypeSearchSource(this.props.placeID,{sid:m});var n=this.state.hasDoneInitialObjectPrefetch||l.hasDoneInitialObjectPrefetch;if(!n)this._prefetchObjectSearchSources(this.props.placeID);var o=l.taggerData;if(o.action)this._updateObjectSearchSource(o.action.getUniqueID())}},_suppressUpdateLogging:function j(k){return k.action&&!k.object},__onTaggerDataChanged:function j(k){__p&&__p();if(k.action){this._updateObjectSearchSource(k.action.getUniqueID());if(!k.object){var l=this._objectSearchSources.get(k.action.getUniqueID()).getTypeaheadSessionID();this._createAndBootstrapObjectSearchSource(k.action.getUniqueID(),this.props.placeID,{sid:l})}}if(k.action&&k.object){c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.constructor.loggingName);var m=this._shouldFetchMinutiaeAttachment(k.action,k.object);if(k.shouldRemoveDefaultAttachment)m=false;if(m){if(k.action.getUniqueID()==c("MinutiaeVerbs").COMPOSER_TRAVELS.toString())c("ReactComposerLocationAttachmentActions").setMinutiaeActionContext(this.context.composerID,k.object.getUniqueID(),!!this.props.isPersonalTimeline);else this._clearMinutiaeLocation();c("ReactComposerMinutiaeAttachmentActions").fetchMinutiaeAttachment(this.context.composerID,k.action.getUniqueID(),k.object.getUniqueID(),this.context.targetID,this.context.actorID,!!this.props.isPersonalTimeline);setTimeout(function(){c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),0)}}else{c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,null);this._clearMinutiaeLocation()}},_clearMinutiaeLocation:function j(){c("ReactComposerLocationAttachmentActions").setMinutiaeActionContext(this.context.composerID,null,!!this.props.isPersonalTimeline)},_shouldFetchMinutiaeAttachment:function j(k,l){var m=c("ReactComposerAttachmentStore").getIsAttachmentSelected(this.context.composerID,c("ReactComposerAttachmentType").STATUS);if(!m)return false;if(l.getAuxiliaryData().isRegexEntry)return false;return true},_updateActionTypeSearchSource:function j(k){var l=null;if(this._actionTypeSearchSources.has(k))l=this._actionTypeSearchSources.get(k);else{l=this._createAndBootstrapActionTypeSearchSource(k,{is_prefetching:true});this._actionTypeSearchSources.set(k,l)}c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").ACTIVITY,l)},_createAndBootstrapActionTypeSearchSource:function j(k,l){var m="/ajax/metacomposer/attachment/og/typeahead/bootstrap/action_type_loader",n={place_id:k,rank_verbs:this.props.rankVerbs,viewer:this.props.actorID},o={getAllForEmptyQuery:true,bootstrapRequests:[{uri:m,data:Object.assign({},n)}],queryRequests:[],auxiliaryFields:this._searchSourceConfig.action&&this._searchSourceConfig.action.auxiliaryFields};if(this.props.rankVerbs)o.queryRequests=[{uri:m,data:Object.assign({},n)}];var p={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:c("BasicTypeaheadLoggerJSConstants").MinutiaeComposerVersions.REACT,at_id:c("MinutiaeVerbs").COMPOSER_SELECTS_VERB},q=new(c("WebAsyncSearchSourceWithMetrics"))(o,p),r=q.getTypeaheadSessionID();q.setRequestData(l);q.bootstrap();q.setRequestData({sid:r});return q},_prefetchObjectSearchSources:function j(k){var l=this.props.actionTypeIDsToPrefetch,m=new(c("Map"))();l.forEach(function(n){var o=this._createAndBootstrapObjectSearchSource(n,k,{is_prefetching:true});m.set(n,o)}.bind(this));this._objectSearchSources=m;this.setState({hasDoneInitialObjectPrefetch:true})},_updateObjectSearchSource:function j(k){var l=null;if(this._objectSearchSources.has(k))l=this._objectSearchSources.get(k);else{l=this._createAndBootstrapObjectSearchSource(k,this.props.placeID,{is_prefetching:false});this._objectSearchSources.set(k,l)}c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").OG,l)},_createAndBootstrapObjectSearchSource:function j(k,l,m){var n="/ajax/metacomposer/attachment/og/typeahead/query/object_loader",o={at_id:k,place_id:l,viewer:this.props.actorID},p={getAllForEmptyQuery:true,bootstrapRequests:[{uri:n,data:Object.assign({},o,{is_bootstrap:true})}],queryRequests:[{uri:n,data:Object.assign({},o,{is_bootstrap:false})}],auxiliaryFields:this._searchSourceConfig.object&&this._searchSourceConfig.object.auxiliaryFields},q={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:c("BasicTypeaheadLoggerJSConstants").MinutiaeComposerVersions.REACT,at_id:k},r=new(c("WebAsyncSearchSourceWithMetrics"))(p,q),s=r.getTypeaheadSessionID();r.setRequestData(m);r.bootstrap();r.setRequestData({sid:s});return r}});f.exports=i}),null);
__d("ReactComposerAlbumTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h,i){var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerAlbumTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],propTypes:{hasData:j.bool},statics:{taggerID:c("ReactComposerTaggerType").ALBUM,loggingName:c("ReactComposerLoggingName").ALBUM_TAGGER,suppressTaggerLink:true},getTitle:function l(){return i._("Add your post to an album")},getTooltip:function l(){return i._("Pick an album")},getClassName:function l(){return"_3c57"+(this.props.hasData?" _6xe":"")}});f.exports=k}),null);
__d("ReactComposerAlbumTaggerButtonContainer.react",["React","ReactComposerContextTypes","ReactComposerAlbumTaggerButton.react","ReactComposerAudienceStore","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.calculateState=function(k,l,m){var n=c("ReactComposerAudienceStore").getCollectionID(m.composerID);return{hasSelectedAlbum:n!==null}};j.getStores=function(){return[c("ReactComposerAudienceStore")]};j.prototype.render=function(){return c("React").createElement(c("ReactComposerAlbumTaggerButton.react"),{hasData:this.state.hasSelectedAlbum})};function j(){h.apply(this,arguments)}j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withContext:true,withProps:true})}),null);
__d("ReactComposerImplicitLocationComponent.react",["cx","React","XUICloseButton.react","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerImplicitLocationComponent",propTypes:{caption:i.string.isRequired,hasExplicitLocation:i.bool,onClear:i.func},defaultProps:{onClear:c("emptyFunction")},render:function k(){if(!this.props.caption)return c("React").createElement("noscript",null);var l=this.props.hasExplicitLocation?null:c("React").createElement(c("XUICloseButton.react"),{className:"_3s32",size:"small",onClick:this._onClear}),m="_3s33"+(this.props.hasExplicitLocation?" _3s34":"");return c("React").createElement("span",{className:m},c("React").createElement("span",null,this.props.caption.split(",")[0]),l)},_onClear:function k(event){event.stopPropagation();this.props.onClear&&this.props.onClear()}});f.exports=j}),null);
__d("ReactComposerImplicitLocationContainer.react",["AsyncRequest","React","ReactComposerImplicitLocationComponent.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","URI"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").createClass({displayName:"ReactComposerImplicitLocationContainer",mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"))],statics:{calculateState:function i(j,k){var l=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").LOCATION)||{},m=l.implicitLocation||{};return{caption:m.citystring,hasExplicitLocation:!!l.place}}},render:function i(){if(!this.state.caption)return c("React").createElement("noscript",null);return c("React").createElement(c("ReactComposerImplicitLocationComponent.react"),babelHelpers["extends"]({},this.state,{onClear:this._onClear}))},_onClear:function i(){var j=c("ReactComposerTaggerStore").getTaggerData(this.context.composerID,c("ReactComposerTaggerType").LOCATION)||{};j.implicitLocation=null;c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,c("ReactComposerTaggerType").LOCATION,j);var k=new(c("URI"))("/ajax/places/toggle_location_sharing").addQueryData({disable:1,session_id:j.sessionID});new(c("AsyncRequest"))(k).send()}});f.exports=h}),null);
__d("ReactComposerLocationTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h,i){var j=c("React").createClass({displayName:"ReactComposerLocationTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],statics:{taggerID:c("ReactComposerTaggerType").LOCATION,loggingName:c("ReactComposerLoggingName").LOCATION_TAGGER},getTitle:function k(){return i._("Tag a location")},getTooltip:function k(){return i._("Check In")},getClassName:function k(){return"_3gqo"}});f.exports=j}),null);
__d("ReactComposerLocationSearchSource",["ReactComposerTypeaheadSearchSourceConfig","ReactComposerTypeaheadSearchSourceType","SearchableEntry","WebAsyncSearchSourceWithMetrics"],(function a(b,c,d,e,f,g){function h(i,j,k){var l=c("ReactComposerTypeaheadSearchSourceConfig")[c("ReactComposerTypeaheadSearchSourceType").LOCATION],m=Object.assign(l,j),n=Object.assign(l,i);l={bootstrapRequests:[{uri:"/ajax/places/typeahead",data:n}],getAllForEmptyQuery:true,queryRequests:[{uri:"/ajax/places/typeahead",data:m}],packageFn:function o(m){return m?new(c("SearchableEntry"))(m):null}};return new(c("WebAsyncSearchSourceWithMetrics"))(l,k)}f.exports=h}),null);
__d("ReactComposerLocationTypeaheadComponent.react",["fbt","React","WebAsyncSearchSourceWithMetrics","XUITypeahead.react","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";__p&&__p();j.constructor.call(this,m);this.$ReactComposerLocationTypeaheadComponent9=function(){return Object.assign({},this.props.taggerData)}.bind(this);this.$ReactComposerLocationTypeaheadComponent8=function(o,event){this.props.taggerSource.reportSelect(o.getUniqueID(),o.getType(),o.getOrder(),!!event&&event.button>=0,this.state.query);this.props.taggerSource.sessionEnd();var p=this.$ReactComposerLocationTypeaheadComponent9();p.place=o;this.setState({query:o.getTitle()});this.props.onSelect&&this.props.onSelect(p)}.bind(this);this.$ReactComposerLocationTypeaheadComponent3=function(event){this.setState({query:event.target.value})}.bind(this);this.$ReactComposerLocationTypeaheadComponent1=function(event){if(this.state.query===event.target.value)this.$ReactComposerLocationTypeaheadComponent10()}.bind(this);this.$ReactComposerLocationTypeaheadComponent4=function(){this.$ReactComposerLocationTypeaheadComponent10();this.setState({query:""})}.bind(this);this.$ReactComposerLocationTypeaheadComponent2=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$ReactComposerLocationTypeaheadComponent6=function(){this.props.taggerSource.sessionStart()}.bind(this);this.$ReactComposerLocationTypeaheadComponent5=function(o,p){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(o.map(function(q){return q.getUniqueID()}))}.bind(this);this.$ReactComposerLocationTypeaheadComponent7=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);m.taggerSource.sessionStart();var n={};if(m.defaultLocation)n.query=m.defaultLocation;else n.query=m.taggerData.place?m.taggerData.place.getTitle():"";this.state=n}l.prototype.componentWillUnmount=function(){"use strict";this.props.taggerSource.sessionEnd()};l.prototype.render=function(){"use strict";return c("React").createElement(c("XUITypeahead.react"),{className:this.props.className,clearable:true,focusedOnInit:this.props.autoFocus,highlightOnSelect:true,initialEntry:this.props.taggerData.place,onBackspace:this.$ReactComposerLocationTypeaheadComponent1,onBlur:this.$ReactComposerLocationTypeaheadComponent2,onChange:this.$ReactComposerLocationTypeaheadComponent3,onClear:this.$ReactComposerLocationTypeaheadComponent4,onEntriesFound:this.$ReactComposerLocationTypeaheadComponent5,onFocus:this.$ReactComposerLocationTypeaheadComponent6,onNoEntriesFound:this.$ReactComposerLocationTypeaheadComponent7,onSelectAttempt:this.$ReactComposerLocationTypeaheadComponent8,placeholder:this.props.placeholder,presenter:this.props.presenter,queryString:this.state.query,searchSource:this.props.taggerSource,selectedEntry:this.props.taggerData.place,showEntriesOnFocus:true,tallInput:false})};l.prototype.$ReactComposerLocationTypeaheadComponent10=function(){"use strict";var m=this.$ReactComposerLocationTypeaheadComponent9();m.place=null;if(!this.props.implicitLocationEnabled)m.implicitLocation=null;this.props.onSelect&&this.props.onSelect(m)};l.propTypes={autoFocus:k.bool,defaultLocation:k.string,implicitLocationEnabled:k.bool,onSelect:k.func,placeholder:k.string,presenter:k.object,taggerData:k.object.isRequired,taggerSource:k.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired};l.defaultProps={autoFocus:true,implicitLocationEnabled:false,onSelect:c("emptyFunction"),placeholder:h._("Where are you?"),taggerData:{}};f.exports=l}),null);
__d("ReactComposerLocationTaggerComponent.react",["cx","fbt","Grid.react","ReactComposerLocationTypeaheadComponent.react","ReactComposerTaggerPresenter","ReactComposerTaggerViewStyles","React","WebAsyncSearchSourceWithMetrics"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){"use strict";return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl",role:"presentation"},c("React").createElement(l,{key:"prefix",className:"_5esm",role:"presentation"},i._("At")),c("React").createElement(l,{key:"tagger",className:"_5esw",role:"presentation"},c("React").createElement(c("ReactComposerLocationTypeaheadComponent.react"),babelHelpers["extends"]({},this.props,{className:"_5esx _1wqz",presenter:this.$ReactComposerLocationTaggerComponent1()}))))};n.prototype.$ReactComposerLocationTaggerComponent1=function(){"use strict";var o={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},c("ReactComposerTaggerPresenter"),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:o,maxEntries:15})};function n(){"use strict";j.apply(this,arguments)}n.propTypes={autoFocus:m.bool,implicitLocationEnabled:m.bool,onSelect:m.func,placeholder:m.string,taggerData:m.object.isRequired,taggerSource:m.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape)};n.defaultProps={taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT};f.exports=n}),null);
__d("ReactComposerLocationTaggerContainer.react",["BasicTypeaheadLoggerJSConstants","MinutiaeVerbs","PlaceSearchConstants","React","ReactComposerLocationAttachmentActions","ReactComposerLocationAttachmentStore","ReactComposerLocationSearchSource","ReactComposerLocationTaggerComponent.react","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","ReactComposerTaggerViewStyles","areEqual","emptyFunction","getObjectValues"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("BasicTypeaheadLoggerJSConstants").EventNames,i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerLocationTaggerContainer",_taggerSourceInitialized:false,mixins:[c("ReactComposerTaggerContainerMixin")()],propTypes:{hideGeoHubs:i.bool,implicitLocationEnabled:i.bool,mediaLocation:i.shape({latitude:i.number.isRequired,longitude:i.number.isRequired}),onSelect:i.func.isRequired,taggerConfig:i.object,taggerViewStyle:i.shape(c("ReactComposerTaggerViewStyles").Shape),typeaheadLoggerEventName:i.oneOf(c("getObjectValues")(h)).isRequired,typeaheadSearchSource:i.oneOf(c("getObjectValues")(c("PlaceSearchConstants"))).isRequired},getDefaultProps:function k(){return{hideGeoHubs:false,onSelect:c("emptyFunction"),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}},componentWillMount:function k(){if(!this._taggerSourceInitialized){this._setNewSearchSource(this.props);this._taggerSourceInitialized=true;this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData)}},componentWillReceiveProps:function k(l){if(!c("areEqual")(l.mediaLocation,this.props.mediaLocation))this._setNewSearchSource(l)},statics:{taggerID:c("ReactComposerTaggerType").LOCATION,loggingName:c("ReactComposerLoggingName").LOCATION_TAGGER,taggerComponent:c("ReactComposerLocationTaggerComponent.react"),enableHideOnEscape:true},__onTaggerDataChanged:function k(l){__p&&__p();var m=l.place&&l.place.getAuxiliaryData();if(m)l.implicitLocation={cityid:m.cityID,citypageid:m.cityPageID,citystring:m.cityName};var n=c("ReactComposerLocationAttachmentStore").getMinutiaeTaggedPlace(this.context.composerID),o=c("ReactComposerLocationAttachmentStore").getIsTimeline(this.context.composerID),p=function p(q,r,s,t){c("ReactComposerMinutiaeAttachmentActions").setExplicitLocation(q,s);if(n)c("ReactComposerMinutiaeAttachmentActions").fetchMinutiaeAttachment(q,c("MinutiaeVerbs").COMPOSER_TRAVELS.toString(),n,r,t,o)};if(l.place){p(this.context.composerID,this.context.targetID,l.place.getUniqueID(),this.context.actorID);c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.constructor.loggingName);c("ReactComposerLocationAttachmentActions").fetchLocationAttachment(this.context.composerID,l.place.getUniqueID(),this.context.targetID)}else{p(this.context.composerID,this.context.targetID,null,this.context.actorID);c("ReactComposerLocationAttachmentActions").setMarkup(this.context.composerID,null)}},_setNewSearchSource:function k(l){var m={latitude:(l.mediaLocation||{}).latitude,longitude:(l.mediaLocation||{}).longitude},n={hide_geo:l.hideGeoHubs,latitude:(l.mediaLocation||{}).latitude,longitude:(l.mediaLocation||{}).longitude},o={event_name:l.typeaheadLoggerEventName,event_specific_data:{context:"places_typeahead:"+l.typeaheadSearchSource,source:l.typeaheadSearchSource,ref:"ReactComposerLocationTypeaheadComponent.react"}},p=c("ReactComposerLocationSearchSource")(m,n,o);c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").LOCATION,p)}});f.exports=j}),null);
__d("ReactComposerPeopleTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","CurrentUser"],(function a(b,c,d,e,f,g,h,i){var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerPeopleTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],propTypes:{isMultiCompanyGroup:j.bool},statics:{taggerID:c("ReactComposerTaggerType").PEOPLE,loggingName:c("ReactComposerLoggingName").PEOPLE_TAGGER},getTitle:function l(){if(c("CurrentUser").isWorkUser()&&!this.props.isMultiCompanyGroup)return i._("Tag coworkers");return i._("Tag people")},getTooltip:function l(){if(c("CurrentUser").isWorkUser()&&!this.props.isMultiCompanyGroup)return i._("Tag coworkers in your post");return i._("Tag people in your post")},getClassName:function l(){return"_51y3"}});f.exports=k}),null);
__d("ReactComposerPeopleTaggerTokenizerToken.react",["cx","React","SearchableEntry","TokenizerToken.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.$ReactComposerPeopleTaggerTokenizerToken1=function(){"use strict";return c("React").createElement("span",{className:"_jsa"})};l.prototype.render=function(){"use strict";var m=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox,n=(m?"_jsb":"")+" _jsc";return c("React").createElement(c("TokenizerToken.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,n),glyph:this.$ReactComposerPeopleTaggerTokenizerToken1()}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={label:k.string.isRequired,entry:k.instanceOf(c("SearchableEntry")).isRequired,onRemove:k.func,highlighted:k.bool};f.exports=l}),null);
__d("ReactComposerPeopleTaggerComponent.react",["cx","fbt","Grid.react","ReactComposerPeopleTaggerTokenizerToken.react","ReactComposerTaggerPresenter","ReactComposerTaggerViewStyles","TaggingLimits","React","XUITokenizer.react","emptyFunction","CurrentUser"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerPeopleTaggerComponent1=function(t){var u=this.props.taggerData,v=t.getUniqueID(),w=u.some(function(t){return t.getUniqueID()===v});if(w)return;else u.push(t);this.props.onSelect&&this.props.onSelect(u)}.bind(this),this.$ReactComposerPeopleTaggerComponent2=function(t){var u=this.props.taggerData,v=u.indexOf(t);if(v==-1)return;u.splice(v,1);this.props.onPeopleTagRemove&&this.props.onPeopleTagRemove(t);this.props.onSelect&&this.props.onSelect(u)}.bind(this),p}n.prototype.render=function(){"use strict";var o={};if(this.props.actorID)o[this.props.actorID]=true;return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl",role:"presentation"},c("React").createElement(l,{key:"label",className:"_5esm",role:"presentation"},i._("With")),c("React").createElement(l,{key:"tokenizer",className:"_5esw",role:"presentation"},c("React").createElement(c("XUITokenizer.react"),babelHelpers["extends"]({presenter:this.$ReactComposerPeopleTaggerComponent3(),focusedOnInit:this.props.autoFocus,excludedEntries:o,entries:this.props.taggerData,className:"_5esx _2fzs",placeholder:this.props.placeholder,searchSource:this.props.taggerSource,onAddEntryAttempt:this.$ReactComposerPeopleTaggerComponent1,onRemoveEntryAttempt:this.$ReactComposerPeopleTaggerComponent2,limit:c("TaggingLimits").MAX_WITH_TAGS},this.props))))};n.prototype.$ReactComposerPeopleTaggerComponent3=function(){"use strict";var o=this.props.taggerConfig&&this.props.taggerConfig.presenter?this.props.taggerConfig.presenter:c("ReactComposerTaggerPresenter"),p={};p.taggerViewStyle=this.props.taggerViewStyle;p.viewProps=this.props.taggerConfig&&this.props.taggerConfig.typeaheadViewProps;return Object.assign({},o,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:p,TokenRenderer:c("ReactComposerPeopleTaggerTokenizerToken.react")})};n.propTypes={actorID:m.string,autoFocus:m.bool,placeholder:m.string,taggerConfig:m.object,taggerData:m.array.isRequired,taggerSource:m.object.isRequired,onPeopleTagRemove:m.func,onSelect:m.func,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape)};n.defaultProps=function(){var o=i._("Who are you with?");if(c("CurrentUser").isWorkUser())o=i._("Who do you want to tag?");return{autoFocus:true,onSelect:c("emptyFunction"),placeholder:o,taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,taggerData:[]}}();f.exports=n}),null);
__d("ReactComposerPeopleTaggerContainer.react",["React","ReactComposerLoggingName","ReactComposerPeopleTaggerComponent.react","ReactComposerPhotoActions","ReactComposerTaggerActions","ReactComposerTaggerContainerStateMixin","ReactComposerTaggerHideOnEscapeKeyPress.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerPeopleTaggerContainer",mixins:[c("ReactComposerTaggerContainerStateMixin")()],propTypes:{actorID:h.string,taggerConfig:h.object,taggerViewStyle:h.shape(c("ReactComposerTaggerViewStyles").Shape)},getDefaultProps:function j(){return{taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}},statics:{taggerID:c("ReactComposerTaggerType").PEOPLE},render:function j(){if(!this.state.isSelected)return c("React").createElement("noscript",null);return c("React").createElement("div",{"data-testid":"people-tagger-component"},c("React").createElement(c("ReactComposerTaggerHideOnEscapeKeyPress.react"),{shouldHideOnEscape:this.state.isSelected},c("React").createElement(c("ReactComposerPeopleTaggerComponent.react"),babelHelpers["extends"]({},this.props,{autoFocus:this.state.autoFocus,onPeopleTagRemove:this._onPeopleTagRemove,onSelect:this._onTaggerDataChanged,taggerData:this.state.taggerData,taggerSource:this.state.taggerSource}))))},_onTaggerDataChanged:function j(k){c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").PEOPLE_TAGGER,c("ReactComposerTaggerType").PEOPLE,k);this.props.onSelect&&this.props.onSelect(k)},_onPeopleTagRemove:function j(k){c("ReactComposerPhotoActions").untagSubjectFromAllPhotos(this.context.composerID,k.getUniqueID())}});f.exports=i}),null);
__d("ReactComposerPhotoTaggerButton.react",["cx","fbt","ComposerTargetData","React","ReactComponentWithPureRenderMixin","ReactComposerMediaUtils","TooltipLink.react","VideoUploadConfig","XUIAmbientNUX.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerPhotoTaggerButton",mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{photoLimit:j.number.isRequired,hasData:j.bool,selected:j.bool,multimediaNuxShown:j.bool,onNUXCloseButtonClick:j.func},getDefaultProps:function l(){return{hasData:false,selected:false}},render:function l(){var m=c("joinClasses")("_2vwi _lnh"+(this.props.hasData?" _6xe":""),this.props.className),n=this._renderMultimediaAttachmentsNux(),o=void 0,p=this.props.photoLimit>1,q=c("VideoUploadConfig").allowMultimedia&&this.props.targetData.targetSupportsMultiMedia;if(p)if(q)o=i._("Add photos and videos to your post");else o=i._("Add photos or a video to your post");else o=i._("Add a photo or a video to your post");return c("React").createElement(c("TooltipLink.react"),{className:"_3xem","data-testid":"react-composer-photo-tagger",onClick:this._onSelect,tooltip:o},c("React").createElement("span",{className:"accessible_elem"},this.props.photoLimit>1?i._("Add photos"):i._("Add photo")),c("React").createElement("div",{className:m}),n)},_renderMultimediaAttachmentsNux:function l(){return c("React").createElement(c("XUIAmbientNUX.react"),{position:"below",width:"custom",contextRef:function(){return this.refs.fileInput}.bind(this),customwidth:400,shown:this.props.multimediaNuxShown,onCloseButtonClick:this.props.onNUXCloseButtonClick},i._("You can now add photos and videos to the same post."))}});f.exports=k}),null);
__d("ReactComposerPhotoTaggerButtonContainer.react",["cx","Bootloader","ComposerTargetData","React","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerMediaFilePickerController.react","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPhotoTaggerButton.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerVideoUploadStore","ReactObjectiveFirstPagesComposerGlobalFlags","SimpleNUXMessage","SimpleNUXMessageTypes","VideoUploadConfig"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerPhotoTaggerButtonContainer",mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"),c("ReactComposerMediaUploadStore"),c("ReactComposerScrapedAttachmentStore"))],propTypes:{customPhotoTaggerButton:i.any,disableFaceRecognition:i.bool.isRequired,mediaAcceptParam:i.shape({photos:i.string,both:i.string}),photoLimit:i.number.isRequired,targetData:i.instanceOf(c("ComposerTargetData")).isRequired,mediaConfig:i.object.isRequired},getDefaultProps:function k(){return{disableFaceRecognition:false}},statics:{calculateState:function k(l,m){var n=c("ReactComposerAttachmentStore").getIsAttachmentSelected(l,c("ReactComposerAttachmentType").MEDIA),o=c("ReactComposerMediaUploadStore").getUploadsOfType(l,c("ReactComposerMediaUploadType").PHOTO),p=!c("ReactComposerVideoUploadStore").getVideo(l)&&!c("ReactComposerScrapedAttachmentStore").hasAttachment(l)&&o.size<m.photoLimit,q=!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").MULTIMEDIA_ATTACHMENTS_NUX)&&c("VideoUploadConfig").showMultimediaNUX;return{hasData:!!o.size&&n,shown:p,uploadSize:o.size,multimediaNuxShown:q}}},render:function k(){if(!this.state.shown)return null;if(this.props.customPhotoTaggerButton){var l=this.props.customPhotoTaggerButton;return c("React").createElement(l,babelHelpers["extends"]({},this.props,this.state,{onClick:this._onClick}))}else return c("React").createElement(c("ReactComposerMediaFilePickerController.react"),babelHelpers["extends"]({},this.props,{loggingName:c("ReactComposerLoggingName").MEDIA_TAGGER,containerClassName:"_3xem _3xen",onClick:this._onClick}),c("React").createElement(c("ReactComposerPhotoTaggerButton.react"),{photoLimit:this.props.photoLimit,hasData:this.state.hasData,targetData:this.props.targetData,multimediaNuxShown:this.state.multimediaNuxShown,onNUXCloseButtonClick:this._onNUXCloseButtonClick}))},_onNUXCloseButtonClick:function k(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").MULTIMEDIA_ATTACHMENTS_NUX);this.setState({multimediaNuxShown:false})},_onClick:function k(){if(c("ReactObjectiveFirstPagesComposerGlobalFlags").getIsObjectiveFirstPagesComposer())c("Bootloader").loadModules(["PagesPublishingLoggingActions"],function(l){l.clickedTagger(c("ReactComposerLoggingName").MEDIA_TAGGER)},"ReactComposerPhotoTaggerButtonContainer.react");this._onNUXCloseButtonClick()}});f.exports=j}),null);
__d("ReactComposerTaggerButtons.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_47gt"},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerTaggers.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_1idc"},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerStatusFooter.react",["cx","AsyncRequest","BasicTypeaheadLoggerJSConstants","BootloadedComponent.react","BootloadedReactComposerFundraiserTaggerButton.react","BootloadedReactComposerFundraiserTaggerContainer.react","ComposerEntryPointRef","ComposerTargetData","ReactComposerActivityTaggerButton.react","ReactComposerActivityTaggerContainer.react","ReactComposerAlbumTaggerButtonContainer.react","ReactComposerAttachmentType","ReactComposerAudienceSelectorContainer.react","ReactComposerAudienceSelectorContainerGatedModule","ReactComposerBootloaderPropTypes","ReactComposerCollectionSelectorContainerGatedModule","ReactComposerConfig","ReactComposerContextTypes","ReactComposerFooterActions.react","ReactComposerFooterContainer.react","ReactComposerGroupAudienceIndicatorGatedModule","ReactComposerImplicitLocationContainer.react","ReactComposerLocationTaggerButton.react","ReactComposerLocationTaggerContainer.react","ReactComposerMarkdownTaggerButton.react","ReactComposerPeopleTaggerButton.react","ReactComposerPeopleTaggerContainer.react","ReactComposerPhotoTaggerButtonContainer.react","ReactComposerPostButtonContainer.react","ReactComposerPostToGroupButtonContainerGatedModule","ReactComposerSelectedCollectionIndicatorContainerGatedModule","ReactComposerSharesheetSelectorContainerGatedModule","ReactComposerTaggerActions","ReactComposerTaggerButtons.react","ReactComposerTaggers.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ReactComposerTimelineAudienceSelectorContainerGatedModule","JSResource","LeftRight.react","PlaceSearchConstants","ReactComponentWithPureRenderMixin","React","XUISpinner.react","getByPath"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("BasicTypeaheadLoggerJSConstants").EventNames,j=c("ReactComposerAudienceSelectorContainerGatedModule").module,k=c("ReactComposerCollectionSelectorContainerGatedModule").module,l=c("ReactComposerGroupAudienceIndicatorGatedModule").module,m=c("ReactComposerPostToGroupButtonContainerGatedModule").module,n=c("ReactComposerSelectedCollectionIndicatorContainerGatedModule").module,o=c("ReactComposerSharesheetSelectorContainerGatedModule").module,p=c("ReactComposerTimelineAudienceSelectorContainerGatedModule").module,q=c("React").PropTypes,r=c("React").createClass({displayName:"ReactComposerStatusFooter",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{activeAttachment:q.string,additionalTaggers:q.arrayOf(q.shape({button:q.element.isRequired,container:q.element.isRequired})),additionalFooterActions:q.arrayOf(q.element),audienceXHP:q.instanceOf(HTMLElement),attachmentsConfig:q.object.isRequired,bootloader:c("ReactComposerBootloaderPropTypes"),config:c("ReactComposerConfig").isRequired,hasImplicitLocation:q.bool,isActive:q.bool.isRequired,isCameraIconEnabled:q.bool,isMessagingButtonEnabled:q.bool,locationTaggerPlaceholder:q.string,mediaAcceptParam:q.shape({photos:q.string,both:q.string}),mediaLocation:q.shape({latitude:q.number.isRequired,longitude:q.number.isRequired}),peopleTaggerPlaceholder:q.string,placeID:q.string,postButtonModule:q.func,taggersConfig:q.object,targetData:q.instanceOf(c("ComposerTargetData")).isRequired,weakMention:q.object,isGroupTabSelected:q.bool,selectedGroup:q.object,mediaTakenTime:q.number,asset3d:q.object},getDefaultProps:function s(){return{isCameraIconEnabled:true,isGroupTabSelected:false}},_addMember:function s(event){if(this.props.weakMention!=null){var t={};t.source="invite_from_mention";t.group_id=this.props.config.targetData.targetID;t.members=[this.props.weakMention.uid];new(c("AsyncRequest"))("/ajax/groups/members/add_post.php").setData(t).send();event.preventDefault()}},_renderMentionInvitation:function s(){if(Object.prototype.hasOwnProperty.call(this.props.attachmentsConfig,c("ReactComposerAttachmentType").ADD_MENTIONED)&&this.props.attachmentsConfig[c("ReactComposerAttachmentType").ADD_MENTIONED].enabled&&this.props.weakMention!=null){var t=this.props.weakMention.uid,u=this.props.weakMention.text,v=this.props.config.groupConfig.id,w=this.props.config.groupConfig.name;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactInviteMentionedMemberFooter.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),mentionedPersonId:t,mentionedPersonName:u,groupId:v,groupName:w,onAddMember:this._addMember})}return null},componentDidMount:function s(){this._handleSetProductTaggerShowNUX();this._handleShowContactYourRepresentativeNUX();this._handleSetMessengerPromptShowNUX()},render:function s(){__p&&__p();var t=this.context.gks&&this.context.gks.isSproutsComposer,u=this.context.gks&&this.context.gks.topPostButton,v=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],w=this.props.hasImplicitLocation?"_icv":"",x=v.footerBackground?v.footerBackground:this.props.config.showExpandedComposer?"white":"light-wash",y=t?this._renderSproutsList():null,z=this.props.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].feedOnlyPost,A=this.props.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].feedOnlyPost?c("React").createElement(z,null):null,B=null;if(!t&&this.props.isActive)B=this._getButtons();else if(this.context.gks&&this.context.gks.albumSelectorInComposer)B=c("React").createElement(c("ReactComposerFooterActions.react"),null,this._getAudienceSelector(),k&&(!this.props.isGroupTabSelected||!l)?c("React").createElement(k,{addAnyPostToAlbum:this.context.gks&&this.context.gks.addAnyPostToAlbum,canCreateSharingSpace:this.context.gks&&this.context.gks.canCreateSharingSpace,showSharingSpaces:this.context.gks&&this.context.gks.canPostToSpace}):null);else if(this.context.gks&&this.context.gks.albumTabUsesSelector)B=n&&(!this.props.isGroupTabSelected||!l)?c("React").createElement(n,null):null;var C=null;if(v.audienceIndicator){var D=v.audienceIndicator.module;C=c("React").createElement(D,{background:x,config:this.props.config})}var E=void 0,F=this.props.config,G=F.actorConfig,H=F.postButtonConfig;if(H&&H.isScheduledPost){if(H.scheduleNotice){var I=H.scheduleNotice.module;if(I)E=c("React").createElement(I,{config:this.props.config})}}else if(G&&G.scheduleNotice){var J=G.scheduleNotice.module;if(J)E=c("React").createElement(J,{config:this.props.config})}var K=!u?c("React").createElement(c("ReactComposerFooterContainer.react"),{background:x,className:w},E,c("React").createElement(c("LeftRight.react"),null,B,this._getFooterActions())):null,L=this._renderMentionInvitation();return c("React").createElement("div",{className:"_1j2v"},L,A,this._getTaggers(),y,C,K)},_getTaggers:function s(){__p&&__p();var t=this.props.taggersConfig;if(!t)return null;var u=t[c("ReactComposerTaggerType").PEOPLE]&&t[c("ReactComposerTaggerType").PEOPLE].enabled?c("React").createElement(c("ReactComposerPeopleTaggerContainer.react"),{placeholder:this.props.peopleTaggerPlaceholder,showEntriesOnFocus:false,actorID:this.context.actorID,taggerConfig:t[c("ReactComposerTaggerType").PEOPLE]}):null,v=t[c("ReactComposerTaggerType").LOCATION]&&t[c("ReactComposerTaggerType").LOCATION].enabled?c("React").createElement(c("ReactComposerLocationTaggerContainer.react"),{implicitLocationEnabled:t[c("ReactComposerTaggerType").LOCATION].implicitLocationEnabled,mediaLocation:this.props.mediaLocation,placeholder:this.props.locationTaggerPlaceholder,taggerConfig:t[c("ReactComposerTaggerType").LOCATION],taggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,typeaheadLoggerEventName:i.REACT_COMPOSER_LOCATION_TAGGER,typeaheadSearchSource:c("PlaceSearchConstants").SOURCE_W_COMPOSER}):null,w=this.context.composerType===c("ComposerEntryPointRef").TIMELINE,x=t[c("ReactComposerTaggerType").OG]&&t[c("ReactComposerTaggerType").OG].enabled?c("React").createElement(c("ReactComposerActivityTaggerContainer.react"),{actionTypeIDsWithNoFreeForm:t[c("ReactComposerTaggerType").OG].actionTypeIDsWithNoFreeForm,actorID:this.context.actorID,isPersonalTimeline:w,actionTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,objectTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,placeID:this.props.placeID,actionTypeIDsToPrefetch:t[c("ReactComposerTaggerType").OG].actionTypeIDsToPrefetch,rankVerbs:t[c("ReactComposerTaggerType").OG].rankVerbs,typeaheadLoggerEventName:i.OGCOMPOSER_TAGGER}):null,y=t[c("ReactComposerTaggerType").ASSET_3D]&&t[c("ReactComposerTaggerType").ASSET_3D].enabled&&this.props.asset3d&&this.props.asset3d.file?c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerAsset3DComponent.react").__setRef("ReactComposerStatusFooter.react"),asset3dFile:this.props.asset3d,composerID:this.context.composerID,bootloadPlaceholder:c("React").createElement("div",null)}):null,z=t[c("ReactComposerTaggerType").BACKDATE]&&t[c("ReactComposerTaggerType").BACKDATE].enabled?c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerBackdateTaggerContainer.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null)}):null,A=this._getSponsorTagger(),B=this.props.additionalTaggers?this.props.additionalTaggers.map(function(J){return J.container}):null,C=null;if(t[c("ReactComposerTaggerType").FORMATTED_TEXT]&&!t[c("ReactComposerTaggerType").FORMATTED_TEXT].noSproutDesign&&t[c("ReactComposerTaggerType").FORMATTED_TEXT].enabled&&t[c("ReactComposerTaggerType").FORMATTED_TEXT].textFormats&&t[c("ReactComposerTaggerType").FORMATTED_TEXT].containerModule){var D=t[c("ReactComposerTaggerType").FORMATTED_TEXT].containerModule;C=c("React").createElement(D,{autoOpen:t[c("ReactComposerTaggerType").FORMATTED_TEXT].autoOpen,defaultFormat:t[c("ReactComposerTaggerType").FORMATTED_TEXT].defaultFormat,fixAspectRatio:t[c("ReactComposerTaggerType").FORMATTED_TEXT].fixAspectRatio,maxNewlines:t[c("ReactComposerTaggerType").FORMATTED_TEXT].maxNewlines,noSproutDesign:t[c("ReactComposerTaggerType").FORMATTED_TEXT].noSproutDesign,statusAttachmentActive:this.props.isActive,stickyStylesEnabled:t[c("ReactComposerTaggerType").FORMATTED_TEXT].stickyStylesEnabled,shouldAutoOpenWhenUserStartsTyping:t[c("ReactComposerTaggerType").FORMATTED_TEXT].shouldAutoOpenWhenUserStartsTyping,textFormats:t[c("ReactComposerTaggerType").FORMATTED_TEXT].textFormats,textLengthLimit:t[c("ReactComposerTaggerType").FORMATTED_TEXT].textLengthLimit})}var E=t[c("ReactComposerTaggerType").TAG_EVENT]&&t[c("ReactComposerTaggerType").TAG_EVENT].enabled?c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerTagEventTaggerContainer.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),isPersonalTimeline:w,key:"tag_event_container",mediaLocation:this.props.mediaLocation,mediaTakenTime:this.props.mediaTakenTime,reactComposerID:this.context.composerID}):null,F=this._getProductTagger(),G=this._getMessagingTagger(),H=this._getContactYourRepresentativeTagger(),I=c("React").createElement(c("BootloadedReactComposerFundraiserTaggerContainer.react"),{taggersConfig:this.props.taggersConfig});return c("React").createElement(c("ReactComposerTaggers.react"),null,y,u,v,x,C,z,A,F,G,H,I,B,E)},_renderSproutsList:function s(){var t=this.context.jsModules&&this.context.jsModules.ComposerSproutsListContainer;return c("React").createElement(t,{config:this.props.config})},_getButtons:function s(){__p&&__p();var t=this.props.taggersConfig;if(!t)return null;var u=this.props.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],v=this.props.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],w=t[c("ReactComposerTaggerType").CAMERA]&&t[c("ReactComposerTaggerType").CAMERA].enabled&&this.props.isCameraIconEnabled?c("React").createElement(c("ReactComposerPhotoTaggerButtonContainer.react"),{customPhotoTaggerButton:u.customPhotoTaggerButton,disableFaceRecognition:v.disableFaceboxTagger,photoLimit:v.photoLimit,mediaAcceptParam:this.props.mediaAcceptParam,targetData:this.props.targetData,mediaConfig:v}):null,x=t[c("ReactComposerTaggerType").PEOPLE]&&t[c("ReactComposerTaggerType").PEOPLE].isMultiCompanyGroup||false,y=t[c("ReactComposerTaggerType").PEOPLE]&&t[c("ReactComposerTaggerType").PEOPLE].enabled?c("React").createElement(c("ReactComposerPeopleTaggerButton.react"),{isMultiCompanyGroup:x}):null,z=t[c("ReactComposerTaggerType").OG]&&t[c("ReactComposerTaggerType").OG].enabled?c("React").createElement(c("ReactComposerActivityTaggerButton.react"),null):null,A=t[c("ReactComposerTaggerType").ALBUM]&&t[c("ReactComposerTaggerType").ALBUM].enabled?this._getAlbumTaggerButton():null,B=t[c("ReactComposerTaggerType").LOCATION]&&t[c("ReactComposerTaggerType").LOCATION].enabled?c("React").createElement(c("ReactComposerLocationTaggerButton.react"),null,c("React").createElement(c("ReactComposerImplicitLocationContainer.react"),null)):null,C=t[c("ReactComposerTaggerType").BACKDATE]&&t[c("ReactComposerTaggerType").BACKDATE].enabled?c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerBackdateTaggerButton.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement(c("XUISpinner.react"),null)}):null,D=this._getSponsorTaggerButton(),E=this.props.additionalTaggers?this.props.additionalTaggers.map(function(L){return L.button}):null,F=null;if(t[c("ReactComposerTaggerType").FORMATTED_TEXT]&&t[c("ReactComposerTaggerType").FORMATTED_TEXT].enabled&&t[c("ReactComposerTaggerType").FORMATTED_TEXT].textFormats&&t[c("ReactComposerTaggerType").FORMATTED_TEXT].buttonModule){var G=t[c("ReactComposerTaggerType").FORMATTED_TEXT].buttonModule;F=c("React").createElement(G,null)}var H=this._getProductTaggerButton(),I=this._getMessagingTaggerButton(),J=this._getContactYourRepresentativeTaggerButton(),K=c("React").createElement(c("BootloadedReactComposerFundraiserTaggerButton.react"),{taggersConfig:this.props.config.taggersConfig,source:"composer"});return c("React").createElement(c("ReactComposerTaggerButtons.react"),null,w,y,z,A,B,F,C,D,H,I,J,K,E)},_getFooterActions:function s(){var t=void 0;if(this.props.postButtonLabel)t=this.props.postButtonLabel;var u=this.props.isGroupTabSelected&&m?m:this.props.postButtonModule||c("ReactComposerPostButtonContainer.react"),v=c("React").createElement(u,{config:this.props.config,label:t});return c("React").createElement(c("ReactComposerFooterActions.react"),null,this.props.additionalFooterActions,this._getSharesheetSelector(),this.context.gks&&this.context.gks.albumSelectorInComposer?null:this._getAudienceSelector(),v)},_getIsAudienceSelectorShownForType:function s(t){switch(this.context.composerType){case c("ComposerEntryPointRef").FEEDX_SPROUTS:return this.props.activeAttachment!==t||j;case c("ComposerEntryPointRef").TIMELINE:return this.props.activeAttachment!==t||p;default:return true}},_getIsSharesheetSelectorShownForType:function s(t){switch(this.context.composerType){case c("ComposerEntryPointRef").FEEDX_SPROUTS:return this.props.activeAttachment!==t||o;default:return false}},_getAudienceSelector:function s(){return this.props.audienceXHP&&this._getIsAudienceSelectorShownForType(c("ReactComposerAttachmentType").STATUS)&&this._getIsAudienceSelectorShownForType(c("ReactComposerAttachmentType").MEDIA)?this.props.isGroupTabSelected&&l?this._getGroupAudienceSelector():c("React").createElement(c("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.audienceXHP,viewerIsTarget:this.props.targetData.viewerIsTarget}):null},_getSharesheetSelector:function s(){return this._getIsSharesheetSelectorShownForType(c("ReactComposerAttachmentType").STATUS)&&this._getIsSharesheetSelectorShownForType(c("ReactComposerAttachmentType").MEDIA)&&o?c("React").createElement(o,{audienceXHP:this.props.audienceXHP,viewerIsTarget:this.props.targetData.viewerIsTarget,config:this.props.config,composerID:this.context.composerID,targetID:this.props.config.targetData.targetID}):c("React").createElement("span",null)},_getGroupAudienceSelector:function s(){return this.props.isGroupTabSelected&&l&&this.props.selectedGroup?c("React").createElement(l,{group:this.props.selectedGroup}):null},_getSponsorTaggerButton:function s(){var t=this.props.taggersConfig;if(!t||!t[c("ReactComposerTaggerType").SPONSOR]||!t[c("ReactComposerTaggerType").SPONSOR].enabled)return null;var u=t[c("ReactComposerTaggerType").SPONSOR].button,v=t[c("ReactComposerTaggerType").SPONSOR].button?c("React").createElement(u,{key:"sponsor_button"}):null;return v},_getSponsorTagger:function s(){var t=this.props.taggersConfig;if(!t||!t[c("ReactComposerTaggerType").SPONSOR]||!t[c("ReactComposerTaggerType").SPONSOR].enabled)return null;var u=t[c("ReactComposerTaggerType").SPONSOR].container,v=t[c("ReactComposerTaggerType").SPONSOR].container?c("React").createElement(u,{key:"sponsor_container",viewer:t[c("ReactComposerTaggerType").SPONSOR].viewer,showDirectBoost:t[c("ReactComposerTaggerType").SPONSOR].showSponsorTaggerDirectBoost,showDirectBoostNUX:t[c("ReactComposerTaggerType").SPONSOR].showSponsorTaggerDirectBoostNUX,showSponsorRelationship:t[c("ReactComposerTaggerType").SPONSOR].showSponsorTaggerSponsorRelationship}):null;return v},_getProductTaggerButton:function s(){var t=this.props.taggersConfig;if(this._hasAdditionalTaggerContainerWithKey("product_container")||!t||!t[c("ReactComposerTaggerType").PRODUCT]||!t[c("ReactComposerTaggerType").PRODUCT].enabled)return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerProductTaggerButton.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),key:"product_button",productTaggerType:t[c("ReactComposerTaggerType").PRODUCT].productTaggerType})},_checkAddMessengerButtonEnabled:function s(){var t=this.props.taggersConfig;return c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING,"enabled"])&&this.props.isMessagingButtonEnabled===true},_checkAddContactYourRepresentativeEnabled:function s(){var t=this.props.taggersConfig;return c("getByPath")(t,[c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,"enabled"])&&c("getByPath")(t,[c("ReactComposerTaggerType").OG,"enabled"])},_getProductTagger:function s(){var t=this.props.taggersConfig;if(this._hasAdditionalTaggerContainerWithKey("product_container")||!t||!t[c("ReactComposerTaggerType").PRODUCT]||!t[c("ReactComposerTaggerType").PRODUCT].enabled)return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerProductTaggerContainer.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),key:"product_container",pageID:this.props.config.targetData.targetID,productTaggerType:t[c("ReactComposerTaggerType").PRODUCT].productTaggerType,reactComposerID:this.context.composerID,showAddProduct:t[c("ReactComposerTaggerType").PRODUCT].showAddProduct,viewer:this.context.actorID})},_handleSetProductTaggerShowNUX:function s(){var t=this.props.taggersConfig;if(!t||!t[c("ReactComposerTaggerType").PRODUCT]||!t[c("ReactComposerTaggerType").PRODUCT].enabled)return;c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").PRODUCT,t[c("ReactComposerTaggerType").PRODUCT].showProductTaggerButtonNUX)},_handleShowContactYourRepresentativeNUX:function s(){if(!this._checkAddContactYourRepresentativeEnabled())return;var t=this.props.taggersConfig,u=c("getByPath")(t,[c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,"showNux"]);if(!u)return;c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,true)},_handleSetMessengerPromptShowNUX:function s(){var t=this.props.taggersConfig;if(!t||!c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING])||!c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING,"enabled"]))return;c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").MESSAGING,t[c("ReactComposerTaggerType").MESSAGING].showMessengerPromptButtonNUX)},_getMessagingTaggerButton:function s(){var t=this.props.taggersConfig;if(!this._checkAddMessengerButtonEnabled()||!t||!c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING])||!c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING,"messengerPromptNuxType"]))return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerMessagingTaggerButton.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),key:"messaging_button",reactComposerID:this.context.composerID,nuxType:c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING,"messengerPromptNuxType"]),autoSelect:c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING,"autoSelect"])})},_getMessagingTagger:function s(){if(!this._checkAddMessengerButtonEnabled())return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerMessagingTaggerContainer.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),key:"messaging_container",reactComposerID:this.context.composerID})},_getContactYourRepresentativeTaggerButton:function s(){if(!this._checkAddContactYourRepresentativeEnabled())return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerContactYourRepresentativeTaggerButton.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),key:"contact_your_representative_button",reactComposerID:this.context.composerID})},_getContactYourRepresentativeTagger:function s(){if(!this._checkAddContactYourRepresentativeEnabled())return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerContactYourRepresentativeTaggerContainer.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),key:"contact_your_representative_container",reactComposerID:this.context.composerID})},_getAlbumTaggerButton:function s(){return k?c("React").createElement(k,{addAnyPostToAlbum:this.context.gks&&this.context.gks.addAnyPostToAlbum,canCreateSharingSpace:this.context.gks&&this.context.gks.canCreateSharingSpace,showSharingSpaces:this.context.gks&&this.context.gks.canPostToSpace,alternateTriggerComponent:c("React").createElement(c("ReactComposerAlbumTaggerButtonContainer.react"),null)}):null},_hasAdditionalTaggerContainerWithKey:function s(t){var u=this.props.additionalTaggers?this.props.additionalTaggers.map(function(v){return v.container}):null;if(!u)return false;return u.some(function(v){return v.key===t})}});f.exports=r}),null);
__d("ReactComposerStatusFooterContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentStore","ReactComposerContextTypes","ReactComposerPostToGroupStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStatusFooter.react","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerStatusFooterContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"),c("ReactComposerStore"),c("ReactComposerTaggerStore"),c("ReactComposerPostToGroupStore"))],statics:{calculateState:function i(j,k){var l=c("ReactComposerAttachmentStore").isSelectedAttachmentActive(j),m=c("ReactComposerAttachmentStore").getSelectedAttachmentID(j),n=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").LOCATION),o=n&&n.implicitLocation&&!!n.implicitLocation.citystring,p=n&&n.place&&n.place.getUniqueID(),q=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").TAG_EVENT);return{activeAttachment:m,isActive:l,hasImplicitLocation:o,mediaLocation:n?n.mediaLocation:null,placeID:p,sproutsDisplayState:c("ReactComposerStore").getSproutsDisplayState(j),isGroupTabSelected:c("ReactComposerPostToGroupStore").getIsTabSelected(j),selectedGroup:c("ReactComposerPostToGroupStore").getSelectedGroup(j),mediaTakenTime:q?q.mediaTakenTime:null,selectedAsset3D:c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").ASSET_3D)}}},render:function i(){return c("React").createElement(c("ReactComposerStatusFooter.react"),babelHelpers["extends"]({},this.props,{activeAttachment:this.state.activeAttachment,isActive:this.state.isActive,hasImplicitLocation:this.state.hasImplicitLocation,mediaLocation:this.state.mediaLocation,mediaTakenTime:this.state.mediaTakenTime,placeID:this.state.placeID,sproutsDisplayState:this.state.sproutsDisplayState,isCameraIconEnabled:this.props.isCameraIconEnabled,isMessagingButtonEnabled:this.props.isMessagingButtonEnabled,isGroupTabSelected:this.state.isGroupTabSelected,selectedGroup:this.state.selectedGroup,asset3d:this.state.selectedAsset3D}))}});f.exports=h}),null);
__d("ShareDialogTagSummary.react",["cx","Arbiter","AsyncRequest","immutable","Parent","React","emptyFunction","ifRequired","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=true;i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(){__p&&__p();var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={socialText:null},this.$ShareDialogTagSummary1=undefined,this.$ShareDialogTagSummary2=undefined,this.$ShareDialogTagSummary4=function(s){this.setState({socialText:s.getPayload().rendered})}.bind(this),this.$ShareDialogTagSummary5=function(s){__p&&__p();var t=s.target;if(c("Parent").byClass(t,"withToken"))this.props.withTokenClick();else if(c("Parent").byClass(t,"placeToken"))this.props.placeTokenClick();else if(c("Parent").byClass(t,"og_composer_object")){var u=this.props.taggerData;if(!u.get("action")&&!u.get("object")){if(u.get("politicalRepresentativeInfo").politicalRepresentative)this.props.politicalRepresentativeClick();else if(u.get("tagEventData").eventID)this.props.tagEventClick()}else this.props.ogObjectClick()}else if(!c("Parent").byClass(t,"ogPickerIcon"))this.props.onTagSummaryClick()}.bind(this),o}m.prototype.componentWillMount=function(){"use strict";this.$ShareDialogTagSummary1=c("Arbiter").subscribe("composer/ogIconPickerOpened",function(event,n){l=false});this.$ShareDialogTagSummary3(this.props)};m.prototype.componentWillUnmount=function(){"use strict";if(this.$ShareDialogTagSummary2)this.$ShareDialogTagSummary2.abort()};m.prototype.componentWillReceiveProps=function(n){"use strict";if(!this.props.taggerData.equals(n.taggerData))this.$ShareDialogTagSummary3(n)};m.prototype.render=function(){"use strict";var n=c("joinClasses")(this.props.className,"_4zq4");return c("React").createElement("div",{className:n,onMouseDown:this.$ShareDialogTagSummary5,dangerouslySetInnerHTML:this.state.socialText})};m.prototype.$ShareDialogTagSummary3=function(n){"use strict";__p&&__p();if(this.$ShareDialogTagSummary2)this.$ShareDialogTagSummary2.abort();var o=n.taggerData,p=o.get("people"),q=o.get("place"),r=o.get("action"),s=o.get("actionIconID"),t=o.get("object"),u=o.get("products"),v=o.get("sponsors"),w=o.get("politicalRepresentativeInfo"),x=o.get("issues"),y=o.get("tagEventData"),z=p.filter(function(E){return!this.props.peopleToExclude.has(E.getUniqueID())}.bind(this));if(!(z&&z.length>0)&&!q&&!(r&&t)&&!(u&&u.length>0)&&!(v&&v.sponsors.length>0)&&!w.politicalRepresentative&&!(x&&x.length>0)&&!(y&&y.eventID)){if(this.state.socialText)this.setState({socialText:null});return}var A={};if(z)A.people=z.map(function(E){return E.getUniqueID()});if(q){A.place=q.getTitle();A.placeID=q.getUniqueID()}if(u)A.productIDs=u.map(function(E){return E.getUniqueID()});if(v){var B=c("ifRequired")("BrandedContentSponsorRelationship",function(E){return v.sponsorRelationship===E.PRESENTED_BY},function(){return false});if(!B)A.sponsorIDs=v.sponsors.map(function(E){return E.getUniqueID()})}if(x)A.issueIDs=x.map(function(E){return E.getUniqueID()});if(r&&t){A.actionID=r.getUniqueID();var C=t.getUniqueID(),D=t.getTitle();if(!C||C===D)A.objectStr=D;else A.objectID=C}else if(w.politicalRepresentative)c("ifRequired")("ContactYourRepresentativeConsts",function(E){A.actionID=E.composer_action_id;A.objectID=w.politicalRepresentative.getUniqueID()});else if(y&&y.eventID)c("ifRequired")("TagEventSproutConsts",function(E){A.actionID=E.composer_action_id;A.objectID=y.eventID});if(s)A.actionIconID=s;A.iconPickerOpened=l!==true;this.$ShareDialogTagSummary2=new(c("AsyncRequest"))();this.$ShareDialogTagSummary2&&this.$ShareDialogTagSummary2.setURI("/ajax/metacomposer/social_text.php").setData(A).setHandler(this.$ShareDialogTagSummary4).send()};m.propTypes={ogObjectClick:k.func.isRequired,onTagSummaryClick:k.func.isRequired,peopleToExclude:k.instanceOf(c("immutable").Set).isRequired,placeTokenClick:k.func.isRequired,politicalRepresentativeClick:k.func.isRequired,tagEventClick:k.func.isRequired,taggerData:k.instanceOf(c("immutable").Map).isRequired,withTokenClick:k.func.isRequired};m.defaultProps={peopleToExclude:c("immutable").Set(),ogObjectClick:c("emptyFunction"),onTagSummaryClick:c("emptyFunction"),placeTokenClick:c("emptyFunction"),politicalRepresentativeClick:c("emptyFunction"),tagEventClick:c("emptyFunction"),withTokenClick:c("emptyFunction")};f.exports=m}),null);
__d("ReactComposerTaggerSummaryContainer.react",["cx","Arbiter","immutable","React","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactDOM","ShareDialogTagSummary.react","containsNode"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").createClass({displayName:"ReactComposerTaggerSummaryContainer",_ogSubscription:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"))],statics:{calculateState:function j(k,l){var m=c("ReactComposerTaggerStore").getTaggersData(k),n=m[c("ReactComposerTaggerType").PEOPLE],o=m[c("ReactComposerTaggerType").LOCATION],p=m[c("ReactComposerTaggerType").ACTIVITY],q=o?o.place:null,r=m[c("ReactComposerTaggerType").PRODUCT],s=m[c("ReactComposerTaggerType").SPONSOR],t=m[c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE],u=m[c("ReactComposerTaggerType").ISSUE_TAG],v=m[c("ReactComposerTaggerType").TAG_EVENT];return{people:n,place:q,activity:p,products:r,sponsors:s,politicalRepresentativeInfo:t,issues:u,tagEventData:v}}},componentWillMount:function j(){this._ogSubscription=c("Arbiter").subscribe("composer/ogCustomIconSelected",function(event,k){if(!c("containsNode")(c("ReactDOM").findDOMNode(this.refs.taggerSummary),k.triggerElement))return;var l=c("ReactComposerTaggerStore").getTaggerData(this.context.composerID,c("ReactComposerTaggerType").ACTIVITY)||{};l.actionIconID=k.icon_id;l.actionIconURI=k.iconURI;c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,c("ReactComposerTaggerType").ACTIVITY,l)}.bind(this))},componentWillUnmount:function j(){if(this._ogSubscription){this._ogSubscription.unsubscribe&&this._ogSubscription.unsubscribe();this._ogSubscription=null}},render:function j(){return c("React").createElement("div",{className:"_vww","data-testid":"tagger-summary"},c("React").createElement(c("ShareDialogTagSummary.react"),{ogObjectClick:this._ogObjectClick,onTagSummaryClick:this._onTagSummaryClick,peopleToExclude:c("immutable").Set([this.context.actorID]),placeTokenClick:this._placeTokenClick,politicalRepresentativeClick:this._onPoliticalRepresentativeClick,tagEventClick:this._onTagEventClick,ref:"taggerSummary",taggerData:c("immutable").Map({action:this.state.activity.action,actionIconID:this.state.activity.actionIconID,object:this.state.activity.object,people:this.state.people,place:this.state.place,products:this.state.products,sponsors:this.state.sponsors,politicalRepresentativeInfo:this.state.politicalRepresentativeInfo,issues:this.state.issues,tagEventData:this.state.tagEventData}),withTokenClick:this._withTokenClick}))},_withTokenClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_PEOPLE,c("ReactComposerTaggerType").PEOPLE)},_placeTokenClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_LOCATION,c("ReactComposerTaggerType").LOCATION)},_ogObjectClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_MINUTIAE,c("ReactComposerTaggerType").ACTIVITY)},_onTagSummaryClick:function j(){c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_ROW)},_onPoliticalRepresentativeClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE)},_onTagEventClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_TAG_EVENT,c("ReactComposerTaggerType").TAG_EVENT)}});f.exports=i}),null);
__d("ReactComposerVideoUploadPlaceholder.react",["cx","ix","Image.react","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStore","XUICloseButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerVideoUploadPlaceholder",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerStore"))],propTypes:{onRemoveClick:j.func},statics:{calculateState:function l(m,n){return{posting:c("ReactComposerStore").isPosting(m)}}},render:function l(){var m="_2oe _5ip5",n="_3ew _5iph",o=this.state.posting?null:c("React").createElement(c("XUICloseButton.react"),{className:"_5ipi",onClick:this.props.onRemoveClick,shade:"light",size:"medium"});return c("React").createElement("div",{className:m},o,c("React").createElement(c("Image.react"),{className:n,src:i("82359")}))}});f.exports=k}),null);
__d("ReactComposerVideoUploadPlaceholderContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerVideoUploadActions","ReactComposerVideoUploadPlaceholder.react"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerVideoUploadPlaceholderContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],render:function i(){return c("React").createElement(c("ReactComposerVideoUploadPlaceholder.react"),{onRemoveClick:this._onRemoveClick})},_onRemoveClick:function i(){c("ReactComposerVideoUploadActions").remove(this.context.composerID)}});f.exports=h}),null);
__d("ReactComposerVideoUploadProgressBar.react",["cx","DOMContainer.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_4340"},c("React").createElement(c("DOMContainer.react"),null,this.props.progressBar))};function l(){i.apply(this,arguments)}l.propTypes={progressBar:k.instanceOf(HTMLElement).isRequired};f.exports=l}),null);
__d("ReactComposerMediaAttachment.react",["cx","fbt","BootloadOnRender.react","ComposerEntryPointRef","immutable","JSResource","LazyComponent.react","MNPageComposerUtils","React","ReactComposerAttachmentType","ReactComposerAudienceSelectorContainer.react","ReactComposerSproutsDisplayState","ReactComposerCollageContainer.react","ReactComposerCollagePlusButton.react","ReactComposerContextTypes","ReactComposerCrossPostToInstagramRow.react","ReactComposerDragDropPromptContainer.react","ReactComposerFooterActions.react","ReactComposerFooterContainer.react","ReactComposerMediaAttachmentButtons.react","ReactComposerMediaUploadsGridContainer.react","ReactComposerPostButtonContainer.react","ReactComposerProfilePhotoBlock.react","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react","ReactComposerStatusFooterContainer.react","ReactComposerStatusUtils","ComposerTargetData","ReactComposerTaggerSummaryContainer.react","ReactComposerTimelineAudienceSelectorNextButtonContainerGatedModule","ReactComposerVideoUploadPlaceholderContainer.react","ReactComposerVideoUploadProgressBar.react","ReactComposerFundraiserAttachmentContainerGated","ReactDOM"],(function a(b,c,aa,ba,d,ca,da,e){"use strict";__p&&__p();var f,g,h=c("ReactComposerTimelineAudienceSelectorNextButtonContainerGatedModule").module,i=c("ReactComposerFundraiserAttachmentContainerGated").module;f=babelHelpers.inherits(j,c("React").Component);g=f&&f.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=g.constructor).call.apply(k,[this].concat(n)),this.$ReactComposerMediaAttachment1=0,l}j.prototype.render=function(){var k=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],l=this.props.uploads.size>0&&!this.props.slideshowDialogOpen||!!this.props.video||k.canUploadPhoto&&!this.props.createAlbumLink||this.props.shouldShowCanvasSelector||this.props.shouldShowCarouselURLInputArea||this.props.shouldShowPreview||this.props.isCollectionSelected||this.props.isSlideshowSelected,m=null;if(k.PageComposerMediaAttachmentButtons){var n=k.PageComposerMediaAttachmentButtons;m=c("React").createElement(n,{canvasConfig:k.canvasConfig,carouselConfig:k.carouselConfig,collectionConfig:k.collectionConfig,createAlbumLink:this.props.createAlbumLink,mediaAcceptParam:this.props.config.mediaAcceptParam,onFilesSelected:this.props.onFilesSelected,showCanvasEntryPoint:k.showCanvasEntryPoint,showCollectionEntryPoint:k.showCollectionEntryPoint,showCarouselEntryPoint:k.showCarouselEntryPoint,showPhotoAlbumEntryPoint:k.showPhotoAlbumEntryPoint,showSlideshowEntryPoint:k.showSlideshowEntryPoint,showUploadPhotosButton:k.canUploadPhoto,slideshowConfig:k.slideshowConfig,targetData:this.props.config.targetData})}else m=c("React").createElement(c("ReactComposerMediaAttachmentButtons.react"),{showUploadPhotosButton:k.canUploadPhoto,createAlbumLink:this.props.createAlbumLink,mediaAcceptParam:this.props.config.mediaAcceptParam,onFilesSelected:this.props.onFilesSelected,targetData:this.props.config.targetData});return l?this.$ReactComposerMediaAttachment2():c("React").createElement("div",null,c("React").createElement(c("ReactComposerDragDropPromptContainer.react"),{root:this,config:this.props.config}),m)};j.prototype.componentDidMount=function(){var k=c("ReactDOM").findDOMNode(this);this.$ReactComposerMediaAttachment1=k?k.clientWidth:0;var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS];if(l)c("ReactComposerStatusUtils").handleMarkdownPreview(this.context.composerID,this.context.targetID,l.markdownPreviewAttachment)};j.prototype.$ReactComposerMediaAttachment3=function(){return h&&this.context.composerType===c("ComposerEntryPointRef").TIMELINE&&this.props.config.targetData.viewerIsTarget?h:this.props.postButtonModule};j.prototype.$ReactComposerMediaAttachment2=function(){__p&&__p();var k=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],m=this.context.gks&&this.context.gks.isSproutsComposer,n=void 0;if(this.props.shouldShowPreview){var o=k.ComposerAttachmentPreviewContainer,p=c("React").createElement(o,null);if(this.props.shouldShowCanvasSelector){var q=k.canvasConfig.TypeaheadContainer;n=c("React").createElement("div",null,p,c("React").createElement(q,{config:k.canvasConfig}))}else n=p}else if(this.props.shouldShowCarouselURLInputArea){var r=k.carouselConfig.PhotoCarouselUtils;n=r.getPhotoCarouselMediaContent(k.carouselConfig,this.props.config.nuxConfig)}else if(this.props.shouldShowCanvasSelector){var s=k.canvasConfig,t=s.TypeaheadContainer;n=c("React").createElement(t,{config:s})}else if(this.props.isSlideshowSelected){var u=k.slideshowConfig.thumbnailViewContainer;n=c("React").createElement(u,{maxSelectedImages:k.slideshowConfig.maxPhotoNum,mediaAcceptParam:this.props.config.mediaAcceptParam&&this.props.config.mediaAcceptParam.photos,pageID:k.slideshowConfig.pageID,onFilesSelected:this.props.onFilesSelected})}else if(this.props.isCollectionSelected){var v=k.collectionConfig.previewContainer;n=c("React").createElement(v,{config:k.collectionConfig})}else if(this.props.video)n=c("React").createElement("div",null,c("React").createElement(c("ReactComposerVideoUploadPlaceholderContainer.react"),null),c("React").createElement(c("ReactComposerVideoUploadProgressBar.react"),{progressBar:this.props.videoProgressBar}));else if(this.props.customizedPreviewMediaContent)n=this.props.customizedPreviewMediaContent;else n=c("React").createElement(c("ReactComposerMediaUploadsGridContainer.react"),{enableFaceboxTagger:!k.disableFaceboxTagger,productTaggerType:k.productTaggerType,disablePhotoEditing:k.disablePhotoEditing,disableRemovePhotos:this.props.prefillConfig?this.props.prefillConfig.disableRemovePhotos:false,mediaConfig:k,mediaAcceptParam:this.props.config.mediaAcceptParam&&this.props.config.mediaAcceptParam.both,nuxConfig:this.props.config.nuxConfig,onFilesSelected:this.props.onFilesSelected,canUploadMultiplePhotos:this.props.config.targetData.targetSupportsMultiplePhotos,uploads:this.props.uploads});var w=this.props.sproutsDisplayState===c("ReactComposerSproutsDisplayState").INLINE,x=null,y=this.props.shouldShowCollageUploadLayout&&!w&&this.props.uploads.size<=5&&this.props.uploads.size>0?c("React").createElement(c("ReactComposerCollageContainer.react"),{containerWidth:this.$ReactComposerMediaAttachment1,scaleFactor:this.props.collageScaleFactor,mediaUploads:this.props.uploads,enableFaceboxTagger:!k.disableFaceboxTagger,enablePhotoEditing:!k.disablePhotoEditing,productTaggerType:k.productTaggerType}):null;if(y)x=c("React").createElement(c("ReactComposerCollagePlusButton.react"),{enableFaceboxTagger:this.props.enableFaceboxTagger,composerConfig:this.props.config});if(y||w)n=null;var z=c("React").createElement(c("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{config:this.props.config,handlePastedText:this.props.handlePastedText,onFocus:this.props.onMentionsInputFocus,onChange:this.props.onMentionsInputChange,onPasteFiles:k.disableUploadOnDragDropAndPaste?null:this.props.onPasteFiles,placeholder:this.$ReactComposerMediaAttachment4(),className:y?"_5b2v":""}),A=l.multilingualStatus,B=l.multilingualStatus?c("React").createElement(A,null):null,C=c("React").createElement("div",null,z,B);if(l.showProfilePic)C=c("React").createElement(c("ReactComposerProfilePhotoBlock.react"),{profilePhotoBadge:l.customProfilePhoto,profilePicSrc:l.profilePicSrc,profileURI:l.profileURI},C);var D=l?l.markdownPreviewAttachment:null,E=null;if(D){var F=D.container;E=c("React").createElement(F,{prettify:D.prettify,isMarkdownForInternalEmployee:D.isMarkdownForInternalEmployee})}var G=l.donateButtonConfig,H=null;if(G){var I=G.donateButtonContainer;H=c("React").createElement(I,{charityName:G.charityName,fundraiserCampaignId:G.fundraiserCampaignId})}var J=null;if(l.topicFeedsTagger){var K=l.topicFeedsTagger,L=K.container;J=c("React").createElement(L,{composerFeedID:K.composerFeedID,photoAutoTaggingDelay:K.photoAutoTaggingDelay,photoPollingDuration:K.photoPollingDuration,photoPollingInterval:K.photoPollingInterval,showNux:K.showNux,textAutoTaggingDelay:K.textAutoTaggingDelay,darkLaunch:K.darkLaunch})}var M=null;if(l.groupPostTagsTagger){var N=l.groupPostTagsTagger,O=N.container;M=c("React").createElement(O,{tagsLimit:N.tagsLimit,groupID:N.groupID})}var P=!this.props.shouldShowCarouselURLInputArea&&!this.props.isSlideshowSelected,Q=c("MNPageComposerUtils").shouldShowMessagingButton(this.props.photoUploadsCount,this.props.videoUploadsCount,this.props.isSlideshowSelected,this.props.isCanvasSelected,this.props.isCollectionSelected,this.props.isPhotoCarouselSelected,this.props.shouldShowMessagingCTA),R=null,S=l.aymtTipConfig;if(S&&S.isEligible)R=c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("ReactComposerAYMTTip.react").__setRef("ReactComposerMediaAttachment.react"),placeholder:c("React").createElement("div",null),component:c("React").createElement(c("LazyComponent.react"),{pageID:S.pageID,minLength:S.minContentLength})});var T=null;if(this.props.config.instagramCrossPostingEnabled&&this.props.uploads.size==1&&!this.props.videoUploadsCount)T=c("React").createElement(c("ReactComposerCrossPostToInstagramRow.react"),{composerID:this.context.composerID});var U=null;if(i)U=c("React").createElement(i,null);var V=null;if(this.props.isOfferLikePost&&l&&l.offerLikePostUpsellInlineBanner){var W=[];for(var X=0;X<this.props.uploads.size;X++){var Y=this.props.uploads.get(X).photoID;if(Y)W.push(Y)}var Z=l.offerLikePostUpsellInlineBanner;V=c("React").createElement(Z,{actorID:this.context.actorID,composerID:this.context.composerID,pageID:l.pageID,photoIDs:W,text:this.props.offerLikePostText||""})}var $=k.disableUploadOnDragDropAndPaste?null:c("React").createElement(c("ReactComposerDragDropPromptContainer.react"),{root:this,config:this.props.config});return c("React").createElement("div",{className:"_2_lq","data-testid":"media-attachment"},$,this.$ReactComposerMediaAttachment5(),c("React").createElement("div",{className:"_4wbt"},c("React").createElement("div",{className:(this.props.shouldScrollComposerContent&&m?"_1w_g":"")+(y?" _3zko":"")},C,this.props.children,E,H,U,c("React").createElement(c("ReactComposerTaggerSummaryContainer.react"),null),n,y),x),J,M,R,T,V,c("React").createElement(c("ReactComposerStatusFooterContainer.react"),{additionalTaggers:this.props.additionalTaggers,additionalFooterActions:this.props.additionalFooterActions,attachmentsConfig:this.props.config.attachmentsConfig,audienceXHP:this.props.config.audienceXHP,config:this.props.config,isCameraIconEnabled:P,isMessagingButtonEnabled:Q,locationTaggerPlaceholder:this.$ReactComposerMediaAttachment6(),mediaAcceptParam:this.props.config.mediaAcceptParam,peopleTaggerPlaceholder:this.$ReactComposerMediaAttachment7(),postButtonLabel:this.props.postButtonLabel?this.props.postButtonLabel:undefined,postButtonModule:this.$ReactComposerMediaAttachment3(),taggersConfig:this.props.taggersConfig?this.props.taggersConfig:this.props.config.taggersConfig,targetData:this.props.targetData||this.props.config.targetData}))};j.prototype.$ReactComposerMediaAttachment6=function(){if(this.props.video)return e._("Where was this taken?");if(this.props.uploads.size>1)return e._("Where were these photos taken?");if(this.props.uploads.size===1)return e._("Where was this photo taken?");return null};j.prototype.$ReactComposerMediaAttachment7=function(){if(!!this.props.video||this.props.uploads.size>0)return e._("Who were you with?");return null};j.prototype.$ReactComposerMediaAttachment4=function(){__p&&__p();if(this.props.placeholder)return this.props.placeholder;var k=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA];if(this.props.video||this.props.uploads.size===1&&this.props.videoUploadsCount===1)return e._("Say something about this video...");else if(this.props.isSlideshowSelected)return e._("Say something about this slideshow...");else if(this.props.uploads.size>1)if(this.props.photoUploadsCount===0)return e._("Say something about these videos...");else if(this.props.videoUploadsCount===0)if(this.props.sphericalPhotoUploadsCount===this.props.photoUploadsCount)return e._("Say something about these 360 photos...");else return e._("Say something about these photos...");else return e._("Say something about these media...");else if(this.props.shouldShowCarouselURLInputArea||this.props.shouldShowPreview){var l=k.carouselConfig.PhotoCarouselUtils;return l.getInputPlaceHolder(k.carouselConfig,this.props.shouldShowPreview)}else if(this.props.sphericalPhotoUploadsCount)return e._("Say something about this 360 photo...");else return e._("Say something about this photo...")};j.prototype.$ReactComposerMediaAttachment5=function(){var k=this.context.gks&&this.context.gks.topPostButton,l=this.context.gks&&this.context.gks.isSproutsComposer;if(!(k&&l))return null;return c("React").createElement("div",{className:"_4y7p"},this.$ReactComposerMediaAttachment8())};j.prototype.$ReactComposerMediaAttachment8=function(){var k=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],l=k.footerBackground?k.footerBackground:this.props.config.showExpandedComposer?"white":"light-wash",m=c("React").createElement(c("ReactComposerFooterContainer.react"),{background:l},c("React").createElement("div",{className:"clearfix"},c("React").createElement("div",{className:"rfloat"},this.$ReactComposerMediaAttachment9())));return m};j.prototype.$ReactComposerMediaAttachment9=function(){var k=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],l=this.props.config.audienceXHP?c("React").createElement(c("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.config.audienceXHP,viewerIsTarget:this.props.config.targetData.viewerIsTarget}):null,m=this.props.postButtonModule||c("ReactComposerPostButtonContainer.react"),n=c("React").createElement(m,{config:this.props.config});return c("React").createElement(c("ReactComposerFooterActions.react"),null,this.props.additionalFooterActions,l,n)};j.defaultProps={collageScaleFactor:1};j.contextTypes=c("ReactComposerContextTypes");d.exports=j}),null);
__d("ReactComposerMediaAttachmentActions",["ReactComposerDispatcher","ReactComposerMediaAttachmentActionType","ReactComposerMediaAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerMediaAttachmentStore");h.prototype.setConfig=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMediaAttachmentActionType").SET_MEDIA_CONFIG,config:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.createAlbumSelectorClicked=function(i){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMediaAttachmentActionType").CREATE_ALBUM_SELECTOR_CLICKED})};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerCanvasActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({HIDE_CANVAS_SELECTOR:null,SHOW_CANVAS_SELECTOR:null},"ReactComposerCanvasActionType")}),null);
__d("ReactComposerCanvasStore",["ReactComposerCanvasActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{shouldShowCanvasSelector:false,isCanvasSelected:false}},function(l){switch(l.type){case c("ReactComposerCanvasActionType").SHOW_CANVAS_SELECTOR:k&&k.$ReactComposerCanvasStore1(l);break;case c("ReactComposerCanvasActionType").HIDE_CANVAS_SELECTOR:k&&k.$ReactComposerCanvasStore2(l);break;default:break}});k=this}j.prototype.$ReactComposerCanvasStore1=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.shouldShowCanvasSelector=true;m.isCanvasSelected=true;this.emitChange(l)};j.prototype.$ReactComposerCanvasStore2=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.shouldShowCanvasSelector=false;m.isCanvasSelected=false;this.emitChange(l)};j.prototype.shouldShowCanvasSelector=function(k){"use strict";return this.getComposerData(k).shouldShowCanvasSelector};j.prototype.isCanvasSelected=function(k){"use strict";return this.getComposerData(k).isCanvasSelected};f.exports=new j()}),null);
__d("ReactComposerCollectionActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({ATTACHMENT_SELECT_COLLECTION:null,ATTACHMENT_CANCEL_COLLECTION:null,SET_COLLECTION:null,SET_DEFAULT_CANVAS_AND_TEMPLATE_ID:null,SET_POST_TITLE:null,SET_PRODUCT_SET_ID:null,SET_FEATURED_PRODUCT_IDS:null,SHOW_FEATURED_PRODUCT_DIALOG:null,HIDE_FEATURED_PRODUCT_DIALOG:null,UPDATE_COLLECTION_DIALOG_VISIBILITY:null},"ReactComposerCollectionActionType")}),null);
__d("XReactComposerCollectionAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/collection/bootstrap/",{composer_id:{type:"String",required:true},canvas_id:{type:"FBID",required:true},target_id:{type:"FBID",required:true}})}),null);
__d("XReactComposerCollectionAttachmentPublishController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/collection/publish/",{canvas_id:{type:"FBID",required:true},featured_retailer_ids:{type:"StringSet",required:true}})}),null);
__d("ReactComposerCollectionStore",["Bootloader","ActorURI","AsyncRequest","ReactComposerActionTypes","ReactComposerCollectionActionType","ReactComposerStoreBase","XReactComposerCollectionAttachmentBootstrapController","XReactComposerCollectionAttachmentPublishController","AdsCollectionsConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID;h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){__p&&__p();var l=void 0;i.constructor.call(this,function(){return{actorID:null,attachmentConfig:{},canvasID:null,defaultCanvasID:null,featuredRetailerIDs:j,featuredRetailerImages:[],heroImage:null,heroVideo:null,isCollectionSelected:false,isLoading:false,itemIDs:[],itemImages:[],productCatalogVertical:null,productSetID:null,templateID:null}},function(m){__p&&__p();switch(m.type){case c("ReactComposerCollectionActionType").ATTACHMENT_SELECT_COLLECTION:l&&l.$ReactComposerCollectionStore1(m);break;case c("ReactComposerCollectionActionType").ATTACHMENT_CANCEL_COLLECTION:l&&l.$ReactComposerCollectionStore2(m);break;case c("ReactComposerCollectionActionType").SET_COLLECTION:l&&l.$ReactComposerCollectionStore3(m);break;case c("ReactComposerCollectionActionType").SET_POST_TITLE:l&&l.$ReactComposerCollectionStore4(m);break;case c("ReactComposerCollectionActionType").SET_PRODUCT_SET_ID:l&&l.$ReactComposerCollectionStore5(m);break;case c("ReactComposerCollectionActionType").SET_FEATURED_PRODUCT_IDS:l&&l.$ReactComposerCollectionStore6(m);break;case c("ReactComposerCollectionActionType").SHOW_FEATURED_PRODUCT_DIALOG:l&&l.$ReactComposerCollectionStore7(m,true);break;case c("ReactComposerCollectionActionType").HIDE_FEATURED_PRODUCT_DIALOG:l&&l.$ReactComposerCollectionStore7(m,false);break;case c("ReactComposerCollectionActionType").UPDATE_COLLECTION_DIALOG_VISIBILITY:l&&l.$ReactComposerCollectionStore8(m);break;case c("ReactComposerCollectionActionType").SET_DEFAULT_CANVAS_AND_TEMPLATE_ID:l&&l.$ReactComposerCollectionStore9(m);break;case c("ReactComposerActionTypes").POST_STARTED:l&&l.$ReactComposerCollectionStore10(m);break;case c("ReactComposerActionTypes").PUBLISH_STARTED:l&&l.$ReactComposerCollectionStore11(m);break;default:break}});l=this}k.prototype.$ReactComposerCollectionStore12=function(l,m){__p&&__p();var n=this.getComposerData(l),o=Object.entries(m).filter(function(w){var u=w[0],v=w[1];return n[u]!==v});if(o.length){for(var p=o,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=t[0],v=t[1];n[u]=v}this.emitChange(l)}};k.prototype.$ReactComposerCollectionStore2=function(l){var m=this.validateAction(l,"composerID");this.clearComposerData(m);this.emitChange(m)};k.prototype.$ReactComposerCollectionStore1=function(l){var m=this.validateAction(l,["actorID","composerID","canvasID","targetID"]),n=m[0],o=m[1],p=m[2],q=m[3],r=c("XReactComposerCollectionAttachmentBootstrapController").getURIBuilder().setString("composer_id",o).setFBID("canvas_id",p).setFBID("target_id",q).getURI();r=c("ActorURI").create(r,n);new(c("AsyncRequest"))(r).send();this.$ReactComposerCollectionStore12(o,{attachmentConfig:{},canvasID:p,isCollectionSelected:!!p,isLoading:true})};k.prototype.$ReactComposerCollectionStore10=function(l){var m=this.validateAction(l,["actorID","composerID"]),n=m[0],o=m[1],p=this.getComposerData(o);if(!p.isCollectionSelected)return;p.actorID=n};k.prototype.$ReactComposerCollectionStore11=function(l){var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);if(!n.actorID)return;var o=c("XReactComposerCollectionAttachmentPublishController").getURIBuilder().setFBID("canvas_id",n.canvasID).setStringSet("featured_retailer_ids",n.featuredRetailerIDs).getURI();o=c("ActorURI").create(o,n.actorID);new(c("AsyncRequest"))(o).send();n.actorID=null;this.$ReactComposerCollectionStore8({composerID:m,isVisible:false,canvasID:null})};k.prototype.$ReactComposerCollectionStore3=function(l){var m=l.composerID,n=l.postTitle,o=babelHelpers.objectWithoutProperties(l,["composerID","postTitle"]),p=o.attachmentConfig.params;p.title=n;if(o.heroImage)p.images.push(o.heroImage);else if(o.heroVideo)p.video.push(o.heroVideo);o.isLoading=false;this.$ReactComposerCollectionStore12(m,o)};k.prototype.$ReactComposerCollectionStore4=function(l){var m=this.validateAction(l,["composerID","postTitle"]),n=m[0],o=m[1],p=this.getComposerData(n);p.attachmentConfig.params.title=o;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore5=function(l){var m=this.validateAction(l,["composerID","productSetID","productCatalogVertical"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.productSetID=o;q.productCatalogVertical=p;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore7=function(l,m){var n=this.validateAction(l,"composerID"),o=this.getComposerData(n);o.shouldShowFeaturedProductDialog=m;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore6=function(l){var m=this.validateAction(l,["composerID","featuredRetailerIDs","featuredRetailerImages"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.featuredRetailerIDs=o;q.featuredRetailerImages=p;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore8=function(l){c("Bootloader").loadModules(["AdsCanvasInlineBuilderActions"],function(m){var n=this.validateAction(l,["composerID","isVisible"]),o=n[0],p=n[1],q=l.canvasID,r=this.getComposerData(o),s=r.defaultCanvasID,t=r.templateID;m.setShowInlineModal(p,q||s,t)}.bind(this),"ReactComposerCollectionStore")};k.prototype.$ReactComposerCollectionStore9=function(l){var m=this.validateAction(l,["composerID","defaultCanvasID","templateID"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerCollectionStore12(n,{defaultCanvasID:o,templateID:p})};k.prototype.shouldShowFeaturedProductDialog=function(l){return this.getComposerData(l).shouldShowFeaturedProductDialog};k.prototype.isCollectionSelected=function(l){return this.getComposerData(l).isCollectionSelected};k.prototype.isLoading=function(l){return this.getComposerData(l).isLoading};k.prototype.getAttachmentConfig=function(l){var m=this.getComposerData(l),n=m.attachmentConfig;return n.params?n:null};k.prototype.getCanvasID=function(l){return this.getComposerData(l).canvasID};k.prototype.getHeroImage=function(l){return this.getComposerData(l).heroImage};k.prototype.getHeroVideo=function(l){return this.getComposerData(l).heroVideo};k.prototype.getItemImages=function(l){var m=this.getComposerData(l),n=m.featuredRetailerIDs,o=m.featuredRetailerImages,p=m.itemIDs,q=m.itemImages,r=n.reduce(function(t,u){t[u]=true;return t},{}),s=q.filter(function(t,u){return!r[p[u]]});return o.concat(s).slice(0,4)};k.prototype.getPostTitle=function(l){var m=this.getComposerData(l),n=m.attachmentConfig.params;return n?n.title:""};k.prototype.getProductCatalogVertical=function(l){return this.getComposerData(l).productCatalogVertical};k.prototype.getProductSetID=function(l){return this.getComposerData(l).productSetID};f.exports=new k()}),null);
__d("CarouselPagesComposerSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAROUSEL_CAMERA_ICON:"carousel_camera_icon"})}),null);
__d("ReactComposerPhotoCarouselActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SELECT_PHOTO_CAROUSEL:null,UNSELECT_PHOTO_CAROUSEL:null,PREVIEW_COMPLETED:null,PREVIEW_INCOMPLETED:null,HIDE_CAROUSEL_URL_INPUT_AREA:null,SHOW_CAROUSEL_URL_INPUT_AREA:null,SEEN_NUX:null},"ReactComposerPhotoCarouselActionType")}),null);
__d("ReactComposerPhotoCarouselStore",["CarouselPagesComposerSource","PagesComposerActionsLogger","PagesComposerPostActionsLoggerEvent","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerPhotoCarouselActionType","ReactComposerScrapedAttachmentActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{isPhotoCarouselSelected:false,isCarouselPreviewCompleted:true,shouldShowURLEditArea:false,seenNux:false}},function(l){__p&&__p();switch(l.type){case c("ReactComposerPhotoCarouselActionType").SELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore1(l);break;case c("ReactComposerPhotoCarouselActionType").UNSELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore2(l);break;case c("ReactComposerPhotoCarouselActionType").PREVIEW_COMPLETED:k&&k.$ReactComposerPhotoCarouselStore3(l);break;case c("ReactComposerPhotoCarouselActionType").PREVIEW_INCOMPLETED:k&&k.$ReactComposerPhotoCarouselStore4(l);break;case c("ReactComposerPhotoCarouselActionType").SHOW_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore5(l);break;case c("ReactComposerPhotoCarouselActionType").HIDE_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerPhotoCarouselStore7(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c("ReactComposerPhotoCarouselActionType").SEEN_NUX:k&&k.$ReactComposerPhotoCarouselStore8(l);break;default:}});k=this}j.prototype.$ReactComposerPhotoCarouselStore1=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=true;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore2=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore3=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=true;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore4=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore5=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=true;var n=k.source;if(n===c("CarouselPagesComposerSource").CAROUSEL_CAMERA_ICON)c("PagesComposerActionsLogger").log({event:c("PagesComposerPostActionsLoggerEvent").CLICK_CAROUSEL_CAMERA_ICON,target_id:k.targetID});this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore6=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore7=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l),n=c("ReactComposerAttachmentStore").getSelectedAttachmentID(l);if(m.shouldShowURLEditArea&&n!==c("ReactComposerAttachmentType").MEDIA)m.shouldShowURLEditArea=false;if(m.isPhotoCarouselSelected&&n!==c("ReactComposerAttachmentType").MEDIA){m.isPhotoCarouselSelected=false;m.isCarouselPreviewCompleted=false}this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore8=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.seenNux=true;this.emitChange(l)};j.prototype.shouldShowURLEditArea=function(k){"use strict";return this.getComposerData(k).shouldShowURLEditArea};j.prototype.seenNux=function(k){"use strict";return this.getComposerData(k).seenNux};j.prototype.isPhotoCarouselSelected=function(k){"use strict";return this.getComposerData(k).isPhotoCarouselSelected};j.prototype.isCarouselPreviewCompleted=function(k){"use strict";return this.getComposerData(k).isCarouselPreviewCompleted};f.exports=new j()}),null);
__d("ReactComposerVideoUploader",["invariant","Arbiter","ComposerEntryPointRef","DOM","DOMClone","ErrorDialog","QE","React","ReactComposerActions","ReactComposerPostUtilsCore","ReactComposerVideoUploadActions","ReactComposerVideoUploadStore","ReactDOM","Run","SubscriptionsHandler","UserAgent","VideoUploadFile","VideoUploadProcessingDialog.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b.URL||b.webkitURL||{};function j(k){__p&&__p();this.$ReactComposerVideoUploader3=k;this.$ReactComposerVideoUploader2=new(c("SubscriptionsHandler"))();this.$ReactComposerVideoUploader3.composerID||h(0);this.$ReactComposerVideoUploader3.container||h(0);this.$ReactComposerVideoUploader3.progressBarInstance||h(0);this.$ReactComposerVideoUploader3.uploader||h(0);this.$ReactComposerVideoUploader5=k.uploader;this.$ReactComposerVideoUploader1=k.composerID;this.$ReactComposerVideoUploader2.addSubscriptions(this.$ReactComposerVideoUploader5.subscribe("post-failed",this.$ReactComposerVideoUploader6.bind(this)),this.$ReactComposerVideoUploader5.subscribe("post-finished",this.$ReactComposerVideoUploader7.bind(this)),this.$ReactComposerVideoUploader5.subscribe("upload-failed",this.$ReactComposerVideoUploader8.bind(this)),this.$ReactComposerVideoUploader5.subscribe("upload-finished",this.$ReactComposerVideoUploader9.bind(this)));c("Run").onLeave(function(){return this.$ReactComposerVideoUploader5.abandon()}.bind(this));c("Run").onUnload(function(){return this.$ReactComposerVideoUploader5.abandon()}.bind(this))}j.prototype.upload=function(k,l){this.$ReactComposerVideoUploader4=l;var m=c("VideoUploadFile").fromFileInput(k);this.$ReactComposerVideoUploader5.upload(m)};j.prototype.uploadFromFile=function(k,l){var m=k.getFile();if(m&&i.createObjectURL)l.fileURL=i.createObjectURL(m);this.$ReactComposerVideoUploader4=l;this.$ReactComposerVideoUploader5.upload(k)};j.prototype.destroy=function(){this.$ReactComposerVideoUploader2.release()};j.prototype.$ReactComposerVideoUploader10=function(k){if(k)c("ErrorDialog").show(k.error_summary,k.error_description);this.$ReactComposerVideoUploader3.progressBarInstance.reset();this.$ReactComposerVideoUploader5.abandon();c("ReactComposerActions").postError(this.$ReactComposerVideoUploader1,null)};j.prototype.$ReactComposerVideoUploader6=function(k,l){this.$ReactComposerVideoUploader10(l)};j.prototype.$ReactComposerVideoUploader7=function(k,l){c("ReactComposerPostUtilsCore").handlePostSucceeded(this.$ReactComposerVideoUploader1);if(this.$ReactComposerVideoUploader3.composerEntryPointRef===c("ComposerEntryPointRef").TIMELINE)c("QE").logExposure("www_optimistic_video_post");if(this.$ReactComposerVideoUploader3.shouldShowOptimisticVideoPost&&this.$ReactComposerVideoUploader3.composerEntryPointRef===c("ComposerEntryPointRef").TIMELINE)c("Arbiter").inform("videoUpload/complete",{videoID:l.video_id,isToUserProfile:true,videoFileURL:l.fileURL});else c("ReactDOM").render(c("React").createElement(c("VideoUploadProcessingDialog.react"),{videoID:l.video_id,show:true}),this.$ReactComposerVideoUploader3.container);this.$ReactComposerVideoUploader3.onPostSuccess&&this.$ReactComposerVideoUploader3.onPostSuccess()};j.prototype.$ReactComposerVideoUploader8=function(k,l){this.$ReactComposerVideoUploader10(l);var m=c("ReactComposerVideoUploadStore").getVideo(this.$ReactComposerVideoUploader1);if(c("UserAgent").isBrowser("IE")){var n=c("DOMClone").deepClone(m.input);c("DOM").replace(m.input,n)}else m.input.value="";c("ReactComposerVideoUploadActions").remove(this.$ReactComposerVideoUploader1)};j.prototype.$ReactComposerVideoUploader9=function(){this.$ReactComposerVideoUploader5.post(this.$ReactComposerVideoUploader4);this.$ReactComposerVideoUploader3.onUploadSuccess&&this.$ReactComposerVideoUploader3.onUploadSuccess()};f.exports=j}),null);
__d("ReactComposerMediaAttachmentContainer.react",["invariant","PUWMethods","React","Bootloader","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerCanvasStore","ReactComposerCollectionStore","ComposerEntryPointRef","ReactComposerLoggingName","ReactComposerMediaAttachment.react","ReactComposerMediaAttachmentStore","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMediaUtils","ReactComposerPhotoCarouselStore","ReactComposerPhotoUploader","ReactComposerScrapedAttachmentStore","ReactComposerSlideshowActions","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStatusUtils","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadActions","ReactComposerVideoUploader","ReactComposerVideoUploadStore","FluxContainer","QE2Logger","ReactDOM","SubscriptionsHandler","URLScraper","getByPath","ifRequired","ReactComposerContextTypes"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){__p&&__p();var l;"use strict";(l=j.constructor).call.apply(l,[this].concat(Array.prototype.slice.call(arguments)));this.$ComposerMediaAttachmentContainer1=function(event,m){var n=c("ReactComposerMediaUtils").handleSpecialMediaUpload(event,m,this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],this.context);if(n)return;var o=event.target?event.target:m.getInput();this.$ComposerMediaAttachmentContainer2||h(0);c("ReactComposerMediaUtils").uploadPhotosOrVideoFromTarget(this.context.composerID,o,this.$ComposerMediaAttachmentContainer2,this.props.config.targetData.targetSupportsMultiplePhotos,this.props.config.targetData.targetSupportsMultiMedia)}.bind(this);this.$ComposerMediaAttachmentContainer8=function(){if(this.state.selectedTagger!==null&&this.state.selectedTagger!==c("ReactComposerTaggerType").PEOPLE)c("ReactComposerTaggerActions").selectTaggerWithoutAutofocus(this.context.composerID,c("ReactComposerLoggingName").MENTIONS_INPUT_FOCUS,c("ReactComposerTaggerType").PEOPLE)}.bind(this);this.$ComposerMediaAttachmentContainer9=function(m){c("ReactComposerStatusUtils").uploadPastedFile(this.context.composerID,m[0],this.$ComposerMediaAttachmentContainer2);c("ReactComposerMediaUploadActions").photosSelect(this.context.composerID,1,c("PUWMethods").COPYPASTE)}.bind(this);this.$ComposerMediaAttachmentContainer10=function(m,n,o){var p=this.context.composerID,q=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],r=c("ReactComposerPhotoCarouselStore").shouldShowURLEditArea(p);if(q.carouselConfig&&r&&q.carouselConfig.ComposerPhotoCarouselPlaceHolder)c("ReactComposerStatusUtils").scrapeLink(p,this.context.targetID,m,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").LINK_PASTED);if(this.props.hasMessagingLink){var s=o?o.getCurrentContent().getPlainText():"",t=c("URLScraper").match(m)||s.concat(m);this.$ComposerMediaAttachmentContainer11(p,t)}return false}.bind(this);this.$ComposerMediaAttachmentContainer7=function(m){__p&&__p();var n=this.context.composerID,o=m.getCurrentContent().getPlainText();this.$ComposerMediaAttachmentContainer5(o);if(!c("URLScraper").trigger(o)){if(this.props.hasMessagingLink)this.$ComposerMediaAttachmentContainer11(n,o);var p=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],q=c("ReactComposerPhotoCarouselStore").shouldShowURLEditArea(n);if(!p.carouselConfig||!q)return;if(p.carouselConfig.ComposerPhotoCarouselPlaceHolder)c("ReactComposerStatusUtils").scrapeLink(n,this.context.targetID,o,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").INLINE_COMPOSER)}}.bind(this);this.$ComposerMediaAttachmentContainer1=this.$ComposerMediaAttachmentContainer1.bind(this)}k.getStores=function(){"use strict";return[c("ReactComposerCanvasStore"),c("ReactComposerCollectionStore"),c("ReactComposerMediaAttachmentStore"),c("ReactComposerPhotoCarouselStore"),c("ReactComposerMediaUploadStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerSlideshowStore"),c("ReactComposerTaggerStore"),c("ReactComposerVideoUploadStore"),c("ReactComposerStore")]};k.calculateState=function(l,m,n){"use strict";var o=n.composerID,p=c("ReactComposerMediaUploadStore").getUploadsOfType(o,c("ReactComposerMediaUploadType").PHOTO),q=c("ReactComposerMediaUploadStore").getUploadsOfType(o,c("ReactComposerMediaUploadType").VIDEO),r=c("ReactComposerMediaUploadStore").getUploads(o),s=m.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],t=p.filter(function(u){return u.isSpherical===true}).size;return{createAlbumLink:c("ReactComposerMediaAttachmentStore").getCreateAlbumLink(o),shouldShowCanvasSelector:c("ReactComposerCanvasStore").shouldShowCanvasSelector(o),shouldShowCarouselURLInputArea:c("ReactComposerPhotoCarouselStore").shouldShowURLEditArea(o),shouldShowPreview:c("ReactComposerScrapedAttachmentStore").getMarkup(o)!==null,shouldShowCollageUploadLayout:s.shouldShowCollageUploadLayout,shouldShowMessagingCTA:s.shouldShowMessagingCTA,shouldScrollComposerContent:s.shouldScrollComposerContent,collageScaleFactor:s.collageScaleFactor,slideshowDialogOpen:c("ReactComposerSlideshowStore").shouldShowSlideshowDialog(o),isCanvasSelected:c("ReactComposerCanvasStore").isCanvasSelected(o),isCollectionSelected:c("ReactComposerCollectionStore").isCollectionSelected(o),isPhotoCarouselSelected:c("ReactComposerPhotoCarouselStore").isPhotoCarouselSelected(o),isSlideshowSelected:c("ReactComposerSlideshowStore").isSlideshowSelected(o),selectedTagger:c("ReactComposerTaggerStore").getSelectedTagger(o),uploads:r,isOfferLikePost:l?l.isOfferLikePost:false,offerLikePostText:l?l.offerLikePostText:null,photoUploadsCount:p.size,sphericalPhotoUploadsCount:t,videoUploadsCount:q.size,video:c("ReactComposerVideoUploadStore").getVideo(o),videoProgressBar:c("ReactComposerMediaAttachmentStore").getVideoProgressBar(o),videoProgressBarInstance:c("ReactComposerMediaAttachmentStore").getVideoProgressBarInstance(o),videoUploader:c("ReactComposerMediaAttachmentStore").getVideoUploader(o),sproutsDisplayState:c("ReactComposerStore").getSproutsDisplayState(o)}};k.prototype.componentWillMount=function(){"use strict";this.$ComposerMediaAttachmentContainer4=new(c("SubscriptionsHandler"))();var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA];this.$ComposerMediaAttachmentContainer2=new(c("ReactComposerPhotoUploader"))(this.context,l.photoLimit,{disableFaceRecognition:l.disableFaceboxTagger});var m=c("ReactComposerMediaUtils").subscribeToImageEdit(this.context.composerID,this.$ComposerMediaAttachmentContainer2);this.$ComposerMediaAttachmentContainer4.addSubscriptions(m)};k.prototype.componentDidMount=function(){"use strict";var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA];this.$ComposerMediaAttachmentContainer3=new(c("ReactComposerVideoUploader"))({composerID:this.context.composerID,container:c("ReactDOM").findDOMNode(this.refs.videoContainer),progressBarInstance:this.state.videoProgressBarInstance,uploader:this.state.videoUploader,shouldShowOptimisticVideoPost:l.shouldShowOptimisticVideoPost,composerEntryPointRef:this.context.composerType});c("ReactComposerVideoUploadActions").setUploader(this.context.composerID,this.$ComposerMediaAttachmentContainer3);var m=c("ReactComposerStatusStore").getMessageText(this.context.composerID);this.$ComposerMediaAttachmentContainer5(m)};k.prototype.componentWillUnmount=function(){"use strict";this.$ComposerMediaAttachmentContainer3&&this.$ComposerMediaAttachmentContainer3.destroy();this.$ComposerMediaAttachmentContainer4&&this.$ComposerMediaAttachmentContainer4.release()};k.prototype.componentWillUpdate=function(l,m){"use strict";m=m||{};var n=this.state.uploads.size>0||!!this.state.video,o=m.uploads.size>0||!!m.video,p=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA];if(p.returnToStatusIfNoUploads&&n&&!o&&!this.state.slideshowDialogOpen){c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,c("ReactComposerAttachmentType").STATUS,true);if(c("ReactComposerSlideshowStore").isSlideshowSelected(this.context.composerID))c("ReactComposerSlideshowActions").hideSlideshowEditField(this.context.composerID)}};k.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("ReactComposerMediaAttachment.react"),babelHelpers["extends"]({},this.props,{createAlbumLink:this.state.createAlbumLink,isCanvasSelected:this.$ComposerMediaAttachmentContainer6()?true:this.state.isCanvasSelected,isCollectionSelected:this.state.isCollectionSelected,isPhotoCarouselSelected:this.state.isPhotoCarouselSelected,isSlideshowSelected:this.state.isSlideshowSelected,shouldShowCanvasSelector:this.$ComposerMediaAttachmentContainer6()?true:this.state.shouldShowCanvasSelector,shouldShowCarouselURLInputArea:this.state.shouldShowCarouselURLInputArea,shouldShowCollageUploadLayout:this.state.shouldShowCollageUploadLayout,sproutsDisplayState:this.state.sproutsDisplayState,shouldScrollComposerContent:this.state.shouldScrollComposerContent,collageScaleFactor:this.state.collageScaleFactor,shouldShowPreview:this.state.shouldShowPreview,slideshowDialogOpen:this.state.slideshowDialogOpen,shouldShowMessagingCTA:this.state.shouldShowMessagingCTA,isOfferLikePost:this.state.isOfferLikePost,offerLikePostText:this.state.offerLikePostText,onFilesSelected:this.$ComposerMediaAttachmentContainer1,onMentionsInputChange:this.$ComposerMediaAttachmentContainer7,onMentionsInputFocus:this.$ComposerMediaAttachmentContainer8,onPasteFiles:this.$ComposerMediaAttachmentContainer9,handlePastedText:this.$ComposerMediaAttachmentContainer10,postButtonModule:this.props.postButtonModule,uploads:this.state.uploads,videoUploadsCount:this.state.videoUploadsCount,photoUploadsCount:this.state.photoUploadsCount,sphericalPhotoUploadsCount:this.state.sphericalPhotoUploadsCount,video:this.state.video,videoProgressBar:this.state.videoProgressBar})),c("React").createElement("div",{ref:"videoContainer"}))};k.prototype.$ComposerMediaAttachmentContainer6=function(){"use strict";var l=false;c("ifRequired")("ReactObjectiveFirstPagesComposerViewMode",function(m){l=this.props.viewMode===m.CREATE_CANVAS_VIEW}.bind(this));return l};k.prototype.$ComposerMediaAttachmentContainer11=function(l,m){"use strict";var n=this.props.config.taggersConfig,o=c("getByPath")(n,[c("ReactComposerTaggerType").MESSAGING,"canDefaultCTAMessagingLink"]);if(this.props.hasMessagingLink&&this.props.hasMessagingLink(m)&&!c("ReactComposerTaggerStore").hasMessagingCTA(l)){c("QE2Logger").logExposureForUser("composer_default_cta_messaging_link_in_text_universe");if(o)c("ReactComposerTaggerActions").selectTaggerWithoutLogging(l,c("ReactComposerTaggerType").MESSAGING)}};k.prototype.$ComposerMediaAttachmentContainer5=function(l){"use strict";__p&&__p();var m=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS];if(this.context.composerType===c("ComposerEntryPointRef").PAGES_FEED)c("Bootloader").loadModules(["SalesPromoUtils.react"],function(n){if(n.checkIsOLP(l)){var o=m.offerLikePostUpsell,p=o.indexOf("inline")!==-1;if(p)this.setState({isOfferLikePost:true,offerLikePostText:l});if(o==="none"||p)c("QE2Logger").logExposureForPage("orgoff_offer_creation",m.pageID)}else this.setState({offerLikePostText:l})}.bind(this),"ReactComposerMediaAttachmentContainer.react")};k.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(k,{withContext:true,withProps:true})}),null);
__d("ReactComposerVideoCopyrightDialog.react",["fbt","LayerHideOnEscape","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerVideoCopyrightDialog1=function(){this.props.onCancel&&this.props.onCancel()}.bind(this),this.$ReactComposerVideoCopyrightDialog2=function(){this.props.onCancel&&this.props.onCancel()}.bind(this),n}l.prototype.componentDidMount=function(){"use strict";this.refs.dialog.layer&&this.refs.dialog.layer.subscribe("hide",this.$ReactComposerVideoCopyrightDialog1)};l.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialog.react"),{ref:"dialog",shown:this.props.shown,width:500,layerHideOnBlur:false,behaviors:{LayerHideOnEscape:c("LayerHideOnEscape")},key:"dialog"},c("React").createElement(c("XUIDialogBody.react"),null,h._("Please confirm that the content you are uploading does not infringe upon the intellectual property rights of any third party and that you have secured all rights necessary to copy, display and publicly perform the uploaded content (including any musical compositions or sound recordings included in the content) on Facebook.")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{use:"confirm",onClick:this.props.onConfirm,label:h._("Confirm")}),c("React").createElement(c("XUIButton.react"),{onClick:this.props.onCancel,label:h._("Cancel")})))};l.propTypes={shown:k.bool,onConfirm:k.func,onCancel:k.func};f.exports=l}),null);
__d("ReactComposerMediaAttachmentPostButton.react",["fbt","React","ReactComposerConfig","ReactComposerPostButtonContainer.react","ReactComposerVideoCopyrightDialog.react","ReactFragment","XUIContextualDialog.react","XUIContextualDialogBody.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={copyrightDialogShown:false},this.$ReactComposerMediaAttachmentPostButton3=function(){if(this.props.showCopyrightDialogOnPost){this.setState({copyrightDialogShown:true});return false}if(this.props.onClick){this.props.onClick();return false}return true}.bind(this),this.$ReactComposerMediaAttachmentPostButton1=function(){this.setState({copyrightDialogShown:false})}.bind(this),this.$ReactComposerMediaAttachmentPostButton2=function(){this.setState({copyrightDialogShown:false});this.props.onClick&&this.props.onClick()}.bind(this),n}l.prototype.renderLayers=function(){return c("ReactFragment").create({limitDialog:c("React").createElement(c("XUIContextualDialog.react"),{alignment:"right",contextRef:function(){return this.refs.post}.bind(this),position:"below",shown:this.props.limitExceeded,width:this.props.contextualDialogWidth},c("React").createElement(c("XUIContextualDialogBody.react"),null,h._("You can only add {number} photos at a time",[h.param("number",this.props.photoLimit)]))),copyrightDialog:c("React").createElement(c("ReactComposerVideoCopyrightDialog.react"),{shown:this.state.copyrightDialogShown,onCancel:this.$ReactComposerMediaAttachmentPostButton1,onConfirm:this.$ReactComposerMediaAttachmentPostButton2})})};l.prototype.render=function(){return c("React").createElement("span",null,c("React").createElement(c("ReactComposerPostButtonContainer.react"),{config:this.props.config,forceDisabled:this.props.disabled,onClickPreprocess:this.$ReactComposerMediaAttachmentPostButton3,label:this.props.label,ref:"post",useDefaultScheduleComponent:this.props.useDefaultScheduleComponent}),this.renderLayers())};l.propTypes={config:c("ReactComposerConfig").isRequired,disabled:k.bool,limitExceeded:k.bool,onClick:k.func,photoLimit:k.number.isRequired,showCopyrightDialogOnPost:k.bool,label:k.string,contextualDialogWidth:k.number,useDefaultScheduleComponent:k.bool};l.defaultProps={disabled:false,limitExceeded:false,showCopyrightDialogOnPost:false,contextualDialogWidth:300};f.exports=l}),null);
__d("ReactComposerMediaEagerAttachment.react",["React","ReactComposerAttachmentActions","ReactComposerAttachmentBodyMixin","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerMediaAttachmentActions","ReactComposerMediaAttachmentContainer.react","ReactComposerStatusActions","ReactComposerTaggerActions","gkx"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerMediaEagerAttachment",mixins:[c("ReactComposerAttachmentBodyMixin")()],propTypes:{config:c("ReactComposerConfig").isRequired,postButtonModule:h.func.isRequired},statics:{attachmentID:c("ReactComposerAttachmentType").MEDIA},componentWillMount:function j(){var k=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA].bootstrapData;c("ReactComposerStatusActions").setMentionsSource(this.context.composerID,k.mentionsSource);c("ReactComposerMediaAttachmentActions").setConfig(this.context.composerID,k);c("ReactComposerAttachmentActions").setInitialized(this.context.composerID,c("ReactComposerAttachmentType").MEDIA);if(c("gkx")("AT7rNDDdaqbNsNKVWAB2srntBC9kKTH71mtXESBBj2RChibXb3-wXs1S24n11evPW74QN4P34-lCxfKFpDx7_2p-"))c("ReactComposerTaggerActions").updateTaggersSource(this.context.composerID,this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA].bootstrapData.taggersSource)},componentDidMount:function j(){if(!c("gkx")("AT7rNDDdaqbNsNKVWAB2srntBC9kKTH71mtXESBBj2RChibXb3-wXs1S24n11evPW74QN4P34-lCxfKFpDx7_2p-"))c("ReactComposerTaggerActions").updateTaggersSource(this.context.composerID,this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA].bootstrapData.taggersSource)},renderX:function j(){return c("React").createElement(c("ReactComposerMediaAttachmentContainer.react"),this.props)}});f.exports=i}),null);
__d("ReactComposerMarkdownActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirrorRecursive")({ENABLE_MARKDOWN:null,DISABLE_MARKDOWN:null,HIDE_INTERCEPT:null,SHOW_INTERCEPT:null},"ReactComposerMarkdownActionType")}),null);
__d("ReactComposerMarkdownStore",["ReactComposerMarkdownActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=Object.freeze({UNKNOWN:0,CHECKING:1,ENABLED:2,DISABLED:3});h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){__p&&__p();var l=void 0;i.constructor.call(this,function(){return{state:j.UNKNOWN}},function(m){switch(m.type){case c("ReactComposerMarkdownActionType").SHOW_INTERCEPT:l&&l.$ReactComposerMarkdownStore1(m);break;case c("ReactComposerMarkdownActionType").HIDE_INTERCEPT:l&&l.$ReactComposerMarkdownStore2(m);break;case c("ReactComposerMarkdownActionType").ENABLE_MARKDOWN:l&&l.$ReactComposerMarkdownStore3(m);break;case c("ReactComposerMarkdownActionType").DISABLE_MARKDOWN:l&&l.$ReactComposerMarkdownStore4(m);break}});l=this}k.prototype.showIntercept=function(l){return this.getComposerData(l).state===j.CHECKING};k.prototype.interceptAttempted=function(l){var m=this.getComposerData(l),n=m.state;return n===j.ENABLED||n===j.DISABLED};k.prototype.isMarkdownEnabled=function(l){return this.getComposerData(l).state===j.ENABLED};k.prototype.$ReactComposerMarkdownStore1=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.CHECKING;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore2=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.UNKNOWN;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore3=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.ENABLED;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore4=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.DISABLED;this.emitChange(m)};f.exports=new k()}),null);
__d("ReactComposerMarkdownActions",["ReactComposerDispatcher","ReactComposerMarkdownActionType","ReactComposerMarkdownStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("ReactComposerMarkdownStore");h.prototype.showIntercept=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").SHOW_INTERCEPT})};h.prototype.hideIntercept=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").HIDE_INTERCEPT})};h.prototype.enableMarkdown=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").ENABLE_MARKDOWN})};h.prototype.disableMarkdown=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").DISABLE_MARKDOWN})};function h(){}f.exports=new h()}),null);
__d("PhotoEditorLoggingConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_IMAGE_STICKER:"composer_sticker",COMPOSER_IMAGE_TEXT_OVERLAY:"composer_text_overlay",COMPOSER_IMAGE_HAS_CROP:"composer_has_crop",COMPOSER_IMAGE_HAS_FILTER:"composer_has_filter",COMPOSER_IMAGE_CUSTOM_ACCESSIBILITY_CAPTION:"composer_custom_accessibility_caption"})}),null);
__d("ReactComposerPromptsActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_MINUTIAE_DATA:null,SET_PROMPT_DATA:null,SET_PROMPT_XHP:null,SET_MEME_CATEGORY_ID:null},"ReactComposerPromptsActionTypes")}),null);
__d("ReactComposerPromptsStore",["ReactComposerPromptsActionTypes","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k=void 0;i.constructor.call(this,function(){return{promptData:null,promptXHP:null}},function(l){k&&k.handler(l)});k=this}j.prototype.handler=function(k){"use strict";__p&&__p();switch(k.type){case c("ReactComposerPromptsActionTypes").SET_MINUTIAE_DATA:this.$ReactComposerPromptsStore1(k);break;case c("ReactComposerPromptsActionTypes").SET_PROMPT_DATA:this.$ReactComposerPromptsStore2(k);break;case c("ReactComposerPromptsActionTypes").SET_PROMPT_XHP:this.$ReactComposerPromptsStore3(k);break;case c("ReactComposerPromptsActionTypes").SET_MEME_CATEGORY_ID:this.$ReactComposerPromptsStore4(k);break;default:}};j.prototype.$ReactComposerPromptsStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","minutiaeData"]),m=l[0],n=l[1],o=this.getComposerData(m);o.minutiaeData=n};j.prototype.getMinutiaeData=function(k){"use strict";return this.getComposerData(k).minutiaeData};j.prototype.$ReactComposerPromptsStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","promptData"]),m=l[0],n=l[1],o=this.getComposerData(m);o.promptData=n};j.prototype.getPromptData=function(k){"use strict";return this.getComposerData(k).promptData};j.prototype.$ReactComposerPromptsStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","promptXHP"]),m=l[0],n=l[1],o=this.getComposerData(m);o.promptXHP=n;this.emitChange(m)};j.prototype.getPromptXHP=function(k){"use strict";return this.getComposerData(k).promptXHP};j.prototype.$ReactComposerPromptsStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","memeCategoryID"]),m=l[0],n=l[1],o=this.getComposerData(m);o.memeCategoryID=n};j.prototype.getMemeCategoryID=function(k){"use strict";return this.getComposerData(k).memeCategoryID};f.exports=new j()}),null);
__d("ReactComposerPostDataUtils",["ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceSelectorStore","ReactComposerAudienceStore","ReactComposerEventAttachmentStore","ReactComposerLoggingStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMinutiaeAttachmentStore","ReactComposerPhotoStore","ReactComposerPostUtilsCore","ReactComposerPromptsStore","ReactComposerScrapedAttachmentStore","ReactComposerSelectedImagesStore","ReactComposerSessionMetricsStore","ReactComposerSlideshowAudioStore","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ComposerXMarauderLogger","flattenPHPQueryData","ifRequired","isNumberLike","PlaceAttachmentSetting","PhotoEditorLoggingConstants","PhotoEditorSaveStates","PhotosUploadWaterfallApplications","PUWApplications","SlideshowUtil"],(function aa(ba,a,ca,da,ea,fa){__p&&__p();var ga={getPostData:function b(c){__p&&__p();var d=c.composerID,e=c.targetID,f=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").PEOPLE)||[],g=[];f.forEach(function($){g.push($.getUniqueID())});var h=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").PRODUCT)||[];h=h.filter(function($){return!$.getAuxiliaryData().isFacebox});var i=h.map(function($){return $.getUniqueID()}),j=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").ISSUE_TAG)||[],k=j.map(function($){return $.getUniqueID()}),l=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE),m=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").TAG_EVENT),n=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").ACTIVITY),o=[],p=[],q=[],r=void 0;if(n&&n.action&&n.object){o.push(n.action.getUniqueID());r=n.actionIconID;if(a("isNumberLike")(n.object.getUniqueID())&&n.object.getUniqueID()!==n.object.getTitle()){p.push(n.object.getUniqueID());q.push("")}else q.push(n.object.getTitle())}else if(l.politicalRepresentative)a("ifRequired")("ContactYourRepresentativeConsts",function($){o.push($.composer_action_id);p.push(l.politicalRepresentative.getUniqueID());q.push("")});else if(m&&m.eventID)a("ifRequired")("TagEventSproutConsts",function($){o.push($.composer_action_id);p.push(m.eventID);q.push("")});var s=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").STICKER),t=s&&s.stickerID?s.stickerID:0,u=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").ASSET_3D),v=a("ReactComposerTaggerStore").isDisabled(d,a("ReactComposerTaggerType").ASSET_3D),ha=u&&u.asset3dID&&!v?u.asset3dID:null,ia=a("ReactComposerMinutiaeAttachmentStore").getHideObjectAttachment(d),ja=a("ifRequired")("ReactComposerLocationAttachmentStore",function($){return $.getMarkup(d)!==null?a("PlaceAttachmentSetting").SHOW_ATTACHMENT:a("PlaceAttachmentSetting").HIDE_ATTACHMENT},function(){return a("PlaceAttachmentSetting").HIDE_ATTACHMENT}),w=[],x=[],y="";a("ifRequired")("ReactComposerMultilingualStatusStore",function($){w=$.getMessages(d);x=$.getLanguageDialects(d);y=$.getSpecifiedPostLanguage(d)});var z=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").FUN_FACT),A=null,B=null;if(z)if(z.promptID)A=z.promptID;else B=z.askedPromptID;var C=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").FUNDRAISER),ka=C?C.charityID:null,D=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").LOCATION),E=a("ReactComposerEventAttachmentStore").getEventID(d),F=D?D.place:null,G=void 0;if(a("ReactComposerTaggerStore").hasBackdate(d)){var H=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").BACKDATE);G={year:this._sanitizeDateField(H.year),month:this._sanitizeDateField(H.month),day:this._sanitizeDateField(H.day),hour:this._sanitizeDateField(H.hour),minute:this._sanitizeDateField(H.minute)}}var I=D&&D.implicitLocation?D.implicitLocation.citypageid:null,J=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").SPONSOR)||{},K={directShareStatus:J.directShareStatus,sponsorRelationship:J.sponsorRelationship,sponsors:[]};J.sponsors.map(function($){K.sponsors.push($.getUniqueID())});var L=a("ReactComposerAudienceStore").getCollectionID(d),M=null;if(!L){var N=a("ReactComposerAudienceStore").getLegacyAudience(d);if(N)M=[{value:N}]}var O=c.useHints,P=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").TARGETING),Q=P&&!L?O?P.hints:P.targeting:null;if(Q!=null){if(!O&&Q.fan_of)Q.fan_of=Q.fan_of.map(function($){return $.id});a("ifRequired")("AdsAPITargetFields",function($){if($&&Q&&O&&Q[$.INTERESTS])Q[$.INTERESTS]=Q[$.INTERESTS].map(function(Da){return Da.id})})}var la=P&&!L?P.gating:null;if(c.composerConfig.contextInfo.stopFeedDistributionDateFormatted){if(!Q)Q={};Q["relevant-until-date"]=c.composerConfig.contextInfo.stopFeedDistributionDateFormatted;Q["relevant-until-time"]=c.composerConfig.contextInfo.stopFeedDistributionTimeFormatted}var R=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT);if(R)if(R.showStart==1&&R.showEnd==100||R.showStart==null&&R.showEnd==null)R=null;else R={showStart:R.showStart,showEnd:R.showEnd};var ma=a("ifRequired")("PagesComposerBoostedPostsStore",function($){return $.getConfig(d)},function(){return null}),S=a("ReactComposerScrapedAttachmentStore").getAttachmentConfig(d);if(S===null){a("ifRequired")("ReactComposerCTAStore",function($){S=$.getAttachmentConfig(d)});if(S===null)a("ifRequired")("ReactComposerCollectionStore",function($){S=$.getAttachmentConfig(d)})}var T=a("ReactComposerTaggerStore").hasData(d,a("ReactComposerTaggerType").BREAKING_NEWS),U=0;if(T)U=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").BREAKING_NEWS).expirationTime;if(T&&S&&S.params.url){S.params.breaking_news_selected=T;S.params.breaking_news_expiration=U}var V=a("ReactComposerTaggerStore").hasMarkdown(d);a("ifRequired")("ReactComposerMarkdownStore",function($){V=V||$.isMarkdownEnabled(d)});var na=a("ifRequired")("ReactComposerPostToGroupStore",function($){return $.getIsTabSelected(d)},function(){return false}),oa=a("ReactComposerTaggerStore").getPoliticalDistrictInfo(d),W=a("ReactComposerTaggerStore").getTaggerData(d,a("ReactComposerTaggerType").CONTENT_WARNINGS);if(W!=null)W=W.map(function($){return $.getUniqueID()});var pa=null;a("ifRequired")("ReactComposerTopicFeedsTaggerStore",function($){if(!$.getIsDarkLaunch(d))pa=$.getTaggedTopics(d).toArray()});var qa=null;a("ifRequired")("ReactComposerGroupPostTagsTaggerStore",function($){qa=$.getPostTagIDs(d)});var X=a("ReactComposerPromptsStore").getPromptData(d),ra=a("ReactComposerSessionMetricsStore").getComposerStartTime(d),sa=null;if(ra)sa=Math.round((Date.now()-ra)/1e3);var ta=false;a("ifRequired")("ReactComposerProfileBadgeStore",function($){ta=$.hasProfileBadge(d)});var Y=a("ComposerXMarauderLogger").getInstance(d),ua=Y&&Y.composerSourceSurface,Z=c.composerConfig.attachmentsConfig&&c.composerConfig.attachmentsConfig[a("ReactComposerAttachmentType").STATUS],va=Z&&Z.richTextEditor,wa=false;if(Z&&Z.isWelcomeToGroupPost)wa=true;var xa=L?null:a("ReactComposerAudienceStore").getAudience(d),ya=null;a("ifRequired")("ReactComposerFindPlayersStore",function($){ya={title:$.getTitle(d),tags:$.getTags(d),name:$.getName(d)}});var za=null;if(a("ReactComposerStore").getRankerRequestID(d))za={RequestID:a("ReactComposerStore").getRankerRequestID(d)};var Aa=null,Ba=S&&S.readOnly;if(Ba)Aa={xc_disable_link:Ba};var Ca=null;a("ifRequired")("ReactComposerCivicEngagementStore",function($){Ca=$.getCivicProductSource(d)});return Object.assign(babelHelpers["extends"]({},a("ReactComposerStatusStore").getRichTextBlocks(d),{action_type_id:o,album_id:L,asset3d_id:ha,asked_fun_fact_prompt_id:B,attachment:S,audience:M,backdated_date:G,boosted_post_config:ma,breaking_news_expiration:U,breaking_news_selected:T,charity_id:ka,composer_entry_time:a("ReactComposerSessionMetricsStore").getComposerEntryTime(d),composer_session_id:a("ReactComposerLoggingStore").getSessionID(d),composer_session_duration:sa,composer_source_surface:ua,composer_type:Y&&Y.composerType,composertags_city:I,composertags_issues:k,composertags_place:F&&F.getUniqueID()||I,composertags_place_name:F&&F.getTitle(),composertags_with:g,composertags_sponsors:K.sponsors,civic_product_source:Ca,direct_share_status:K.directShareStatus,sponsor_relationship:K.sponsorRelationship,composertags_product_items:i,content_warnings:W,extensible_sprouts_ranker_request:za,feed_targeted_data:Q,feed_topics:pa,find_players_info:ya,fun_fact_prompt_id:A,group_post_tag_ids:qa,hide_object_attachment:ia,icon_id:r,is_explicit_place:!!F,is_markdown:V,is_post_to_group:na,is_welcome_to_group_post:wa,is_q_and_a:a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,a("ReactComposerAttachmentType").QANDA),is_profile_badge_post:ta,political_district_info:oa,multilingual_statuses:w,multilingual_status_langs:x,multilingual_specified_lang:y,num_keystrokes:a("ReactComposerSessionMetricsStore").getKeystrokeCount(d),num_pastes:a("ReactComposerSessionMetricsStore").getPasteCount(d),object_id:p,object_str:q,place_attachment_setting:ja,poll_question_data:this._getVisualPollAttachmentData(d),privacyx:xa,prompt_id:X?X.promptID:null,prompt_tracking_string:X?X.trackingString:null,publisher_abtest_holdout:R,ref:a("ReactComposerStore").getRef(d),xc_sticker_id:t,event_tag:E&&{event_id:E},tagger_session_id:D&&D.sessionID,target_type:a("ReactComposerStore").getTargetType(d),targeted_privacy_data:la,xhpc_message:a("ReactComposerStatusStore").getMessage(d,va&&!V),xhpc_message_text:a("ReactComposerStatusStore").getMessageText(d),is_forced_reshare_of_post:S&&S.reshare_original_post,xc_disable_config:Aa}),this._getScrapedAttachmentData(S),a("ReactComposerPostUtilsCore").getCoreData(d,c.composerConfig.contextInfo,e))},getMediaUploadsData:function b(c,d){var e=a("ReactComposerPhotoStore").getPhotos(c);d=d.filter(function(f){return f.mediaType===a("ReactComposerMediaUploadType").VIDEO?true:e.some(function(g){return g.id===f.photoID})});return this.getMediaDataWithoutFiltering(c,d)},getMediaDataWithoutFiltering:function b(c,d){var e=d.map(function(j){return j.photoID}).toArray(),f=d&&d.size>0?d.first().holidayCardID:null,g=f!==null?{holiday_card_id:f,source:"promo"}:null,h=a("ReactComposerSlideshowStore").isSlideshowSelected(c),i=null;if(h)i=this._getSlideshowSpec(c);return Object.assign({application:a("PhotosUploadWaterfallApplications").COMPOSER,composer_unpublished_photo:e,qn:a("ReactComposerLoggingStore").getSessionID(c),slideshow_spec:i,waterfallxapp:a("PUWApplications").WEB_REACT_COMPOSER,xy_tags:this._getXYTagData(c),holiday_card:g},this._getCreativeEditingToolsData(d))},_sanitizeDateField:function b(c){return!c||c===-1||c===0?null:c},_getSlideshowSpec:function b(c){var d=a("ReactComposerSlideshowAudioStore").getSelectedStorylineMood(c),e=null;if(d!=null)e=d.moodID;var f=a("ReactComposerSlideshowStore").getDurationInMS(c),g=a("ReactComposerSlideshowStore").getTransitionInMS(c),h=a("ReactComposerSelectedImagesStore").getNumberOfImages(c),i=a("SlideshowUtil").getTotalLengthInSec(f,h),j=a("SlideshowUtil").getDurationParam(h,i,g);return{photo_ids:a("ReactComposerSelectedImagesStore").getPhotoIDs(c),images_crops:a("ReactComposerSelectedImagesStore").getImagesCrops(c),photo_duration:j.durationInMS,photo_transition_duration:j.transitionInMS,storyline_mood_id:e}},_getXYTagData:function b(c){var d=a("ReactComposerPhotoStore").getAllTaggedFaceboxes(c).map(function(f){return{fbid:f.get("photoID"),x:f.get("x"),y:f.get("y"),name:f.get("taggedValue"),subject:f.get("taggedSubjectID"),from_facebox:true,source:f.get("isMagicTag")?"composerx_suggestions":"composerx_flyout"}}),e=a("ReactComposerPhotoStore").getAllXYTags(c).map(function(f){return{fbid:f.get("photoID"),x:f.get("x"),y:f.get("y"),name:f.get("name"),subject:f.get("subject"),from_facebox:f.get("from_facebox"),source:f.get("source")}});return d.concat(e)},_getCreativeEditingToolsData:function b(c){__p&&__p();var d={},e={},f={},g={},h={};c.forEach(function(j){var k=j.get("photoID"),l=a("PhotoEditorSaveStates").getLoggingData(j.get("originalPhotoID"));if(l){d[k]=l.hasFilter?true:null;e[k]=l.hasCrop?true:null;f[k]=l.textOverlays;g[k]=l.stickers;if(l.customAccessibilityCaption)h[k]=l.customAccessibilityCaption}});var i={};i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_HAS_FILTER]=d;i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_HAS_CROP]=e;i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_CUSTOM_ACCESSIBILITY_CAPTION]=h;i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_TEXT_OVERLAY]=f;i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_STICKER]=g;return i},_getScrapedAttachmentData:function b(c){if(!c||!c.params||c.readOnly)return null;return{xc_share_params:JSON.stringify(c.params),xc_share_target_type:c.type,xc_share_images:c.params.images,xc_share_title:c.params.title,xc_share_summary:c.params.summary,xc_link_url:c.params.url}},_getVisualPollAttachmentData:function b(c){__p&&__p();var d=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,a("ReactComposerAttachmentType").VISUAL_POLL),e=null;if(d)a("ifRequired")("ReactComposerQuestionStore",function(f){__p&&__p();var g=f.isRelativeEndTime(c),h=f.getVisualPollEndTimeInMillis(c),i=true,j=0,k=0;if(g)k=h/1e3;else j=h/1e3;var l=f.getVisualPollNumOptions(c),m=f.getVisualPollOptionTexts(c),n=f.getVisualPollOptionGifUrls(c),o=a("ReactComposerMediaUploadStore").getUploads(c),p=this.getMediaUploadsData(c,o).composer_unpublished_photo,q=f.getVisualPollOptionImageIndices(c),r=[],s=0,t=0;for(var u=0;u<l;u++){r.push({});if(u<m.length&&m[u])r[u].text=m[u];else i=false;if(u<n.length&&n[u]){r[u].external_image_url=n[u];s+=1}else if(u<q.length&&q[u]>=0&&q[u]<p.length){r[u].associated_image_id=p[q[u]];t+=1}}var v=s+t===r.length?4:6;if(i)e={text:a("ReactComposerStatusStore").getMessage(c),question_type:v,poll_end_time:j,relative_poll_end_time:k,options:r}}.bind(this));return e},createFormData:function b(c){__p&&__p();var d={};Object.keys(c).forEach(function(g){__p&&__p();if(c[g]!==undefined&&c[g]!==null){var h=c[g]instanceof Object;if(!h)d[g]=c[g];else{var i=!Object.values(c[g]).every(function(j){return j===undefined||j===null});if(i)d[g]=c[g]}}});var e=new FormData(),f=a("flattenPHPQueryData")(d);Object.keys(f).forEach(function(g){e.append(g,f[g])});return e},getGroupMeetupData:function b(c){var d=null;a("ifRequired")("ReactComposerGroupMeetUpStore.react",function(e){d={meet_up_location_page:e.getPageID(c),meet_up_date_string:e.getDateString(c),meet_up_day_time:e.getDayTime(c),meet_up_rough_time:e.getRoughTimeID(c)}});return{meetup_info:d}}};ea.exports=ga}),null);
__d("RedEnvelopeActionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLICK_GLYPH:"click_glyph",CLICK_POST_BUTTON:"click_post_button",CREATE_GIFT:"create_gift",PROCESS_PAY:"process_pay",OPEN:"open",ACCEPT_MONEY_TRANSFER:"accept_money_transfer",CANCEL_SCHEDULED:"cancel_scheduled",START_TO_CANCEL:"start_to_cancel",CANCEL:"cancel",CANCEL_STOPPED:"cancel_stopped",REOPEN:"reopen",CLICK_CREATE_BUTTON:"click_create_button",CLICK_PAY_BUTTON:"click_pay_button",CLICK_CANCEL_BUTTON:"click_cancel_button",ADD_CARD_REDIRECT:"add_card_redirect",ADD_CARD:"add_card",CLICK_ACCEPT:"click_accept",ACCEPT_AFTER_ADD_CARD:"accept_after_add_card",CLICK_SEE_DETAILS:"click_see_details"})}),null);
__d("XComposerXMediaInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/intercept/media/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XComposerXMediaMarkdownInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/markdown_intercept/media/",{xhpc_composerid:{type:"String",required:true},markdown_enabled:{type:"Bool",defaultValue:false},xhpc_message:{type:"String"}})}),null);
__d("XComposerXStatusInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/intercept/status/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XGamesFindPlayersSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/find_players/save/",{})}),null);
__d("XGroupTaskSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/grouptask/save/",{})}),null);
__d("XMarketplaceCreatePostController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/marketplace/create_post/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int",required:true}})}),null);
__d("XPagesComposerCustomCTAPublishAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/react_composer/cta/publish/",{page_id:{type:"FBID",required:true},message:{type:"String"},photo_id:{type:"FBID"},video_id:{type:"FBID"},cta_data:{type:"HackType",required:true},referrer:{type:"String"},schedule_time:{type:"Int"},start_time:{type:"Int"},boosted_post_config:{type:"String"},raw_data:{type:"HackType"},use_premade_video:{type:"Bool",defaultValue:false}})}),null);
__d("XRedEnvelopeCreationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/red_envelope/creation/checkout/",{photo_id:{type:"Int"},message:{type:"String"},amount:{type:"Int"},credential_id:{type:"Int"},target_id:{type:"Int"},tagged_ids:{type:"FBIDVector"},xhpc_composerid:{type:"String"}})}),null);
__d("XRedEnvelopeSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/redenv/save/",{xhpc_targetid:{type:"Int",required:true},xhpc_composerid:{type:"String",required:true},composer_attachment_message:{type:"String"},distribution:{type:"String",required:true},total_amount:{type:"Int",required:true},number_of_envelopes:{type:"Int",required:true}})}),null);
__d("XSalesPromoCreateAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/sales_promo/create/",{availability_location:{type:"Enum",required:true,enumType:1},description:{type:"String",defaultValue:""},destination_uri:{type:"String",defaultValue:""},discount_code:{type:"String",defaultValue:""},expiration_time:{type:"Int",required:true},group_id:{type:"FBID"},owner_id:{type:"FBID",required:true},page_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},referrer:{type:"String"},schedule_time:{type:"Int"},start_time:{type:"Int"},terms_and_conditions:{type:"String",defaultValue:""},use_boost:{type:"Bool",defaultValue:false},video_ids:{type:"FBIDVector"},promotion_value:{type:"Float"}})}),null);
__d("XVideoEditDialogSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/edit/dialog/save/",{v:{type:"Int",required:true}})}),null);
__d("textProbablyWritingMarkdown",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=1e3;function i(j){__p&&__p();if(j.length>h)j=j.slice(0,h);var k=j.match(/^[*+-] /gm);if(k&&k.length>1)return true;var l=j.match(/`/);if(l)return true;var m=j.match(/\$([^ \t\n\$]([^\$]*[^ \t\n\$])?)\$/);if(m)return true;var n=j.match(/__([\s\S]+?)__(?!_)|\*\*([\s\S]+?)\*\*(?!\*)/);if(n)return true;var o=j.match(/(^\s{0,3}#{2,6}[^#])|(^\s*[-=]{5,}\s*$)/m);if(o)return true;var p=j.match(/\]\(|\]\[/);if(p)return true;return false}f.exports=i}),null);
__d("ReactComposerPostUtils",["invariant","ActorURI","Arbiter","ComposerEntryPointRef","ComposerPublisher","DateConsts","HTML","ReactComposerActions","ReactComposerAsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerFileStore","ReactComposerMarkdownActions","ReactComposerMediaUploadStore","ReactComposerPhotoStore","ReactComposerPostDataUtils","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadStore","ReactComposerWorkFileStore","RedEnvelopeActionType","RedEnvelopeActionTypedLogger","URI","VideoEditSource","XComposerXMediaInterceptController","XComposerXMediaMarkdownInterceptController","XComposerXStatusInterceptController","XPagesComposerCustomCTAPublishAsyncController","XGamesFindPlayersSaveController","XGroupTaskSaveController","XMarketplaceCreatePostController","XRedEnvelopeCreationController","XRedEnvelopeSaveController","XSalesPromoCreateAsyncController","XVideoEditDialogSaveController","formatDate","ifRequired","textProbablyWritingMarkdown"],(function aa(ba,a,ca,da,ea,fa,b){__p&&__p();var c=a("ReactComposerWorkFileStore").module,d=!!c,e=c||a("ReactComposerFileStore"),ga={publish:function f(g,h){__p&&__p();a("ReactComposerActions").publishStarted(g);h=h||{};h.composer_id=g;if(h.streamNode)h.streamStory=h.streamNode;else if(h.streamMarkup)h.streamStory=a("HTML")(h.streamMarkup).getRootNode();if(h.contentID)h.matchData={content_id:h.contentID};a("Arbiter").inform("composer/publish",h)},isPostButtonDisabled:function f(g,h){var i=a("ReactComposerPhotoStore").isLimitExceeded(g,h),j=a("ReactComposerMediaUploadStore").isUploading(g),k=a("ReactComposerPhotoStore").isRecognizing(g),l=!!a("ReactComposerVideoUploadStore").getVideo(g)&&a("ReactComposerStore").isPosting(g),m=a("ReactComposerPhotoStore").isSphericalPhotoUpdating(g);return i||j||k||l||m},_getIsOnMediaAttachment:function f(g){var h=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(g,a("ReactComposerAttachmentType").MEDIA),i=a("ReactComposerAttachmentStore").getIsAttachmentSelected(g,a("ReactComposerAttachmentType").AUDIENCE_SELECTOR);return h||i},_setupGenericDataFromStore:function f(g,h){a("ifRequired")("ReactComposerStatusDonateButtonStore",function(i){if(i.getEnabled(h))Object.assign(g,{cta_data:{type:"DONATE",value:{fundraiser_campaign_id:i.getFundraiserCampaignID(h),link_title:i.getTitle(h),link_description:i.getDescription(h)}}})});a("ifRequired")("ReactComposerCTAStore",function(i){var j=i.getCTAData(h);if(j&&j.type==="MESSAGE_PAGE")Object.assign(g,{cta_data:j})})},_setupDataForPlaceListAttachment:function f(g,h){var i=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(h,a("ReactComposerAttachmentType").PLACE_LIST);if(i)a("ifRequired")("ReactComposerPlaceListStore.react",function(j){Object.assign(g,{is_placelist_post:true,placelist_within_page:j.getPageID(h),should_redirect_place_list_on_create:j.getShouldRedirectOnCreate(h)});if(j.getGroupID(h))Object.assign(g,{target_id:j.getGroupID(h),xhpc_targetid:j.getGroupID(h)})})},_setupDataForFormattedText:function f(g,h){a("ifRequired")("ReactComposerFormattedTextStore",function(i){var j=i.getTextFormatPresetID(h);if(j)Object.assign(g,{text_format_preset_id:j})});a("ifRequired")("ReactComposerPromptsStore",function(i){var j=i.getMemeCategoryID(h);if(j)Object.assign(g,{meme_category_id:j})})},_setupDataForCTAAttachment:function f(g,h,i){if(g)a("ifRequired")("ReactComposerCTAStore",function(j){Object.assign(h,{cta_data:j.getCTAData(i)})})},_setupDataForOnSaleAttachment:function f(g,h,i){if(g){a("ifRequired")("ReactComposerSellStore",function(j){Object.assign(h,{composer_attachment_sell_title:j.getTitleText(i),composer_attachment_sell_price:j.getPrice(i),composer_attachment_sell_price_type:j.getPriceType(i),composer_attachment_sell_currency:j.getCurrency(i),composer_attachment_sell_quantity:j.getQuantity(i),composer_attachment_sell_condition:j.getConditionID(i),composer_attachment_sell_category:j.getCategoryID(i),composer_attachment_sell_location_page_id:j.getLocationID(i),composer_attachment_sell_pickup_note:j.getPickupNoteText(i),post_to_marketplace:j.isNearbyLocationChecked(i),cross_post_checked:j.isCrossPostChecked(i),composer_attachment_sell_audience_target_ids:Array.from(j.getAudienceTargetIDs(i)).join(",")})});a("ifRequired")("ReactComposerAutosSellStore.react",function(j){Object.assign(h,{composer_attachment_sell_serialized_verticals_data:j.getSerializedVerticalData(i)})})}},_setupDataForGroupMeetupAttachment:function f(g,h){var i=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(h,a("ReactComposerAttachmentType").GROUP_MEET_UP);if(i)Object.assign(g,a("ReactComposerPostDataUtils").getGroupMeetupData(h))},_setupDataForPageRecommendationAttachment:function f(g,h){var i=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(h,a("ReactComposerAttachmentType").PAGE_RECOMMENDATION);if(i)a("ifRequired")("ReactComposerPageRecommendationStore.react",function(j){Object.assign(g,{page_recommendation_ids:[j.getPageID(h)]})})},_setupDataForPremadePost:function f(g,h){var i=g.composerConfig.pagePremadePostData;if(i)Object.assign(h,{page_premade_post:i})},_setupDataForGIFAttachment:function f(g,h){if(g)Object.assign(h,{animated_image:g})},_setupDataForGroupLearningCourseAttachment:function f(g,h,i){if(g)a("ifRequired")("ReactComposerGroupLearningCourseStore",function(j){Object.assign(h,{xhpc_composerid:i,xhpc_targetid:j.getGroupID(i),target_id:j.getGroupID(i),xhpc_learning_course:true,module_name:j.getModuleName(i),xhpc_unit_id:j.getUnitID(i)})})},_setupDataForLearningCourse:function f(g,h,i){var j=a("ReactComposerAttachmentStore").getAttachment(i,a("ReactComposerAttachmentType").LEARNING_COURSE);if(g&&j){var k=new(a("URI"))(window.location.href).getQueryData().filter,l=e.getSelectedFileName(i);if(k)Object.assign(h,{xhpc_unit_id:k,xhpc_learning_course:true,module_name:l?l:"New file"})}},_postForRedEnvelope:function f(g){__p&&__p();var h=a("ReactComposerPostDataUtils").getPostData(g),i=g.composerID;a("ifRequired")("ReactComposerRedEnvelopeStore",function(l){Object.assign(h,{composer_attachment_message:a("ReactComposerStatusStore").getMessageText(i),message:a("ReactComposerStatusStore").getMessage(i),type:l.getType(i),theme:l.getTheme(i),total_amount:l.getTotalAmount(i),credential_id:l.getCredentialId(i),distribution:l.getDistribution(i),number_of_envelopes:l.getNumberOfEnvelopes(i)})});if(h.type==="v1")return a("XRedEnvelopeSaveController").getURIBuilder().setString("composer_attachment_message",h.composer_attachment_message).setString("distribution",h.distribution).setInt("total_amount",h.total_amount*100).setInt("number_of_envelopes",h.number_of_envelopes).setInt("xhpc_targetid",g.targetID).setString("xhpc_composerid",g.composerID).getURI();else{new(a("RedEnvelopeActionTypedLogger"))().setAction(a("RedEnvelopeActionType").CLICK_POST_BUTTON).log();var j=a("ReactComposerTaggerStore").getTaggerData(i,a("ReactComposerTaggerType").PEOPLE),k=j.map(function(l){return l.getUniqueID()});return a("XRedEnvelopeCreationController").getURIBuilder().setString("message",h.composer_attachment_message).setInt("amount",h.total_amount*100).setInt("credential_id",h.credential_id).setInt("photo_id",h.theme).setInt("target_id",g.targetID).setFBIDVector("tagged_ids",k).setString("xhpc_composerid",g.composerID).getURI()}},post:function f(g){__p&&__p();var h,i,j;!!g.actorID||b(0);!!g.composerConfig||b(0);!!g.composerConfig.contextInfo||b(0);!!g.composerID||b(0);!!g.targetID||b(0);var k=g.actorID,l=g.composerID,m=false,n=false,o=this._getIsOnMediaAttachment(l),ha=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").QANDA),p=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").FILE),q=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").QUESTION),ia=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").RED_ENVELOPE),r=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").SELL)||a("ifRequired")("ReactComposerSellStore",function(N){return N.getInterceptSell(l)},function(){return false}),s=false;a("ifRequired")("ReactComposerCTAAttachmentUtils",function(N){s=N.isCTAAttachmentSelected(l)});var t=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").TASK),ja=a("ReactComposerSlideshowStore").isSlideshowSelected(l),ka=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").PROFILE_PIC_FRAME),u=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").QA),la=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").FIND_PLAYERS),v=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").LEARNING_COURSE),ma=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").TOPIC_DISCUSSION),na=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").MEDIA_EFFECT_SHARE),oa=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").SALES_PROMO),pa=g.composerConfig.attachmentsConfig||{},w=pa[a("ReactComposerAttachmentType").STATUS]||{},qa=a("ifRequired")("ReactComposerSellStore",function(N){return N.showURLIntercept(l)},function(){return false}),x=w.attemptIntercept&&w.sellIntercept&&!r&&!qa,y=a("ReactComposerPostDataUtils").getPostData(g);this._setupGenericDataFromStore(y,l);var z=a("ReactComposerVideoUploadStore").getVideo(l);if(o&&!!z){var A=a("ReactComposerVideoUploadStore").getUploader(l);A&&A.uploadFromFile(z.file,y);return}var ra=d?e.hasFile(l):e.isFileSelected(l),sa=a("ReactComposerTaggerStore").getTaggerData(l,a("ReactComposerTaggerType").GIF).gifData,B=void 0,C=a("ReactComposerMediaUploadStore").getUploads(l);this._setupDataForFormattedText(y,l);this._setupDataForOnSaleAttachment(r,y,l);this._setupDataForCTAAttachment(s,y,l);this._setupDataForPlaceListAttachment(y,l);this._setupDataForGroupMeetupAttachment(y,l);this._setupDataForPageRecommendationAttachment(y,l);this._setupDataForPremadePost(g,y);this._setupDataForGIFAttachment(sa,y);this._setupDataForLearningCourse(p,y,l);this._setupDataForGroupLearningCourseAttachment(v,y,l);var ta=C.size>0,ua=o||ha||r||v||t,D=ja||ua&&ta,va=a("ifRequired")("PagesComposerBoostedPostsStore",function(N){return N.getConfig(l)},function(){return null});if(w.attemptMarkdownIntercept&&g.composerConfig.attachmentsConfig&&g.composerConfig.attachmentsConfig[a("ReactComposerAttachmentType").STATUS])g.composerConfig.attachmentsConfig[a("ReactComposerAttachmentType").STATUS].defaultMarkdownOn=y.is_markdown;var wa=y.blocks,E=w.attemptMarkdownIntercept&&!r&&!wa&&!y.is_markdown;a("ifRequired")("ReactComposerMarkdownStore",function(N){E=E&&!N.interceptAttempted(l)});if(!D&&E&&a("textProbablyWritingMarkdown")(a("ReactComposerStatusStore").getMessageText(l))){setTimeout(function(){return a("ReactComposerActions").postFinally(l,null)},0);a("ReactComposerMarkdownActions").showIntercept(l);return}var xa=a("ifRequired")("ReactComposerSellStore",function(N){return N.getPostDirectlyToMarketplace(l)},function(){return false}),F=null;if(q||u){var ya=a("ReactComposerStore").getRef(l);switch(ya){case a("ComposerEntryPointRef").GROUP:F="group";break;case a("ComposerEntryPointRef").EVENT:case a("ComposerEntryPointRef").EVENT_ABOUT:F="event";break;case a("ComposerEntryPointRef").PAGES_FEED:F="composer";break;default:F=ya}}var G=a("ifRequired")("PagesComposerUnpublishedPostsStore",function(N){return N.getScheduledPublishTime(g.composerID)},function(){return null});G=G?Math.round(G.getTime()/1e3):null;var H=void 0;if(t){B=a("XGroupTaskSaveController").getURIBuilder().getURI();a("ifRequired")("ReactComposerTaskStore",function(N){Object.assign(y,N.getTaskData(l));a("ifRequired")("GroupTaskLoggedAction",function(O){Object.assign(y,{action_to_be_logged:O.CREATE_TASK})})})}else if(D){H=a("ReactComposerPostDataUtils").getMediaUploadsData(l,C);Object.assign(y,H);if(x)B=a("XComposerXMediaInterceptController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setInt("xhpc_targetid",g.targetID).getURI();else if(E)B=a("XComposerXMediaMarkdownInterceptController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setBool("markdown_enabled",y.is_markdown).getURI();else if(xa)B=a("XMarketplaceCreatePostController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setInt("xhpc_targetid",g.targetID).getURI();else{n=a("ComposerPublisher").getShouldUseGraphQLForMedia(k,y,g.composerID);B=new(a("URI"))("/media/upload/photos/composer/")}}else if(p&&ra){var za=d||typeof e.getDropboxFileID!=="function"?null:e.getDropboxFileID(l);B=new(a("URI"))(e.getURI(l));Object.assign(y,{transaction_id:za})}else if(q){B=new(a("URI"))("/ajax/questions/save.php");a("ifRequired")("ReactComposerQuestionStore",function(N){var O=N.getOptionStrings(l),P=N.getOptionImageIndices(l);Object.assign(y,{composerAttachmentQuestion:a("ReactComposerStatusStore").getMessage(l),question_options:O,question_option_image_indices:P,source:F,create_eigenpoll:N.canChooseMultiplePollOptions(l),anyone_add_options:N.canAnyoneAddPollOptions(l)})});Object.assign(y,a("ReactComposerPostDataUtils").getMediaUploadsData(l,C))}else if(s&&y.attachment.params.allowMultiMedia)B=a("XPagesComposerCustomCTAPublishAsyncController").getURIBuilder().setString("message",y.xhpc_message_text).setHackType("cta_data",y.cta_data).setFBID("video_id",y.attachment.params.videoID).setFBID("photo_id",y.attachment.params.photoID).setFBID("page_id",g.targetID).setString("boosted_post_config",va).setHackType("raw_data",y).setInt("schedule_time",G).setBool("use_premade_video",y.attachment.params.usingPremadePostVideo).getURI();else if(ia)B=this._postForRedEnvelope(g);else if(r)B=new(a("URI"))("/ajax/groups/sell/save.php");else if(ka){var Aa=void 0,I=void 0;a("ifRequired")("ReactComposerProfilePictureFrameStore",function(N){Aa=N.getSelectedOverlayID(l);I=N.getScheduledPostDate(l);H=a("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(l,N.getCroppedPhotoForUpload(l))});var Ba=void 0,Ca=void 0,Da=void 0,Ea=false;if(I){Ba=a("formatDate")(I,"m/d/Y",{skipPatternLocalization:true});var Fa=I.getHours()*a("DateConsts").MIN_PER_HOUR+I.getMinutes();Ca=a("DateConsts").SEC_PER_MIN*Fa;Da=I.getTime()/1e3;Ea=true}B=new(a("URI"))("/media/upload/photos/composer/");Object.assign(y,babelHelpers["extends"]({},H,{scheduled:Ea,sticker_id:Aa,future_date:Ba,future_time:Ca,scheduled_publish_time:Da}))}else if(ma)a("ifRequired")("ReactComposerGroupTopicDiscussionStore",function(N){B=new(a("URI"))("/group_topic_discussion/save/");Object.assign(y,{composer_topic_title:N.getTitle(l),composer_topic_description:N.getDescription(l)})});else if(u){a("ifRequired")("ReactComposerGroupQAStore",function(N){B=new(a("URI"))("/group_qa/save/");Object.assign(y,{composer_question_title:N.getTitle(l),composer_question_description:N.getDescription(l),source:F})});Object.assign(y,a("ReactComposerPostDataUtils").getMediaUploadsData(l,C))}else if(oa){a("ifRequired")("ReactComposerSalesPromoStore",function(N){Object.assign(y,{availability_location:N.getAvailabilityLocation(l),description:N.getDescription(l),destination_uri:N.getDestinationURI(l),discount_code:N.getDiscountCode(l),expiration_time:N.getExpirationTime(l),photo_ids:a("ReactComposerPostDataUtils").getMediaUploadsData(l,C).composer_unpublished_photo,terms_and_conditions:N.getTermsAndConditions(l)})});B=a("XSalesPromoCreateAsyncController").getURIBuilder().setEnum("availability_location",y.availability_location).setString("description",y.description).setString("destination_uri",y.destination_uri).setString("discount_code",y.discount_code).setInt("expiration_time",y.expiration_time).setFBID("group_id",g.targetID).setFBID("owner_id",k).setFBIDVector("photo_ids",y.photo_ids).setString("referrer","www_group_composer").setString("terms_and_conditions",y.terms_and_conditions).getURI();Object.assign(y,a("ReactComposerPostDataUtils").getMediaUploadsData(l,C))}else if(la)a("ifRequired")("ReactComposerFindPlayersStore",function(N){B=new(a("URI"))(a("XGamesFindPlayersSaveController").getURIBuilder().getURI());Object.assign(y,{composer_find_players_title:N.getTitle(l),composer_find_players_tags:N.getTags(l),composer_find_players_name:N.getName(l),composer_find_players_description:a("ReactComposerStatusStore").getMessage(l),photo_ids:a("ReactComposerPostDataUtils").getMediaUploadsData(l,C).composer_unpublished_photo})});else if(na)(function(){__p&&__p();var N=void 0,O=true;a("ifRequired")("ReactComposerMediaEffectShareStore",function(P){__p&&__p();H=a("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(l,P.getEffectPhotoForUpload(l));var Q=P.getComposerData(l).effectStatus;N=P.getEffectToApply(l);if(Q==="active")O=false;var R=P.getUploadedVideoID(l);if(R){Object.assign(y,{draft:O});P.postVideo(l,y);return}});B=new(a("URI"))("/media/upload/photos/composer/");Object.assign(y,babelHelpers["extends"]({},H,{scheduled:false,sticker_id:N,draft:O}))})();else if(y.attachment&&y.attachment.params.canvas_video)(function(){B=a("XVideoEditDialogSaveController").getURIBuilder().setInt("v",y.attachment.params.canvas_video.video_id).getURI();var N=G===null&&!y.draft;Object.assign(y,y.attachment.params.canvas_video);Object.assign(y,{description:y.xhpc_message,is_canvas_video:true,publish:N,scheduled_publish_time:G,source:a("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var O={content_id:y.attachment.params.canvas_video.video_id,event:"publish",is_old_composer:false,scraped_url:y.attachment.params.url,target_id:g.targetID};a("ifRequired")("PagesComposerActionsLogger",function(P){P.log(O)})})();else if(y.attachment&&y.attachment.params.carousel_video_lpp)(function(){B=a("XVideoEditDialogSaveController").getURIBuilder().setInt("v",y.attachment.params.carousel_video_lpp.video_id).getURI();var N=G===null&&!y.draft;Object.assign(y,y.attachment.params.carousel_video_lpp);Object.assign(y,{description:y.xhpc_message,scheduled_publish_time:G,publish:N,source:a("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var O={child_attachments:y.attachment.params.child_attachments,event:"publish",target_id:g.targetID,content_id:y.attachment.params.carousel_video_lpp.video_id,is_old_composer:false,scraped_url:y.attachment.params.url};a("ifRequired")("PagesComposerActionsLogger",function(P){P.log(O)})})();else if(x)B=a("XComposerXStatusInterceptController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setInt("xhpc_targetid",g.targetID).getURI();else{m=a("ComposerPublisher").getShouldUseGraphQLForStatus(k,y);B=new(a("URI"))("/ajax/updatestatus.php")}var Ga=B,J=false;a("ifRequired")("ReactComposerVideoXEditDialogStore",function(N){__p&&__p();var O;J=N.hasSelectedCustomThumbnails(g.composerID);if(J)(function(){__p&&__p();var P=C.map(function($){return $.id}),Q=N.getThumbnailTypes(P.toArray(),g.composerID),R={};C.forEach(function($){return R[$.id]=$.photoID});var Ia={};for(var S=Q,Ja=Array.isArray(S),T=0,S=Ja?S:S[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var U;if(Ja){if(T>=S.length)break;U=S[T++]}else{T=S.next();if(T.done)break;U=T.value}var Ka=U,La=Ka[0],Ma=Ka[1];Ia[R[La]]=Ma}Object.assign(y,{thumb_types:Ia});var Na=N.getUploadsWithTextOnThumbnail(P.toArray(),g.composerID),V=[];for(var W=Na,Oa=Array.isArray(W),X=0,W=Oa?W:W[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var Y;if(Oa){if(X>=W.length)break;Y=W[X++]}else{X=W.next();if(X.done)break;Y=X.value}var Pa=Y;V=V.concat(R[Pa])}Object.assign(y,{videos_with_text_thumbnails:V});var Z=a("ReactComposerPostDataUtils").createFormData(y);N.getThumbnails(P.toArray(),g.composerID).then(function($){$.forEach(function(Qa){Z.append("thumb"+R[Qa[0]],Qa[1])});if(p&&e.hasFile(l)){var M=e.getFile(l);Z.append("file1",M)}var K=a("ActorURI").create(B,k),L=new(a("ReactComposerAsyncRequest"))(g.composerID,K).setRawData(Z).setHandler(g.onPostSuccess).setErrorHandler(g.onPostFailure);L.send()}).done()})()});B===Ga||b(0);if(m||n){a("ComposerPublisher").publish(g,y);return}if(!J){var K=a("ActorURI").create(B,k),L=new(a("ReactComposerAsyncRequest"))(g.composerID,K).setData(y).setHandler(g.onPostSuccess).setErrorHandler(g.onPostFailure);if(p&&e.hasFile(l)){var M=e.getFile(l),Ha=new FormData();Ha.append("file1",M);L.setRawData(Ha)}L.send()}}};ea.exports=ga}),null);
__d("ReactComposerMediaPostButtonContainerMixin",["React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerConstants","ReactComposerContextTypes","ReactComposerInit","ReactComposerMediaAttachmentPostButton.react","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingActions","ReactComposerPhotoStore","ReactComposerPostUtils","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStore","ReactComposerVideoUploadStore","ReloadPage","$"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i={contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerMediaUploadStore"),c("ReactComposerPhotoStore"),c("ReactComposerStore"),c("ReactComposerVideoUploadStore")),c("ReactComponentWithPureRenderMixin")],propTypes:{config:c("ReactComposerConfig").isRequired,onClickPreprocess:h.func,label:h.string,forceDisabled:h.bool,useDefaultScheduleComponent:h.bool},statics:{calculateState:function j(k,l,m){var n=l.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],o=c("ReactComposerPhotoStore").isLimitExceeded(k,n.photoLimit),p=m.gks[c("ReactComposerConstants").GK_VIDEO_COPYRIGHT]&&!!c("ReactComposerVideoUploadStore").getVideo(k),q=c("ReactComposerVideoUploadStore").getVideo(k)&&c("ReactComposerStore").isPosting(k),r=c("ReactComposerPhotoStore").isSphericalPhotoUpdating(k),s=c("ReactComposerMediaUploadStore").isUploading(k)||c("ReactComposerPhotoStore").isRecognizing(k)||r||q,t=m.gks.optimisticPosting?o:c("ReactComposerPostUtils").isPostButtonDisabled(k,n.photoLimit);return{limitExceeded:o,isUploading:s,disabled:l.forceDisabled||t,showCopyrightDialogOnPost:p}}},render:function j(){var k=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA].photoLimit;return c("React").createElement(c("ReactComposerMediaAttachmentPostButton.react"),{disabled:this.state.disabled,limitExceeded:this.state.limitExceeded,onClick:this._onClick,photoLimit:k,showCopyrightDialogOnPost:this.state.showCopyrightDialogOnPost,config:this.props.config,label:this.props.label,useDefaultScheduleComponent:this.props.useDefaultScheduleComponent})},_onClick:function j(){if(this.props.onClickPreprocess)if(!this.props.onClickPreprocess())return;if(this.context.gks.optimisticPosting)if(this.state.isUploading)c("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,this.props.config,c("ReactComposerAttachmentType").MEDIA,this.context.actorID,this.context.targetID);else this._startPost();else this._startPost()},_startPost:function j(){c("ReactComposerActions").postStarted(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});if(this.props.config.dialogComposer){c("ReactComposerInit").unmountInstance(this.context.composerID);c("$")(this.props.config.dialogElementID).remove();c("ReloadPage").now()}}};f.exports=i}),null);
__d("XReactComposerMLEAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/mle/bootstrap/",{composer_id:{type:"String",required:true}})}),null);
__d("ReactComposerMLELazyAttachment.react",["cx","Bootloader","React","ReactComposerAttachmentType","ReactComposerLoadableAttachmentBodyMixin","XReactComposerMLEAttachmentBootstrapController"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"ReactComposerMLELazyAttachment",mixins:[c("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:c("ReactComposerAttachmentType").MLE},bootload:function j(k){c("Bootloader").loadModules(["ReactComposerMLEAttachmentContainer.react"],k,"ReactComposerMLELazyAttachment.react")},getBootstrapURI:function j(){return c("XReactComposerMLEAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).getURI()}});f.exports=i}),null);
__d("XReactComposerRedEnvelopeV2AttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/redenv/v2/bootstrap/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"Int",required:true}})}),null);
__d("ReactComposerRedEnvelopeV2LazyAttachment.react",["ReactComposerAttachmentType","ReactComposerLoadableAttachmentBodyMixin","ActorURI","Bootloader","React","XReactComposerRedEnvelopeV2AttachmentBootstrapController"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerRedEnvelopeV2LazyAttachment",mixins:[c("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:c("ReactComposerAttachmentType").RED_ENVELOPE},bootload:function i(j){c("Bootloader").loadModules(["ReactComposerRedEnvelopeV2AttachmentContainer.react"],j,"ReactComposerRedEnvelopeV2LazyAttachment.react")},getBootstrapURI:function i(){var j=c("XReactComposerRedEnvelopeV2AttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setInt("target_id",this.context.targetID).getURI();return c("ActorURI").create(j,this.context.actorID)}});f.exports=h}),null);
__d("ReactComposerAttachmentPreviewContainer.react",["csx","cx","fbt","Arbiter","DOM","Event","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentPreview.react","ReactComposerConstants","ReactComposerContextTypes","ReactComposerEvents","ReactComposerEventAttachmentStore","ReactComposerLocationAttachmentActions","ReactComposerLocationAttachmentStore","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerMinutiaeAttachmentStore","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTaggerActions","ReactComposerWorkFileStore","ReactDOM","XUICloseButton.react","ifRequired"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=c("ReactComposerWorkFileStore").module,l=c("React").PropTypes,m=[c("ReactComposerEventAttachmentStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerMinutiaeAttachmentStore"),c("ReactComposerLocationAttachmentStore"),c("ReactComposerTaggerStore")];if(k)m.push(k);var n=c("React").createClass({displayName:"ReactComposerAttachmentPreviewContainer",_buttonEvent:undefined,_prefillSubscription:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin").apply(undefined,m)],propTypes:{markup:l.instanceOf(HTMLElement),spinner:l.element,isAttachmentBreaking:l.bool},statics:{calculateState:function o(p,q){__p&&__p();var r,s=c("ReactComposerScrapedAttachmentStore").getMarkup(p),t=c("ReactComposerScrapedAttachmentStore").isReadOnly(p),u=c("ReactComposerMinutiaeAttachmentStore").getMarkup(p),v=c("ReactComposerLocationAttachmentStore").getMarkup(p),w=c("ReactComposerEventAttachmentStore").getMarkup(p),x=c("ReactComposerScrapedAttachmentStore").isScraping(p)||c("ReactComposerMinutiaeAttachmentStore").isFetching(p)||c("ReactComposerLocationAttachmentStore").isFetching(p)||c("ReactComposerEventAttachmentStore").isFetching(p),y=null;if(k)(function(){var C=c("ReactComposerScrapedAttachmentStore").getPermissiveMatch(p),D=k.getSelectedAppsFiles(p).find(function(E){return E.url===C});y=D?D.name:null})();var z=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").FUN_FACT),A=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").FUNDRAISER);if(z||A){u=null;v=null;w=null;x=c("ReactComposerScrapedAttachmentStore").isScraping(p)}var B=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").BREAKING_NEWS);return{isAttachmentBreaking:B,markup:s||u||w||v,showSpinner:x,showRemoveButton:s&&t,title:y}}},componentDidMount:function o(){this._prefillSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this._cleanupButtonEvent();this._setButtonEvent()},componentDidUpdate:function o(){this._setButtonEvent()},componentWillUnmount:function o(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._cleanupButtonEvent()},render:function o(){this._maybeRemoveBreakingFromPreview();this._maybeAddBreakingToPreview();var p=this.state.markup&&!this.state.showSpinner?c("React").createElement("div",{className:"_2ane"},c("React").createElement(c("ReactComposerAttachmentPreview.react"),{isAttachmentBreaking:this.state.isAttachmentBreaking,ref:"attachment",markup:this.state.markup}),this._renderRemoveButton()):null;return c("React").createElement("div",{"data-testid":"attachment-preview"},this._renderSpinner(),p)},_handlePrefill:function o(){__p&&__p();var p=c("ReactComposerPrefillStore").getAndEraseField(this.context.composerID,"attachmentPreviewData");if(p)if(p.scrapedAttachment){if(p.scrapedAttachment.markup)c("ReactComposerScrapedAttachmentActions").setScrapedAttachmentWithoutLogging(this.context.composerID,p.scrapedAttachment.markup,p.scrapedAttachment.attachmentConfig);else if(p.minutiaeAttachment.markup)c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,p.minutiaeAttachment.markup)}else if(p.scrapedURL)c("ReactComposerScrapedAttachmentActions").scrapeAttachment(this.context.composerID,this.context.targetID,p.scrapedURL,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").INLINE_COMPOSER)},_renderRemoveButton:function o(){if(!this.state.markup||!this.state.showRemoveButton)return null;return c("React").createElement("div",{className:"_2anf"},c("React").createElement(c("XUICloseButton.react"),{className:"_2anh",size:"medium",shade:"light",onClick:this._clearAttachment}))},_renderSpinner:function o(){if(!this.state.showSpinner)return null;var p=this.state.title?c("React").createElement("span",{className:"_239x"},this.state.title):null;return c("React").createElement("div",{className:"_239z"},this.props.spinner,c("React").createElement("div",{className:"_3-8y"},p,j._("Fetching preview")))},_setButtonEvent:function o(){__p&&__p();if(this.refs.attachment){var p=c("DOM").scry(c("ReactDOM").findDOMNode(this.refs.attachment),"._9s")[0];if(p)this._buttonEvent=c("Event").listen(p,"click",function(event){event.preventDefault();this._clearAttachment();this._buttonEvent&&this._buttonEvent.remove();this._buttonEvent=null}.bind(this));c("Arbiter").inform("react_composer_dom_ready/"+this.context.composerID)}},_clearAttachment:function o(){c("ReactComposerScrapedAttachmentActions").setScrapedAttachment(this.context.composerID,null,{},c("ReactComposerLoggingName").LINK_REMOVE_BUTTON);c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,null);c("ReactComposerLocationAttachmentActions").setMarkup(this.context.composerID,null);c("ifRequired")("ReactComposerEventAttachmentActions",function(p){return p.setMarkup(this.context.composerID,null,null)}.bind(this));c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").LINK_REMOVE_BUTTON,c("ReactComposerTaggerType").GIF,{gifData:null});c("ReactComposerMinutiaeAttachmentActions").setHideAttachment(this.context.composerID,true)},_cleanupButtonEvent:function o(){this._buttonEvent&&this._buttonEvent.remove()},_maybeAddBreakingToPreview:function o(){__p&&__p();if(!this.state.markup||!this.context.gks[c("ReactComposerConstants").GK_PAGE_BREAKING_COMPOSER])return;var p=this.getHTMLRootNode();if(p===null)return;var q=c("ifRequired")("LitestandShareAttachment",function(t){return t.getContentNode(p)},function(){return null}),r=c("ifRequired")("LitestandShareAttachment",function(t){return t.getDetailsFooterBrandName(p)},function(){return null});if(this.state.isAttachmentBreaking){var s=document.createElement("img");s.setAttribute("class","_649n");s.setAttribute("src","/images/icons/breaking_now-2x.png");if(q&&r){q.classList.add("_649o");r.classList.add("_649p");r.insertBefore(s,r.firstChild)}}},_maybeRemoveBreakingFromPreview:function o(){__p&&__p();if(!this.state.markup)return;var p=this.getHTMLRootNode();if(p===null)return;var q=c("ifRequired")("LitestandShareAttachment",function(s){return s.getDetailsFooterBrandName(p)},function(){return null}),r=c("ifRequired")("LitestandShareAttachment",function(s){return s.getBreakingNewsIcon(p)},function(){return null});if(q&&q.hasChildNodes&&q.hasChildNodes()&&r)q.removeChild(r)},getHTMLRootNode:function o(){if(!this.state.markup)return null;var p=null;if(typeof this.state.markup.getRootNode==="function")p=this.state.markup.getRootNode();return p}});f.exports=n}),null);
__d("ReactComposerSessionMetricsActions",["ReactComposerDispatcher","ReactComposerSessionMetricsActionTypes","ReactComposerSessionMetricsStore"],(function a(b,c,d,e,f,g){c("ReactComposerSessionMetricsStore");var h={keystroke:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSessionMetricsActionTypes").KEYSTROKE})},paste:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSessionMetricsActionTypes").PASTE})}};f.exports=h}),null);
__d("ReactComposerPromptsActions",["ReactComposerDispatcher","ReactComposerPromptsActionTypes","ReactComposerPromptsStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerPromptsStore");h.prototype.setMinutiaeData=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerPromptsActionTypes").SET_MINUTIAE_DATA,minutiaeData:j})};h.prototype.setPromptData=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerPromptsActionTypes").SET_PROMPT_DATA,promptData:j})};h.prototype.setPromptXHP=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerPromptsActionTypes").SET_PROMPT_XHP,promptXHP:j})};h.prototype.setMemeCategoryID=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerPromptsActionTypes").SET_MEME_CATEGORY_ID,memeCategoryID:j})};function h(){"use strict"}f.exports=new h()}),null);
__d("PromptsInteractionsEventNames",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OPEN_SELECTING_CONTENT:"open_selecting_content",OPEN_SUGGESTING_CONTENT:"open_suggesting_content",TAP_SECONDARY_BUTTON:"tap_secondary_button",CLOSE_SUGGESTION:"close_suggestion",SELECT_SUGGESTION:"select_suggestion",CANCEL_COMPOSER:"cancel_composer",POST_PROMPT:"post_prompt",POST_WITHOUT_PROMPT:"post_without_prompt",POST_CREATED:"post_created",IMPRESSION:"impression",CLIENT_RANKER_IMPRESSION:"client_ranker_impression",SHOW_SUGGESTION:"show_suggestion",HIDE_SUGGESTION:"hide_suggestion",PROMPT_AVAILABLE:"prompt_available",PROMPT_NOT_CONSIDERED:"prompt_not_considered",DEIMPRESSION:"deimpression",CLICK_TAGGER:"og-tagger-click",UNDO_DISMISS:"undo_dismiss",SHARE:"share",CAMERA_CAPTURE:"camera_capture",CAMERA_FLIP:"camera_flip",SAVE_TO_CAMERA_ROLL:"save_to_camera_roll",TAP_FLASH_BUTTON:"tap_flash_button",SCREENSHOT:"screenshot",CLOSE_BUTTON:"close_button",BACK_TO_CAMERA_BUTTON:"back_to_camera_button",BACK_BUTTON:"back_button",PREVIEW_CONFIRM:"preview_confirm",GALLERY_SELECT:"gallery_select",IMPRESSION_END:"impression_end",EFFECT_APPLIED:"effect_applied",THUMBNAIL_IMPRESSION:"thumbnail_impression",NUX_SHOWN:"nux_shown",NUX_DIALOG_BUTTON_CLICKED_ALLOW:"nux_dialog_button_clicked_allow",NUX_DIALOG_BUTTON_CLICKED_DENY:"nux_dialog_button_clicked_deny",NUX_BUTTON_CLICKED:"nux_button_clicked",PERMISSION_ACCEPTED:"permission_accepted",PERMISSION_DENIED:"permission_denied",NUX_VIDEO_DOWNLOAD:"nux_video_download",NUX_BACK_TO_TOP:"nux_back_to_top",CAMERA_OFF:"camera_off",START_INSPIRATION_SESSION:"start_inspiration_session",END_INSPIRATION_SESSION:"end_inspiration_session",START_NUX_SESSION:"start_nux_session",END_NUX_SESSION:"end_nux_session",START_CAMERA_SESSION:"start_camera_session",END_CAMERA_SESSION:"end_camera_session",START_EDITING_SESSION:"start_editing_session",END_EDITING_SESSION:"end_editing_session",START_SHARE_SHEET_SESSION:"start_share_sheet_session",END_SHARE_SHEET_SESSION:"end_share_sheet_session",START_EFFECTS_TRAY_SESSION:"start_effects_tray_session",END_EFFECTS_TRAY_SESSION:"end_effects_tray_session",START_GALLERY_SESSION:"start_gallery_session",END_GALLERY_SESSION:"end_gallery_session",START_DOODLE_SESSION:"start_doodle_session",END_DOODLE_SESSION:"end_doodle_session",START_TEXT_SESSION:"start_text_session",END_TEXT_SESSION:"end_text_session",CAMERA_BUTTON_IN_FEED_IMPRESSION:"camera_button_in_feed_impression",TAP_PRECAPTURE_AUDIO_MUTE_BUTTON:"tap_precapture_audio_mute_button",TAP_AUDIO_MUTE_BUTTON:"tap_audio_mute_button",TAP_MIRROR_ASSET_BUTTON:"tap_mirror_asset_button",TAP_ROTATE_BUTTON:"tap_rotate_button",NO_EFFECTS:"no_effects",CHANGE_CATEGORY:"change_category",START_STICKER_SESSION:"start_sticker_session",END_STICKER_SESSION:"end_sticker_session",START_LOCATION_PICKER_SESSION:"start_location_picker_session",END_LOCATION_PICKER_SESSION:"end_location_picker_session",STICKER_SELECTED:"sticker_selected",STICKER_LOCATION_SEARCH_BAR_ENTERS:"sticker_location_search_bar_enters",STICKER_ADJUSTED:"sticker_adjusted",STICKER_DELETED:"sticker_deleted",CHANGE_STICKER_STYLE:"change_sticker_style",EFFECT_NOT_AVAILABLE:"effect_not_available",INTER_EFFECT_LINK_REQUEST:"inter_effect_link_request",INTER_EFFECT_LINK_SUCCESS:"inter_effect_link_success",INTER_EFFECT_LINK_FAIL:"inter_effect_link_fail",POST_AS_PAGE_DIALOG:"post_as_page_dialog",POST_AS_PAGE_CONFIRM:"post_as_page_confirm",POST_AS_PAGE_DISMISS:"post_as_page_dismiss",CHANGE_SATP_STYLE:"change_satp_style",START_TEXT_MODE_SESSION:"start_text_mode_session",END_TEXT_MODE_SESSION:"end_text_mode_session",EFFECT_TEXT_START_EDIT:"effect_text_start_edit",LAST_SESSION_CRASHED:"last_session_crashed",TAP_SETTINGS_BUTTON:"tap_settings_button",CAMERA_CAPTURE_ATTEMPTED:"camera_capture_attempted",CHANGE_CAPTURE_MODE:"change_capture_mode",START_NAME_PICKER_SESSION:"start_name_picker_session",END_NAME_PICKER_SESSION:"end_name_picker_session",START_GIF_SESSION:"start_gif_session",END_GIF_SESSION:"end_gif_session",BLANK_EFFECTS_TRAY_IMPRESSION:"blank_effects_tray_impression",BLANK_CATEGORY_IMPRESSION:"blank_category_impression",EMPTY_CATEGORIES_SERVER_RESPONSE:"empty_categories_server_response",EMPTY_FIRST_PAGE_IN_CATEGORY_SERVER_RESPONSE:"empty_first_page_in_category_server_response",DELETE_TEXT:"delete_text",ADJUST_TEXT:"adjust_text",CHANGE_TEXT_ALIGNMENT:"change_text_alignment",CHANGE_TEXT_BLOCK:"change_text_block",TEXT_FONT_SELECTED:"text_font_selected",CHANGE_TEXT_COLOR:"change_text_color",MULTI_GALLERY_SELECT:"multi_gallery_select",MULTI_GALLERY_DESELECT:"multi_gallery_deselect",DOODLE_BRUSH_TYPE_SELECTED:"doodle_brush_type_selected",DOODLE_COLOR_SELECTED:"doodle_color_selected",DOODLE_SIZE_SELECTED:"doodle_size_selected",UNDO_DOODLE:"undo_doodle",ADD_DOODLE:"add_doodle",LOADING_IMPRESSION:"loading_impression",LOADING_IMPRESSION_END:"loading_impression_end",VIEWING_IMPRESSION:"viewing_impression",VIEWING_IMPRESSION_END:"viewing_impression_end",DELETE_MEDIA_IN_COMPOSER:"delete_media_in_composer",POST_MULTIMEDIA:"post_multimedia",EFFECT_ENTER_ADJUSTMENT:"effect_enter_adjustment",EFFECT_EXIT_ADJUSTMENT:"effect_exit_adjustment",START_CROPPING_SESSION:"start_cropping_session",END_CROPPING_SESSION:"end_cropping_session",START_TAGGING_SESSION:"start_tagging_session",END_TAGGING_SESSION:"end_tagging_session",CHANGE_TEXT_STRING:"change_text_string",TEXT_ADJUSTED:"text_adjusted",TEXT_DELETED:"text_deleted"})}),null);
__d("ReactComposerPromptsLoggingActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_SELECTED_MEME:null},"ReactComposerPromptsLoggingActionTypes")}),null);
__d("XReactFeedComposerXPromptDismissController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/prompts/dismiss/",{user_action:{type:"Enum",enumType:1},prompt_id:{type:"String"},prompt_type:{type:"String"},prompt_tracking_string:{type:"String"},prompt_state:{type:"String"},composer_session_id:{type:"String"}})}),null);
__d("ReactComposerPromptsLoggingStore",["AsyncRequest","ComposerXSessionIDs","MemePickerLogger","PromptsInteractionsEventNames","ReactComposerActionTypes","ReactComposerPromptsLoggingActionTypes","ReactComposerPromptsStore","ReactComposerStoreBase","ReactComposerTaggerStore","ReactComposerTaggerType","XReactFeedComposerXPromptDismissController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k=void 0;i.constructor.call(this,function(){return{}},function(l){k&&k.handler(l)});k=this}j.prototype.handler=function(k){"use strict";switch(k.type){case c("ReactComposerActionTypes").POST_STARTED:this.$ReactComposerPromptsLoggingStore1(k);break;case c("ReactComposerPromptsLoggingActionTypes").SET_SELECTED_MEME:this.$ReactComposerPromptsLoggingStore2(k);break;default:}};j.prototype.$ReactComposerPromptsLoggingStore1=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.$ReactComposerPromptsLoggingStore3(l);m&&this.$ReactComposerPromptsLoggingStore4(m,l);var n=this.$ReactComposerPromptsLoggingStore5(l);if(n)c("MemePickerLogger").logMemePosted(n)};j.prototype.$ReactComposerPromptsLoggingStore3=function(k){"use strict";if(this.$ReactComposerPromptsLoggingStore5(k))return c("PromptsInteractionsEventNames").POST_PROMPT;if(c("ReactComposerPromptsStore").getMinutiaeData(k))if(this.$ReactComposerPromptsLoggingStore6(k))return c("PromptsInteractionsEventNames").POST_WITHOUT_PROMPT;else return c("PromptsInteractionsEventNames").POST_PROMPT;return null};j.prototype.$ReactComposerPromptsLoggingStore6=function(k){"use strict";var l=c("ReactComposerPromptsStore").getMinutiaeData(k);if(!l)return false;return this.$ReactComposerPromptsLoggingStore7(k,l)||this.$ReactComposerPromptsLoggingStore8(k,l)};j.prototype.$ReactComposerPromptsLoggingStore7=function(k,l){"use strict";var m=c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").ACTIVITY),n=l[c("ReactComposerTaggerType").ACTIVITY];if(!n||!n.action||!n.object)return false;if(!m||!m.action||!m.object)return true;return m.action.getUniqueID()!==n.action.getUniqueID()||m.object.getUniqueID()!==n.object.getUniqueID()};j.prototype.$ReactComposerPromptsLoggingStore8=function(k,l){"use strict";var m=c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").LOCATION),n=l[c("ReactComposerTaggerType").LOCATION];if(!n||!n.place)return false;if(!m||!m.place)return true;return m.place.getUniqueID()!==n.place.getUniqueID()};j.prototype.$ReactComposerPromptsLoggingStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","selectedMeme"]),m=l[0],n=l[1],o=this.getComposerData(m);o.selectedMeme=n};j.prototype.$ReactComposerPromptsLoggingStore5=function(k){"use strict";return this.getComposerData(k).selectedMeme};j.prototype.$ReactComposerPromptsLoggingStore4=function(event,k){"use strict";var l=c("ReactComposerPromptsStore").getPromptData(k);if(!l)return;new(c("AsyncRequest"))().setURI(c("XReactFeedComposerXPromptDismissController").getURIBuilder().getURI()).setData({user_action:event,prompt_id:l.promptID,prompt_type:l.promptType,prompt_tracking_string:l.trackingString,composer_session_id:c("ComposerXSessionIDs").getSessionID(k)}).send()};f.exports=new j()}),null);
__d("ReactComposerStatusPrompt.react",["Arbiter","DOMContainer.react","React","ReactComposerContextTypes","ReactComposerEvents","ReactComposerPrefillStore","ReactComposerPromptsActions","ReactComposerPromptsStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerPromptsLoggingStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerPromptsLoggingStore");var h=c("React").createClass({displayName:"ReactComposerStatusPrompt",_prefillSubscription:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerPromptsStore"))],statics:{calculateState:function i(j,k){return{promptXHP:c("ReactComposerPromptsStore").getPromptXHP(j)}}},getDefaultProps:function i(){return{hidePrompt:false}},componentWillMount:function i(){this._prefillSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill)},componentWillUnmount:function i(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null},render:function i(){if(this.props.hidePrompt||!this.state.promptXHP)return null;return c("React").createElement(c("DOMContainer.react"),null,this.state.promptXHP)},_handlePrefill:function i(){var j=c("ReactComposerPrefillStore").getAndEraseField(this.context.composerID,"prompt");if(j)c("ReactComposerPromptsActions").setPromptXHP(this.context.composerID,j)}});f.exports=h}),null);
__d("ReactComposerStatusAttachment.react",["cx","Arbiter","ComposerEntryPointRef","React","ReactComposerAttachmentPreviewContainer.react","ReactComposerAttachmentPreviewErrorBoundary.react","ReactComposerAttachmentType","ReactComposerAudienceActions","ReactComposerAudienceSelectorContainer.react","ReactComposerContextTypes","ReactComposerDragDropPromptContainer.react","ReactComposerEvents","ReactComposerFooterActions.react","ReactComposerFooterContainer.react","ReactComposerPostButtonContainer.react","ReactComposerProfilePhotoBlock.react","ReactComposerSessionMetricsActions","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react","ReactComposerStatusFooterContainer.react","ReactComposerStatusPrompt.react","ReactComposerTaggerSummaryContainer.react","ReactComposerTaggerSummaryPlaceholder.react","ReactComposerTaggerType","ReactComposerTimelineAudienceSelectorNextButtonContainerGatedModule","ReactComposerFundraiserAttachmentContainerGated","XUISpinner.react","emptyFunction","ReactComposerStatusActions","ReactComposerPrefillMentionsInput","DraftModifier","EditorState","ReactInputSelection","SelectionState"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("ReactComposerTimelineAudienceSelectorNextButtonContainerGatedModule").module,l=c("ReactComposerFundraiserAttachmentContainerGated").module;c("ReactComposerStatusActions");c("ReactComposerPrefillMentionsInput");c("DraftModifier");c("EditorState");c("ReactInputSelection");c("SelectionState");i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerStatusAttachment1=null,this.$ReactComposerStatusAttachment3=function(s){c("ReactComposerSessionMetricsActions").keystroke(this.context.composerID)}.bind(this),this.$ReactComposerStatusAttachment4=function(s){c("ReactComposerSessionMetricsActions").paste(this.context.composerID)}.bind(this),o}m.prototype.componentDidMount=function(){if(this.props.isActive)this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus();if(this.context.gks&&!this.context.gks.addAnyPostToAlbum)c("ReactComposerAudienceActions").setCollectionIDWithoutLogging(this.context.composerID,null)};m.prototype.componentWillUnmount=function(){this.$ReactComposerStatusAttachment1&&this.$ReactComposerStatusAttachment1.release()};m.prototype.$ReactComposerStatusAttachment2=function(){return k&&this.context.composerType===c("ComposerEntryPointRef").TIMELINE&&this.props.config.targetData.viewerIsTarget?k:this.props.postButtonModule};m.prototype.render=function(){__p&&__p();var n=void 0,o=this.context.gks&&this.context.gks.isSproutsComposer;if(this.props.isActive||this.props.config.showExpandedComposer)n=c("React").createElement(c("ReactComposerStatusFooterContainer.react"),{additionalTaggers:this.props.additionalTaggers,additionalFooterActions:this.props.additionalFooterActions,attachmentsConfig:this.props.config.attachmentsConfig,audienceXHP:this.props.config.audienceXHP,bootloader:this.props.bootloader,config:this.props.config,mediaAcceptParam:this.props.config.mediaAcceptParam,postButtonLabel:this.props.postButtonLabel?this.props.postButtonLabel:undefined,postButtonModule:this.$ReactComposerStatusAttachment2(),prefillConfig:this.props.prefillConfig,taggersConfig:this.props.taggersConfig?this.props.taggersConfig:this.props.config.taggersConfig,targetData:this.props.config.targetData,weakMention:this.props.weakMention});var p=this.props.isActive?c("React").createElement(c("ReactComposerTaggerSummaryContainer.react"),null):c("React").createElement(c("ReactComposerTaggerSummaryPlaceholder.react"),null),q=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],r=q.multilingualStatus,s=q.multilingualStatus&&this.props.isActive?c("React").createElement(r,null):null,t=q.markdownPreviewAttachment,u=null;if(t&&this.props.isActive){var v=t.container;u=c("React").createElement(v,{prettify:t.prettify,isMarkdownForInternalEmployee:t.isMarkdownForInternalEmployee})}var w=q.donateButtonConfig,x=null;if(w){var y=w.donateButtonContainer;x=c("React").createElement(y,{charityName:w.charityName,fundraiserCampaignId:w.fundraiserCampaignId})}var z=c("React").createElement(c("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{config:this.props.config,onChange:this.props.onMentionsInputChange,onFocus:this.props.onFocus,onPasteFiles:this.props.onPasteFiles,handlePastedText:this.props.handlePastedText,onPostIntent:this.props.onPostIntent,placeholder:this.props.placeholder,prefillConfig:this.props.prefillConfig,ref:"mentionsInput"}),A=this.props.config.taggersConfig,B=null;if(A&&A[c("ReactComposerTaggerType").FORMATTED_TEXT]&&A[c("ReactComposerTaggerType").FORMATTED_TEXT].noSproutDesign&&A[c("ReactComposerTaggerType").FORMATTED_TEXT].enabled&&A[c("ReactComposerTaggerType").FORMATTED_TEXT].textFormats&&A[c("ReactComposerTaggerType").FORMATTED_TEXT].containerModule){var C=A[c("ReactComposerTaggerType").FORMATTED_TEXT].containerModule;B=c("React").createElement(C,{autoOpen:A[c("ReactComposerTaggerType").FORMATTED_TEXT].autoOpen,badgingEnabled:A[c("ReactComposerTaggerType").FORMATTED_TEXT].badgingEnabled,defaultFormat:A[c("ReactComposerTaggerType").FORMATTED_TEXT].defaultFormat,fixAspectRatio:A[c("ReactComposerTaggerType").FORMATTED_TEXT].fixAspectRatio,maxNewlines:A[c("ReactComposerTaggerType").FORMATTED_TEXT].maxNewlines,noSproutDesign:A[c("ReactComposerTaggerType").FORMATTED_TEXT].noSproutDesign,statusAttachmentActive:this.props.isActive,shouldAutoOpenWhenUserStartsTyping:A[c("ReactComposerTaggerType").FORMATTED_TEXT].shouldAutoOpenWhenUserStartsTyping,shouldUseNewComposerPickerDesign:A[c("ReactComposerTaggerType").FORMATTED_TEXT].shouldUseNewComposerPickerDesign,stickyStylesEnabled:A[c("ReactComposerTaggerType").FORMATTED_TEXT].stickyStylesEnabled,textFormats:A[c("ReactComposerTaggerType").FORMATTED_TEXT].textFormats,textLengthLimit:A[c("ReactComposerTaggerType").FORMATTED_TEXT].textLengthLimit})}var D=c("React").createElement("div",{onKeyDown:this.$ReactComposerStatusAttachment3,onPaste:this.$ReactComposerStatusAttachment4,role:"presentation"},z,s);if(q.showProfilePic){var E=q.redirect?c("emptyFunction"):function(){c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this);D=c("React").createElement(c("ReactComposerProfilePhotoBlock.react"),{profileName:q.profileName,profilePhotoBadge:q.customProfilePhoto,profilePicSrc:q.profilePicSrc,profileURI:q.profileURI,profileDialogURI:q.profileDialogURI,currentProfileBadgeURI:q.currentProfileBadgeURI,profileBadgeNUX:q.customProfilePhotoNux,onClick:E},D)}var F=null;if(q.topicFeedsTagger&&this.props.isActive){var G=q.topicFeedsTagger,H=G.container;F=c("React").createElement(H,{composerFeedID:G.composerFeedID,photoAutoTaggingDelay:G.photoAutoTaggingDelay,photoPollingDuration:G.photoPollingDuration,photoPollingInterval:G.photoPollingInterval,showNux:G.showNux,textAutoTaggingDelay:G.textAutoTaggingDelay,topicLimit:G.topicLimit,darkLaunch:G.darkLaunch})}var I=null;if(q.groupPostTagsTagger&&this.props.isActive){var J=q.groupPostTagsTagger,K=J.container;I=c("React").createElement(K,{tagsLimit:J.tagsLimit,groupID:J.groupID,showNux:J.showNux,postTag:J.postTag})}var L=this.props.config.shouldShowPreviewSpinner?c("React").createElement(c("ReactComposerAttachmentPreviewContainer.react"),{spinner:c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"})}):c("React").createElement(c("ReactComposerAttachmentPreviewErrorBoundary.react"),null,c("React").createElement(c("ReactComposerAttachmentPreviewContainer.react"),null)),M=null;if(this.props.olpDetected&&q.offerLikePostUpsellInlineBanner){var N=q.offerLikePostUpsellInlineBanner;M=c("React").createElement(N,{actorID:this.context.actorID,composerID:this.context.composerID,text:this.props.olpText||"",pageID:q.pageID,photoIDs:[]})}return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("ReactComposerDragDropPromptContainer.react"),{root:this,config:this.props.config}),this.$ReactComposerStatusAttachment5(),c("React").createElement("div",{className:(q.shouldScrollComposerContent&&o?"_1w_g":"")+" _i-o"},c("React").createElement("div",{className:"_3eny"},D,M,this.props.children,B,L,l?c("React").createElement(l,null):null,p,c("React").createElement(c("ReactComposerStatusPrompt.react"),{hidePrompt:this.props.isActive}),u,c("React").createElement("div",{className:"_3enz _3eo2"}))),x,F,I,n)};m.prototype.$ReactComposerStatusAttachment5=function(){var n=this.context.gks&&this.context.gks.topPostButton,o=this.context.gks&&this.context.gks.isSproutsComposer;if(!(n&&o))return null;return c("React").createElement("div",{className:"_4y7p"},this.$ReactComposerStatusAttachment6())};m.prototype.$ReactComposerStatusAttachment6=function(){var n=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],o=n.footerBackground?n.footerBackground:this.props.config.showExpandedComposer?"white":"light-wash",p=c("React").createElement(c("ReactComposerFooterContainer.react"),{background:o},c("React").createElement("div",{className:"clearfix"},c("React").createElement("div",{className:"rfloat"},this.$ReactComposerStatusAttachment7())));return p};m.prototype.$ReactComposerStatusAttachment7=function(){var n=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],o=this.props.config.audienceXHP?c("React").createElement(c("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.config.audienceXHP,viewerIsTarget:this.props.config.targetData.viewerIsTarget}):null,p=this.props.postButtonModule||c("ReactComposerPostButtonContainer.react"),q=c("React").createElement(p,{config:this.props.config});return c("React").createElement(c("ReactComposerFooterActions.react"),null,this.props.additionalFooterActions,o,q)};m.contextTypes=c("ReactComposerContextTypes");f.exports=m}),null);
__d("ReactComposerEventAttachmentActions",["ReactComposerDispatcher","ReactComposerEventAttachmentActionType","ReactComposerEventAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerEventAttachmentStore");h.prototype.enabled=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerEventAttachmentActionType").EVENT_ATTACHMENT_ENABLED,enabled:j})};h.prototype.fetchEventAttachment=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerEventAttachmentActionType").FETCH_EVENT_ATTACHMENT,eventID:j})};h.prototype.setMarkup=function(i,j,k){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,eventID:j,markup:k,type:c("ReactComposerEventAttachmentActionType").SET_EVENT_MARKUP})};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerStatusAttachmentContainer.react",["Bootloader","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLocationAttachmentActions","ReactComposerEventAttachmentActions","ReactComposerLoggingName","ReactComposerPhotoUploader","ReactComposerScrapedAttachmentActions","ReactComposerStatusAttachment.react","ReactComposerStatusAttachmentFocusStore","ReactComposerStatusStore","ReactComposerStatusUtils","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ComposerEntryPointRef","FluxContainer","URLScraper","QE2Logger","React","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){__p&&__p();var k,l;"use strict";for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$ReactComposerStatusAttachmentContainer2=false,this.state={olpDetected:false,olpText:null,placeholder:""},this.$ReactComposerStatusAttachmentContainer3=function(){if(c("ReactComposerAttachmentStore").getSelectedAttachmentID(this.context.composerID)!==c("ReactComposerAttachmentType").STATUS)return;c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,c("ReactComposerAttachmentType").STATUS,true);var p=c("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID);if(p!==c("ReactComposerTaggerType").FORMATTED_TEXT)c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,c("ReactComposerLoggingName").INLINE_COMPOSER)}.bind(this),this.$ReactComposerStatusAttachmentContainer4=function(p){__p&&__p();var q=p.getCurrentContent().getPlainText(),r=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS];if(this.context.composerType===c("ComposerEntryPointRef").PAGES_FEED)c("Bootloader").loadModules(["SalesPromoUtils.react"],function(s){if(s.checkIsOLP(q)){var t=r.offerLikePostUpsell,u=t.indexOf("inline")!==-1;if(u)this.setState({olpDetected:true,olpText:q});if(t==="none"||u)c("QE2Logger").logExposureForPage("orgoff_offer_creation",r.pageID)}else this.setState({olpText:q})}.bind(this),"ReactComposerStatusAttachmentContainer.react");if(!c("URLScraper").trigger(q))c("ReactComposerStatusUtils").scrapeLink(this.context.composerID,this.context.targetID,q,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").INLINE_COMPOSER);if(!this.$ReactComposerStatusAttachmentContainer2&&q.length>0&&c("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)===null){c("ifRequired")("ReactComposerFormattedTextStore",function(s){if(s.getShouldAutoOpenWhenUserStartsTyping(this.context.composerID)){c("ifRequired")("ReactComposerFormattedTextActions",function(t){t.setShouldFadeInPicker(this.context.composerID,true)}.bind(this));c("ReactComposerTaggerActions").selectTaggerWithoutLogging(this.context.composerID,c("ReactComposerTaggerType").FORMATTED_TEXT)}}.bind(this));this.$ReactComposerStatusAttachmentContainer2=true}}.bind(this),this.$ReactComposerStatusAttachmentContainer5=function(p){c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,c("ReactComposerAttachmentType").MEDIA,true);c("ReactComposerStatusUtils").uploadPastedFile(this.context.composerID,p[0],this.$ReactComposerStatusAttachmentContainer1)}.bind(this),this.$ReactComposerStatusAttachmentContainer6=function(p,q,r){var s=c("ReactComposerStatusStore").getEditorState(this.context.composerID),t=s?s.getCurrentContent().getPlainText():"",u=c("URLScraper").match(p)||t.concat(p);c("ReactComposerStatusUtils").scrapeLink(this.context.composerID,this.context.targetID,u,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").LINK_PASTED);return false}.bind(this),l}j.getStores=function(){"use strict";return[c("ReactComposerAttachmentStore"),c("ReactComposerStatusStore"),c("ReactComposerStatusAttachmentFocusStore"),c("ReactComposerTaggerStore")]};j.calculateState=function(k,l,m){"use strict";__p&&__p();var n=m.composerID,o=c("ReactComposerAttachmentStore").isSelectedAttachmentActive(n),p=c("ReactComposerStatusAttachmentFocusStore").isInputFocused(n),q=c("ReactComposerStatusStore").getMentions(n),r=null;if(q)for(var s in q)if(Object.prototype.hasOwnProperty.call(q,s)&&q[s].isWeak==true){r=q[s];break}var t=c("ReactComposerTaggerStore").getTaggerData(n,c("ReactComposerTaggerType").FUN_FACT),u=t&&t.promptID?l.config.taggersConfig[c("ReactComposerTaggerType").FUN_FACT].placeholder:l.placeholder;return{isActive:o||p,olpDetected:k&&k.olpDetected,olpText:k&&k.olpText,placeholder:u,weakMention:r}};j.prototype.componentWillMount=function(){"use strict";var k=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA];this.$ReactComposerStatusAttachmentContainer1=new(c("ReactComposerPhotoUploader"))(this.context,k.photoLimit,{disableFaceRecognition:k.disableFaceboxTagger});var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS];if(l)if(l.defaultMarkdownOn){var m=c("ReactComposerTaggerStore").hasMarkdown(this.context.composerID);c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,c("ReactComposerTaggerType").MARKDOWN,m?null:{isMarkdown:true})}};j.prototype.componentDidMount=function(){"use strict";__p&&__p();var k=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS];c("ReactComposerScrapedAttachmentActions").enabled(this.context.composerID,k.canScrapeShare);c("ReactComposerLocationAttachmentActions").enabled(this.context.composerID,!!k.canAttachLocation);c("ReactComposerEventAttachmentActions").enabled(this.context.composerID,k.canAttachEvent);if(this.props.scrapeLinkOnInit){var l=c("ReactComposerStatusStore").getMessageText(this.context.composerID);if(l)c("ReactComposerStatusUtils").scrapeLink(this.context.composerID,this.context.targetID,l,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").INLINE_COMPOSER)}};j.prototype.render=function(){"use strict";return c("React").createElement(c("ReactComposerStatusAttachment.react"),babelHelpers["extends"]({},this.props,this.state,{config:this.props.config,onFocus:this.$ReactComposerStatusAttachmentContainer3,onMentionsInputChange:this.$ReactComposerStatusAttachmentContainer4,onPasteFiles:this.$ReactComposerStatusAttachmentContainer5,handlePastedText:this.$ReactComposerStatusAttachmentContainer6,placeholder:this.state.placeholder,postButtonModule:this.props.postButtonModule}))};j.defaultProps={scrapeLinkOnInit:true};j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withProps:true,withContext:true})}),null);
__d("ReactComposerStatusEagerAttachment.react",["fbt","Arbiter","React","ReactComposerAttachmentActions","ReactComposerAttachmentBodyMixin","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerPrefillConfig","ReactComposerStatusActions","ReactComposerStatusAttachmentContainer.react","ReactComposerTaggerActions","gkx"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerStatusEagerAttachment",mixins:[c("ReactComposerAttachmentBodyMixin")()],propTypes:{config:c("ReactComposerConfig").isRequired,postButtonModule:i.func.isRequired,selected:i.bool,prefillConfig:c("ReactComposerPrefillConfig")},getDefaultProps:function k(){return{placeholder:h._("What's on your mind?")}},statics:{attachmentID:c("ReactComposerAttachmentType").STATUS},componentWillMount:function k(){var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].bootstrapData;c("ReactComposerStatusActions").setMentionsSource(this.context.composerID,l.mentionsSource);c("ReactComposerStatusActions").setTypeaheadReporter(this.context.composerID,l.typeaheadReporter);c("ReactComposerAttachmentActions").setInitialized(this.context.composerID,c("ReactComposerAttachmentType").STATUS);if(c("gkx")("AT7rNDDdaqbNsNKVWAB2srntBC9kKTH71mtXESBBj2RChibXb3-wXs1S24n11evPW74QN4P34-lCxfKFpDx7_2p-"))c("ReactComposerTaggerActions").updateTaggersSource(this.context.composerID,this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].bootstrapData.taggersSource||{})},componentDidMount:function k(){if(!c("gkx")("AT7rNDDdaqbNsNKVWAB2srntBC9kKTH71mtXESBBj2RChibXb3-wXs1S24n11evPW74QN4P34-lCxfKFpDx7_2p-"))c("ReactComposerTaggerActions").updateTaggersSource(this.context.composerID,this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].bootstrapData.taggersSource||{});c("Arbiter").inform("ReactComposerStatusEagerAttachment/mounted",this.context.composerID,c("Arbiter").BEHAVIOR_STATE)},renderX:function k(){return c("React").createElement(c("ReactComposerStatusAttachmentContainer.react"),this.props)}});f.exports=j}),null);
__d("ReactComposerFundraiserAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({FETCH_ATTACHMENT:null,SET_MARKUP:null},"ReactComposerFundriserAttachmentActionType")}),null);
__d("XReactComposerFundraiserAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/fundraiser/attachment/",{av:{type:"FBID"},composer_id:{type:"String",required:true},charity_id:{type:"String",required:true}})}),null);
__d("ReactComposerFundraiserAttachmentStore",["ActorURI","AsyncRequest","ReactComposerFundraiserAttachmentActionType","ReactComposerStoreBase","XReactComposerFundraiserAttachmentController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{isFetching:false,markup:null}},function(l){switch(l.type){case c("ReactComposerFundraiserAttachmentActionType").FETCH_ATTACHMENT:k&&k.$ReactComposerFundraiserAttachmentStore1(l);break;case c("ReactComposerFundraiserAttachmentActionType").SET_MARKUP:k&&k.$ReactComposerFundraiserAttachmentStore2(l);break}});k=this}j.prototype.getMarkup=function(k){"use strict";return this.getComposerData(k).markup};j.prototype.isFetching=function(k){"use strict";return this.getComposerData(k).isFetching};j.prototype.$ReactComposerFundraiserAttachmentStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","charityID","actorID"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.isFetching=true;p.markup=null;var q=c("XReactComposerFundraiserAttachmentController").getURIBuilder().setString("composer_id",m).setString("charity_id",n),r=c("ActorURI").create(q.getURI(),o),s=new(c("AsyncRequest"))(r).setFinallyHandler(function(){p.isFetching=false;this.emitChange(m)}.bind(this));s.send();this.emitChange(m)};j.prototype.$ReactComposerFundraiserAttachmentStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","markup"]),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;o.isFetching=false;this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerFundraiserAttachmentActions",["ReactComposerDispatcher","ReactComposerFundraiserAttachmentActionType","ReactComposerFundraiserAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerFundraiserAttachmentStore");h.prototype.fetchFundraiserAttachment=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerFundraiserAttachmentActionType").FETCH_ATTACHMENT,charityID:j,actorID:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.setMarkup=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerFundraiserAttachmentActionType").SET_MARKUP,markup:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerFundraiserAttachmentContainer.react",["cx","fbt","ReactComposerContextTypes","FluxContainer","FluxStore","React","ReactComposerAttachmentPreview.react","ReactComposerFundraiserAttachmentActions","ReactComposerFundraiserAttachmentStore","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerType","XUICloseButton.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerFundraiserAttachmentContainer3=function(){c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").FUNDRAISER_SPROUT,c("ReactComposerTaggerType").FUNDRAISER,{});c("ReactComposerFundraiserAttachmentActions").setMarkup(this.context.composerID,null)}.bind(this),n}l.getStores=function(){"use strict";return[c("ReactComposerFundraiserAttachmentStore")]};l.calculateState=function(m,n,o){"use strict";var p=o.composerID,q=c("ReactComposerFundraiserAttachmentStore").getMarkup(p),r=c("ReactComposerFundraiserAttachmentStore").isFetching(p);return{markup:q,showLoadingIndicator:r}};l.prototype.render=function(){"use strict";var m=this.state.markup?c("React").createElement("div",{className:"_2ane"},c("React").createElement(c("ReactComposerAttachmentPreview.react"),{markup:this.state.markup}),this.$ReactComposerFundraiserAttachmentContainer1()):null;return c("React").createElement("div",null,this.$ReactComposerFundraiserAttachmentContainer2(),m)};l.prototype.$ReactComposerFundraiserAttachmentContainer2=function(){"use strict";if(!this.state.showLoadingIndicator)return null;return c("React").createElement("div",{className:"_jg1 _239z"},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}),i._("Fetching preview"))};l.prototype.$ReactComposerFundraiserAttachmentContainer1=function(){"use strict";if(!this.state.markup)return null;return c("React").createElement("div",{className:"_40_q"},c("React").createElement(c("XUICloseButton.react"),{size:"medium",shade:"light",onClick:this.$ReactComposerFundraiserAttachmentContainer3}))};l.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(l,{withContext:true,withProps:true})}),null);
__d("ReactComposerFeedStore",["Bootloader","ReactComposerActionStore","ReactComposerMediaConfig","ReactComposerStore","ReactComposerPostUtils","DateConsts"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerActionStore"));i=h&&h.prototype;function j(){"use strict";i.constructor.call(this)}j.prototype.__onPostStarted=function(k){"use strict";__p&&__p();var l=c("ReactComposerStore").getScheduledPublishTime(k.composerID);if(l){var m=Math.round(l/c("DateConsts").MS_PER_SEC);k.config.contextInfo.scheduled=true;k.config.contextInfo.unpublished_content_type="SCHEDULED";k.config.contextInfo.scheduled_publish_time=m}var n=this.validateAction(k,"composerID");c("ReactComposerPostUtils").post({actorID:k.actorID,composerConfig:k.config,composerID:n,targetID:k.targetID});c("Bootloader").loadModules(["ReactComposerMagicTagSurvey"],function(o){return o.loadSurvey(n)},"ReactComposerFeedStore")};j.prototype.__canPost=function(k){"use strict";return!c("ReactComposerPostUtils").isPostButtonDisabled(k.composerID,c("ReactComposerMediaConfig").photo.limit)};j.prototype.__onPostSucceeded=function(k){"use strict";var l=this.validateAction(k,"composerID");c("Bootloader").loadModules(["ReactComposerFeedSurvey"],function(m){return m.onPostSucceeded(l)},"ReactComposerFeedStore")};f.exports=new j()}),null);
__d("ReactComposerFeedMediaPostButtonContainer.react",["React","ReactComposerContextTypes","ReactComposerFeedStore","ReactComposerMediaPostButtonContainerMixin"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerFeedMediaPostButtonContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerMediaPostButtonContainerMixin")],getDefaultProps:function i(){return{useDefaultScheduleComponent:true}},componentDidMount:function i(){c("ReactComposerFeedStore").registerComposerID(this.context.composerID)}});f.exports=h}),null);
__d("ReactComposerFeedPostButtonContainer.react",["React","ReactComposerContextTypes","ReactComposerFeedStore","ReactComposerPostButtonContainerMixin"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerFeedPostButtonContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPostButtonContainerMixin")],getDefaultProps:function i(){return{useDefaultScheduleComponent:true}},componentDidMount:function i(){c("ReactComposerFeedStore").registerComposerID(this.context.composerID)}});f.exports=h}),null);
__d("ReactComposerTimelineBootloader",["Bootloader"],(function a(b,c,d,e,f,g){"use strict";var h={statusAttachment:function i(j){c("Bootloader").loadModules(["ReactComposerStatusAttachmentContainer.react","ReactComposerTimelinePostButtonContainer.react"],j,"ReactComposerTimelineBootloader")},mediaAttachment:function i(j){c("Bootloader").loadModules(["ReactComposerMediaAttachmentContainer.react","ReactComposerTimelineMediaPostButtonContainer.react"],j,"ReactComposerTimelineBootloader")},qandaAttachment:function i(j){c("Bootloader").loadModules(["ReactComposerQAndAAttachmentContainer.react","ReactComposerTimelineMediaPostButtonContainer.react"],j,"ReactComposerTimelineBootloader")},redEnvelopeAttachment:function i(j){c("Bootloader").loadModules(["ReactComposerRedEnvelopeV2AttachmentContainer.react","ReactComposerTimelineMediaPostButtonContainer.react"],j,"ReactComposerTimelineBootloader")}};f.exports=h}),null);
__d("ProfileFunFactsEntryPoints",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ASK_FRIEND_NOTIF:"ask_friend_notif",COLLECTION:"collection",NF_CTA:"nf_cta",NF_COMPOSER:"nf_composer",NF_SELF_CTA:"nf_self_cta",SELF_PROTILE:"self_protile",TIMELINE_COMPOSER:"timeline_composer"})}),null);
__d("ReactComposerSproutsHeader.react",["cx","fbt","React","ReactComposerHeaderType","SharingSpacesStrings"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.defaultProps={type:c("ReactComposerHeaderType").DEFAULT},n}l.prototype.render=function(){switch(this.props.type){case c("ReactComposerHeaderType").DEFAULT:return c("React").createElement("div",{className:"_3ubp _sg2"},this.props.children);case c("ReactComposerHeaderType").SHARESHEET:return c("React").createElement("div",{className:"_3ubp"},i._("Select Audience"));case c("ReactComposerHeaderType").SHARING_SPACES:return c("React").createElement("div",{className:"_3ubp"},c("SharingSpacesStrings").SHARING_SPACES_SELECTOR_TITLE);case c("ReactComposerHeaderType").NONE:default:return c("React").createElement("span",null)}};f.exports=l}),null);
__d("ReactComposerHeaderContainer.react",["React","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerHeaderType","ReactComposerSproutsHeader.react","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("ReactComposerAttachmentStore")]};j.calculateState=function(k,l,m){return{selectedAttachmentID:c("ReactComposerAttachmentStore").getSelectedAttachmentID(m.composerID)}};j.prototype.$ReactComposerHeaderContainer1=function(){var k=this.props.contextConfig.gks&&this.props.contextConfig.gks.albumTab,l=this.state.selectedAttachmentID===c("ReactComposerAttachmentType").AUDIENCE_SELECTOR,m=this.state.selectedAttachmentID===c("ReactComposerAttachmentType").SHARING_SPACES_SELECTOR;if(l)return c("ReactComposerHeaderType").SHARESHEET;else if(m)return c("ReactComposerHeaderType").SHARING_SPACES;else if(k)return c("ReactComposerHeaderType").DEFAULT;else return c("ReactComposerHeaderType").NONE};j.prototype.render=function(){return c("React").createElement(c("ReactComposerSproutsHeader.react"),{type:this.$ReactComposerHeaderContainer1()},this.props.children)};function j(){h.apply(this,arguments)}j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withContext:true,withProps:true})}),null);
__d("ReactComposerSproutsAlbumSelector.react",["ix","cx","fbt","DOMContainer.react","Image.react","React","ReactComposerAttachmentType","ReactComposerCollectionSelectorContainerGatedModule","ReactComposerConfig","ReactComposerContextTypes","TooltipData","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactComposerCollectionSelectorContainerGatedModule").module;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){if(this.props.useCollectionSelector){var o=h("123370"),p=j._("Photo\/Video Album"),q=c("joinClasses")("_4-h7","fbReactComposerAttachmentSelector_"+c("ReactComposerAttachmentType").ALBUM);return c("React").createElement("span",{className:"_sg1"},m?c("React").createElement(m,{addAnyPostToAlbum:this.context.gks&&this.context.gks.addAnyPostToAlbum,canCreateSharingSpace:this.context.gks&&this.context.gks.canCreateSharingSpace,showSharingSpaces:this.context.gks&&this.context.gks.canPostToSpace,alternateTriggerComponent:c("React").createElement("span",babelHelpers["extends"]({className:q,"data-tooltip-delay":"500"},c("TooltipData").propsFor(p)),c("React").createElement("span",{className:"_4-fs"},c("React").createElement(c("Image.react"),{src:o,className:"_5qto"}),c("React").createElement("span",{className:"_5qtp"},p),c("React").createElement("span",{className:"_4-h8"})))}):null)}else return c("React").createElement("span",{key:"album",className:"_sg1"},c("React").createElement(c("DOMContainer.react"),{display:"inline"},this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").ALBUM].createAlbumLink))};function n(){k.apply(this,arguments)}n.contextTypes=c("ReactComposerContextTypes");f.exports=n}),null);
__d("ReactComposerSproutsMLESelector.react",["ix","cx","fbt","React","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerSproutsSelector.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){return c("React").createElement("span",{className:"_sg1"},c("React").createElement(c("ReactComposerSproutsSelector.react"),{attachmentID:c("ReactComposerAttachmentType").MLE,loggingName:c("ReactComposerLoggingName").MLE_TAB_SELECTOR,icon:h("122925"),label:j._("Life Event")}))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("ReactComposerSproutsMediaSelector.react",["ix","cx","React","ReactComposerLoggingName","ReactComposerInstantMediaAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerConfig","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("span",{className:"_sg1",key:c("ReactComposerLoggingName").MEDIA_TAB_SELECTOR},c("React").createElement(c("ReactComposerInstantMediaAttachmentSelectorContainer.react"),{key:c("ReactComposerLoggingName").MEDIA_TAB_SELECTOR,icon:h("122530"),disableFaceRecognition:this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA].disableFaceboxTagger,mediaAcceptParam:this.props.config.mediaAcceptParam,photoLimit:this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA].photoLimit,targetData:this.props.config.targetData,mediaConfig:this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA]}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("ReactComposerSproutsQAndASelector.react",["ix","fbt","React","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerSproutsSelector.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement(c("ReactComposerSproutsSelector.react"),{attachmentID:c("ReactComposerAttachmentType").QANDA,loggingName:c("ReactComposerLoggingName").QANDA_TAB_SELECTOR,icon:h("123482"),label:i._("Q&A")})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("ReactComposerSproutsRedEnvelopeSelector.react",["ix","fbt","React","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerSproutsSelector.react","RedEnvelopeActionType","RedEnvelopeActionTypedLogger","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement(c("ReactComposerSproutsSelector.react"),{attachmentID:c("ReactComposerAttachmentType").RED_ENVELOPE,loggingName:c("ReactComposerLoggingName").RED_ENVELOPE_TAB_SELECTOR,icon:h("423219"),label:i._("Send Gift"),onAfterSelected:function m(){new(c("RedEnvelopeActionTypedLogger"))().setAction(c("RedEnvelopeActionType").CLICK_GLYPH).log()}})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("ReactComposerSproutsStatusAndMediaSelector.react",["ix","FluxContainer","React","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerMediaUploadStore","ReactComposerSproutsSelector.react","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.getStores=function(){return[c("ReactComposerMediaUploadStore")]};k.calculateState=function(l,m,n){__p&&__p();var o=n.composerID;if(m.statusOnly)return{attachment:c("ReactComposerAttachmentType").STATUS,alternativeAttachments:m.alternativeAttachmentIDs};var p=c("ReactComposerAttachmentType").STATUS,q=c("ReactComposerAttachmentType").MEDIA;if(c("ReactComposerMediaUploadStore").getUploadsCount(o)>0){p=c("ReactComposerAttachmentType").MEDIA;q=c("ReactComposerAttachmentType").STATUS}var r=[q];if(m.alternativeAttachmentIDs)r=r.concat(m.alternativeAttachmentIDs);return{attachment:p,alternativeAttachments:r}};k.prototype.render=function(){return c("React").createElement(c("ReactComposerSproutsSelector.react"),{attachmentID:this.state.attachment,loggingName:c("ReactComposerLoggingName").STATUS_TAB_SELECTOR,icon:h("123350"),label:this.props.label,alternativeAttachmentIDs:this.state.alternativeAttachments})};function k(){i.apply(this,arguments)}k.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(k,{withContext:true,withProps:true})}),null);
__d("ReactTimelineSproutsComposer.react",["cx","fbt","React","BootloadedComponent.react","ReactComposerAttachmentType","ReactComposerBodyContainer.react","ReactComposerContextProviderMixin","ReactComposerEvents","ReactComposerFeedMediaPostButtonContainer.react","ReactComposerFeedPostButtonContainer.react","ReactComposerFocusInit","ReactComposerHeaderContainer.react","ReactComposerLiveVideoAttachmentSelector.react","ReactComposerLiveVideoLazyAttachment.react","ReactComposerLiveVideoPreviewButton.react","ReactComposerLoggingName","ReactComposerMLELazyAttachment.react","ReactComposerQAndALazyAttachment.react","ReactComposerSharingSpacesSelectorAttachmentGatedModule","ReactComposerSproutsAlbumSelector.react","ReactComposerSproutsMLESelector.react","ReactComposerSproutsQAndASelector.react","ReactComposerSproutsStatusAndMediaSelector.react","ReactComposerSproutsMediaSelector.react","ReactComposerSproutsRedEnvelopeSelector.react","ReactComposerTimelineBootloader","ReactComposerVisualPollLazyAttachment.react","ProfileFunFactsEntryPoints","ReactComposerRedEnvelopeV2LazyAttachment.react","ReactComposerTaggerType","ReactComposerWithSprouts.react","JSResource","TimelineComposer","Arbiter","$","coalesce","idx","nullthrows"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("ReactComposerSharingSpacesSelectorAttachmentGatedModule").module;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.componentDidMount=function(){"use strict";var n=this.props,o=n.contextConfig,p=n.config;c("TimelineComposer").init(o.composerID);if(p.focusOnInit)c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+o.composerID)};m.prototype.getChildContext=function(){"use strict";return c("ReactComposerContextProviderMixin").staticGetChildContext(this.props)};m.prototype.render=function(){"use strict";var n=this.$ReactTimelineSproutsComposer1(),o=c("React").createElement(c("ReactComposerWithSprouts.react"),{defaultAttachmentOnExpand:c("ReactComposerAttachmentType").STATUS,innerProps:{className:"_5n2b",loggingConfig:this.props.config.loggingConfig,sproutsConfig:this.props.config.sproutsConfig,promotedSprout:this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null},expandOnInit:false},c("React").createElement(c("ReactComposerHeaderContainer.react"),this.props,n),this.$ReactTimelineSproutsComposer2(),c("React").createElement(c("ReactComposerBodyContainer.react"),{expanded:this.props.config.showExpandedComposer},this.$ReactTimelineSproutsComposer3(),this.$ReactTimelineSproutsComposer4(),this.$ReactTimelineSproutsComposer5(),this.$ReactTimelineSproutsComposer6(),this.$ReactTimelineSproutsComposer7(),this.$ReactTimelineSproutsComposer8(),this.$ReactTimelineSproutsComposer9(),this.$ReactTimelineSproutsComposer10()));return o};m.prototype.$ReactTimelineSproutsComposer1=function(){"use strict";__p&&__p();var n=this.props.config.attachmentsConfig,o=[];if(n[c("ReactComposerAttachmentType").STATUS].enabled)o.push(c("React").createElement(c("ReactComposerSproutsStatusAndMediaSelector.react"),{key:c("ReactComposerLoggingName").STATUS_TAB_SELECTOR,label:n[c("ReactComposerAttachmentType").STATUS].defaultTabTitle,statusOnly:this.props.contextConfig.gks&&this.props.contextConfig.gks.photoTab}));if(this.props.contextConfig.gks&&this.props.contextConfig.gks.photoTab&&n[c("ReactComposerAttachmentType").MEDIA].enabled)o.push(c("React").createElement(c("ReactComposerSproutsMediaSelector.react"),{key:c("ReactComposerLoggingName").MEDIA_TAB_SELECTOR,config:this.props.config}));var p=this.props.contextConfig.gks&&this.props.contextConfig.gks.hideAlbumTab;if(n[c("ReactComposerAttachmentType").ALBUM].enabled&&!p)o.push(this.$ReactTimelineSproutsComposer11());if(n[c("ReactComposerAttachmentType").LIVE_VIDEO].enabled)o.push(this.$ReactTimelineSproutsComposer12());if(n[c("ReactComposerAttachmentType").RED_ENVELOPE].enabled)o.push(this.$ReactTimelineSproutsComposer13());if(n[c("ReactComposerAttachmentType").MLE].enabled)o.push(this.$ReactTimelineSproutsComposer14());if(n[c("ReactComposerAttachmentType").QANDA].enabled)o.push(this.$ReactTimelineSproutsComposer15());return o};m.prototype.$ReactTimelineSproutsComposer11=function(){"use strict";var n=this.props.contextConfig.gks&&this.props.contextConfig.gks.albumTabUsesSelector;return c("React").createElement(c("ReactComposerSproutsAlbumSelector.react"),{key:c("ReactComposerLoggingName").ALBUM,config:this.props.config,useCollectionSelector:n})};m.prototype.$ReactTimelineSproutsComposer14=function(){"use strict";return c("React").createElement(c("ReactComposerSproutsMLESelector.react"),{key:c("ReactComposerLoggingName").MLE_TAB_SELECTOR})};m.prototype.$ReactTimelineSproutsComposer13=function(){"use strict";return c("React").createElement(c("ReactComposerSproutsRedEnvelopeSelector.react"),{key:c("ReactComposerLoggingName").RED_ENVELOPE_TAB_SELECTOR})};m.prototype.$ReactTimelineSproutsComposer15=function(){"use strict";return c("React").createElement(c("ReactComposerSproutsQAndASelector.react"),{key:c("ReactComposerLoggingName").QANDA_TAB_SELECTOR})};m.prototype.$ReactTimelineSproutsComposer12=function(){"use strict";return c("React").createElement(c("ReactComposerLiveVideoAttachmentSelector.react"),{config:this.props.config,contextConfig:this.props.contextConfig,key:"live_video",sprouts:true})};m.prototype.$ReactTimelineSproutsComposer3=function(){var n;"use strict";if(!this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].enabled)return null;var o=c("nullthrows")((n=this.props.contextConfig)!=null?(n=n.jsModules)!=null?n.statusAttachment:n:n);return c("React").createElement(o,{key:"status",config:this.props.config,selected:this.props.config.initSelectedAttachment===c("ReactComposerAttachmentType").STATUS,postButtonModule:c("ReactComposerFeedPostButtonContainer.react"),bootloader:c("ReactComposerTimelineBootloader"),placeholder:this.props.config.targetData.viewerIsTarget?i._("What's on your mind?"):c("coalesce")(this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].placeholderText,i._("Write something..."))})};m.prototype.$ReactTimelineSproutsComposer4=function(){var n;"use strict";if(!this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA].enabled)return null;var o=c("nullthrows")((n=this.props.contextConfig)!=null?(n=n.jsModules)!=null?n.mediaAttachment:n:n);return c("React").createElement(o,{key:"media",config:this.props.config,postButtonModule:c("ReactComposerFeedMediaPostButtonContainer.react"),bootloader:c("ReactComposerTimelineBootloader"),selected:this.props.config.initSelectedAttachment===c("ReactComposerAttachmentType").MEDIA})};m.prototype.$ReactTimelineSproutsComposer6=function(){"use strict";if(!this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").VISUAL_POLL].enabled)return null;return c("React").createElement(c("ReactComposerVisualPollLazyAttachment.react"),{key:"visual_poll",config:this.props.config})};m.prototype.$ReactTimelineSproutsComposer7=function(){"use strict";if(!this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").RED_ENVELOPE].enabled)return null;return c("React").createElement(c("ReactComposerRedEnvelopeV2LazyAttachment.react"),{key:"red_envelope",config:this.props.config,selected:this.props.config.initSelectedAttachment===c("ReactComposerAttachmentType").RED_ENVELOPE})};m.prototype.$ReactTimelineSproutsComposer8=function(){"use strict";if(!this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MLE].enabled)return null;return c("React").createElement(c("ReactComposerMLELazyAttachment.react"),{key:"mle",config:this.props.config})};m.prototype.$ReactTimelineSproutsComposer9=function(){"use strict";if(!this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").QANDA].enabled)return null;return c("React").createElement(c("ReactComposerQAndALazyAttachment.react"),{key:"qanda",config:this.props.config})};m.prototype.$ReactTimelineSproutsComposer5=function(){"use strict";if(!this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").LIVE_VIDEO].enabled)return null;return c("React").createElement(c("ReactComposerLiveVideoLazyAttachment.react"),{key:"live_video",config:this.props.config,postButtonModule:c("ReactComposerLiveVideoPreviewButton.react"),selected:false})};m.prototype.$ReactTimelineSproutsComposer2=function(){"use strict";var n=this.props.config.taggersConfig;if(n&&n[c("ReactComposerTaggerType").FUN_FACT]&&n[c("ReactComposerTaggerType").FUN_FACT].enabled){var o=n[c("ReactComposerTaggerType").FUN_FACT];return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerFunFactSinglePromptTaggerContainer.react").__setRef("ReactTimelineSproutsComposer.react"),bootloadPlaceholder:c("React").createElement("div",null),entryPoint:this.props.contextConfig.extraConfig&&this.props.contextConfig.extraConfig.entryPoint,showAskFriendTab:o.singlePromptWithAsk})}return null};m.prototype.$ReactTimelineSproutsComposer10=function(){"use strict";return l?c("React").createElement(l,{config:this.props.config,key:"sharingSpacesSelectorAttachment"}):null};function m(){"use strict";j.apply(this,arguments)}m.childContextTypes=c("ReactComposerContextProviderMixin").childContextTypes;f.exports=m}),null);
__d("CollectionThumbnail.react",["cssVar","cx","fbt","BackgroundImage.react","Focus","React","isKeyActivation","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$CollectionThumbnail2=function(t){if(c("isKeyActivation")(t))this.props.onClick&&this.props.onClick(t)}.bind(this),p}n.prototype.focus=function(){c("Focus").set(this.$CollectionThumbnail1,true)};n.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_2vw6"),onClick:this.props.onClick,onKeyDown:this.$CollectionThumbnail2,tabIndex:0,ref:function(o){return this.$CollectionThumbnail1=o}.bind(this),role:"button"},c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"cover",height:parseInt("140px",10),src:this.props.thumbnailURL,width:parseInt("140px",10)}),c("React").createElement("div",{className:"_3iom"},c("React").createElement("div",{className:"_3ion"},c("React").createElement(c("BackgroundImage.react"),{backgroundPosition:"100% 50%",className:"_1x7m",height:12,src:this.props.privacyIcon,width:12}),this.props.collectionName),c("React").createElement("div",{className:"_3ioo"},j._({"*":"{number of posts} posts","_1":"1 post"},[j.plural(this.props.numPosts,"number of posts")]))))};n.propTypes={collectionID:m.oneOfType([m.string,m.number]).isRequired,collectionName:m.string.isRequired,className:m.string,numPosts:m.number.isRequired,onClick:m.func,thumbnailURL:m.string.isRequired,privacyIcon:m.string};f.exports=n}),null);
__d("ProfileChannelAudienceType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PUBLIC:0,FRIENDS_ONLY:1,SECRET_WITH_FOLLOWERS:2})}),null);
__d("SharingSpacesFunnelLogging",["FunnelLogger","ProfileChannelAudienceType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="CHANNEL_EDIT_FUNNEL",i={startFunnel:function j(k){c("FunnelLogger").startFunnel(h);c("FunnelLogger").addFunnelTag(h,k)},logAction:function j(k){c("FunnelLogger").appendAction(h,k)},endFunnel:function j(k){c("FunnelLogger").addFunnelTag(h,k);c("FunnelLogger").endFunnel(h)},logPrivacyOptionSelected:function j(k){switch(k){case c("ProfileChannelAudienceType").FRIENDS_ONLY:i.logAction("select_privacy_closed");break;case c("ProfileChannelAudienceType").SECRET_WITH_FOLLOWERS:i.logAction("select_privacy_secret");break;default:throw new Error(k+" is an unhandled audience type in SharingSpacesFunnelLogging")}}};f.exports=i}),null);
__d("ReactComposerCollectionSelector.react",["ix","cssVar","cx","fbt","AccessibleLayer","BootloadedComponent.react","CollectionThumbnail.react","ContextualLayer.react","ContextualLayerAutoFlip","Grid.react","JSResource","ReactComposerAudienceActions","ReactComposerCollectionsActions","ReactComposerCollectionsStore","ReactComposerLoggingActions","ReactComposerLoggingName","InlineBlock.react","Image.react","LayerAutoFocus","LayerHideOnEscape","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerTabIsolation","Link.react","SharingSpacesFunnelLogging","SharingSpacesQEStrings","SharingSpacesStrings","ShimButton.react","XUIAmbientNUX.react","XUIButton.react","XUICard.react","XUICardHeader.react","XUICardHeaderTitle.react","XUICardSection.react","XUIPopoverButton.react","XUISpinner.react","ReactComposerContextTypes","React","ReactDOM","fbglyph","focusWithinLayer","ifRequired","isKeyActivation"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("Grid.react").GridItem;l=babelHelpers.inherits(o,c("React").PureComponent);m=l&&l.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.$ReactComposerCollectionSelector1=null,this.$ReactComposerCollectionSelector3=function(){if(!this.props.selectorVisible)c("ReactComposerCollectionsActions").showCollectionsSelector(this.context.composerID,c("ReactComposerLoggingName").COLLECTIONS_SELECTOR_BUTTON)}.bind(this),this.$ReactComposerCollectionSelector4=function(u){if(c("isKeyActivation")(u))this.$ReactComposerCollectionSelector5(u.nativeEvent)}.bind(this),this.$ReactComposerCollectionSelector5=function(u){c("ReactComposerAudienceActions").setCollectionID(this.context.composerID,c("ReactComposerLoggingName").COLLECTION_CLEAR_BUTTON,null);u.stopPropagation()}.bind(this),this.$ReactComposerCollectionSelector6=function(u){var v=arguments.length<=1||arguments[1]===undefined?c("ReactComposerLoggingName").OTHERS:arguments[1];if(!u&&this.props.selectorVisible)c("ReactComposerCollectionsActions").hideCollectionsSelector(this.context.composerID,v)}.bind(this),this.$ReactComposerCollectionSelector7=function(){c("ReactComposerCollectionsActions").hideCollectionsSelectorWithoutLogging(this.context.composerID);c("ReactComposerCollectionsActions").showCreationLayer(this.context.composerID,c("ReactComposerLoggingName").COLLECTIONS_SELECTOR_CREATE_BUTTON)}.bind(this),this.$ReactComposerCollectionSelector8=function(){c("ReactComposerCollectionsActions").hideCreationLayer(this.context.composerID,c("ReactComposerLoggingName").COLLECTIONS_CREATE_CANCEL_BUTTON,true);c("ReactComposerLoggingActions").collectionSelectorCancel(this.context.composerID,c("ReactComposerLoggingName").COLLECTIONS_CREATE_CANCEL_BUTTON)}.bind(this),this.$ReactComposerCollectionSelector9=function(u){c("ReactComposerCollectionsStore").addNewAlbum(this.context.composerID,u);c("ReactComposerCollectionsActions").hideCreationLayer(this.context.composerID,c("ReactComposerLoggingName").COLLECTIONS_CREATE_SUBMIT_BUTTON);c("ReactComposerLoggingActions").collectionSelectorDone(this.context.composerID,c("ReactComposerLoggingName").COLLECTIONS_CREATE_SUBMIT_BUTTON);this.$ReactComposerCollectionSelector10(u)}.bind(this),this.$ReactComposerCollectionSelector11=function(){c("ReactComposerCollectionsActions").hideCollectionsSelectorWithoutLogging(this.context.composerID);c("ReactComposerCollectionsActions").showSharingSpaceCreationLayer(this.context.composerID,c("ReactComposerLoggingName").COLLECTIONS_SELECTOR_CREATE_SHARING_SPACE_BUTTON);c("SharingSpacesFunnelLogging").startFunnel("entry_point_name_channel_picker")}.bind(this),this.$ReactComposerCollectionSelector12=function(){c("ReactComposerCollectionsActions").hideSharingSpaceCreationLayer(this.context.composerID,c("ReactComposerLoggingName").COLLECTIONS_CREATE_SHARING_SPACE_CANCEL_BUTTON,true);c("ReactComposerLoggingActions").collectionSelectorCancel(this.context.composerID,c("ReactComposerLoggingName").COLLECTIONS_CREATE_SHARING_SPACE_CANCEL_BUTTON)}.bind(this),this.$ReactComposerCollectionSelector13=function(u){var v=u.payload.collectionThumbnailData;c("ReactComposerCollectionsStore").addNewSharingSpace(this.context.composerID,v);c("ReactComposerLoggingActions").collectionSelectorDone(this.context.composerID,c("ReactComposerLoggingName").COLLECTIONS_CREATE_SHARING_SPACE_SUBMIT_BUTTON);this.$ReactComposerCollectionSelector10(v);c("ReactComposerCollectionsActions").hideSharingSpaceCreationLayer(this.context.composerID,c("ReactComposerLoggingName").COLLECTIONS_CREATE_SHARING_SPACE_SUBMIT_BUTTON)}.bind(this),q}o.prototype.componentDidUpdate=function(p,q){__p&&__p();if(this.props.selectorVisible&&!p.selectorVisible)if(this.props.selectedCollectionID){var r=c("ReactDOM").findDOMNode(this.refs[this.props.selectedCollectionID]);if(r!==null&&this.$ReactComposerCollectionSelector1!==null){var s=c("ReactDOM").findDOMNode(this.$ReactComposerCollectionSelector1);if(s!==null)s.scrollTop=r.offsetTop}}if(p.collections&&p.collections.isLoading()&&this.props.collections&&!this.props.collections.isLoading()){var t=c("ReactDOM").findDOMNode(this.$ReactComposerCollectionSelector2);t&&c("focusWithinLayer")(t,true)}};o.prototype.$ReactComposerCollectionSelector10=function(p){if(p.id==this.props.selectedCollectionID)c("ReactComposerAudienceActions").setCollectionID(this.context.composerID,c("ReactComposerLoggingName").COLLECTION_SELECTED,null);else c("ReactComposerAudienceActions").setCollectionID(this.context.composerID,c("ReactComposerLoggingName").COLLECTION_SELECTED,p.id,p.privacyLabel);this.$ReactComposerCollectionSelector6(false,c("ReactComposerLoggingName").COLLECTION_SELECTED);c("ifRequired")("ReactComposerPostToGroupActions",function(q){return q.unselectTab(this.context.composerID)}.bind(this))};o.prototype.$ReactComposerCollectionSelector14=function(p){if(p==null)return null;var q=c("ReactComposerCollectionsStore").getCollectionByID(this.context.composerID,p);if(q)return q.name;return null};o.prototype.$ReactComposerCollectionSelector15=function(p){if(p){var q=this.$ReactComposerCollectionSelector14(p);if(q)return q}return k._("+ Album").toString()};o.prototype.$ReactComposerCollectionSelector16=function(){return c("React").createElement(c("ShimButton.react"),{className:(!this.props.selectedCollectionID&&!this.props.canCreateSharingSpace?"autofocus":"")+" _2vw6 _1xp0",key:"addAlbumButton",onClick:this.$ReactComposerCollectionSelector7},c("React").createElement("div",{className:"_1xp2"},c("React").createElement("div",{className:"_1xp3"}),k._("Create Album")))};o.prototype.$ReactComposerCollectionSelector17=function(){return c("React").createElement(c("ShimButton.react"),{className:(!this.props.selectedCollectionID?"autofocus":"")+" _2vw6 _1xp0",key:"addSharingSpaceButton",onClick:this.$ReactComposerCollectionSelector11},c("React").createElement("div",{className:"_1xp2"},c("React").createElement("div",{className:"_1xp3"}),c("SharingSpacesStrings").SHOW_SPACE_CREATION_BUTTON_TEXT))};o.prototype.$ReactComposerCollectionSelector18=function(){return c("React").createElement("div",{key:"albumsNullState",className:"_1d5t"},c("React").createElement("span",{className:"_1d5u"}),c("React").createElement("div",{className:"_1d5v"},k._("No albums to show")),c("React").createElement(c("XUIButton.react"),{label:k._("Create Album"),use:"confirm",onClick:this.$ReactComposerCollectionSelector7}))};o.prototype.$ReactComposerCollectionSelector19=function(){return c("React").createElement("div",{key:"sharingSpacesNullState"},c("React").createElement("span",{className:"_1xp4"}),c("React").createElement("div",{className:"_1d5v"},k._("No spaces to show")),c("React").createElement(c("XUIButton.react"),{label:k._("Create Sharing Space"),use:"confirm",onClick:this.$ReactComposerCollectionSelector11}))};o.prototype.$ReactComposerCollectionSelector20=function(){var p=this.props.collections&&this.props.collections.getValue(),q=this.props.canCreateSharingSpace?this.$ReactComposerCollectionSelector17():null;return[c("React").createElement("h1",{key:"sharingSpacesHeader"},c("SharingSpacesQEStrings").contentProductNamePlural),!p||!p.sharingSpaces||p.sharingSpaces.length===0?this.$ReactComposerCollectionSelector19():this.$ReactComposerCollectionSelector21("sharingSpacesGrid",q,p.sharingSpaces)]};o.prototype.$ReactComposerCollectionSelector22=function(){var p=this.props.collections&&this.props.collections.getValue(),q=this.$ReactComposerCollectionSelector16();return[this.props.showSharingSpaces?c("React").createElement("h1",{key:"albumsHeader"},k._("Albums")):null,!p||!p.albums||p.albums.length===0?this.$ReactComposerCollectionSelector18():this.$ReactComposerCollectionSelector21("albumsGrid",q,p.albums)]};o.prototype.$ReactComposerCollectionSelector21=function(p,q,r){var s=[q];if(r)s.push(r.map(function(t){return c("React").createElement(n,{ref:t.id,key:t.id,className:t.id===this.props.selectedCollectionID?"_5zfq":""},c("React").createElement(c("CollectionThumbnail.react"),{className:t.id===this.props.selectedCollectionID?"autofocus":"",collectionID:t.id,collectionName:t.name,numPosts:t.numPosts,onClick:function(){return this.$ReactComposerCollectionSelector10(t)}.bind(this),thumbnailURL:t.thumbnailURL,privacyIcon:t.privacyIcon}))}.bind(this)));return c("React").createElement(c("Grid.react"),{key:p,className:"_1d5w",cols:2,fixed:false},s)};o.prototype.$ReactComposerCollectionSelector23=function(){if(!this.props.collections)return null;else return c("React").createElement(c("ContextualLayer.react"),{behaviors:{AccessibleLayer:c("AccessibleLayer"),ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),LayerAutoFocus:c("LayerAutoFocus"),LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape"),LayerFadeOnShow:c("LayerFadeOnShow"),LayerFadeOnHide:c("LayerFadeOnHide"),LayerTabIsolation:c("LayerTabIsolation")},contextRef:function(){return this.refs.collectionSelectorTrigger}.bind(this),onToggle:this.$ReactComposerCollectionSelector6,position:"below",shown:this.props.selectorVisible},c("React").createElement(c("XUICard.react"),{className:"_5ze9"},c("React").createElement(c("XUICardHeader.react"),{className:"_5zea",type:"primary"},c("React").createElement(c("XUICardHeaderTitle.react"),null,k._("Albums"))),c("React").createElement(c("XUICardSection.react"),{ref:function(p){return this.$ReactComposerCollectionSelector1=p}.bind(this),className:"_5zeh"},!this.props.collections||this.props.collections.isLoading()?c("React").createElement("div",{className:"_2n10"},c("React").createElement(c("XUISpinner.react"),{size:"large"})):c("React").createElement("div",{ref:function(p){return this.$ReactComposerCollectionSelector2=p}.bind(this)},this.props.showSharingSpaces?this.$ReactComposerCollectionSelector20():null,this.$ReactComposerCollectionSelector22()))))};o.prototype.$ReactComposerCollectionSelector24=function(){if(this.props.creationLayerVisible)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerCollectionCreationDialog.react").__setRef("ReactComposerCollectionSelector.react"),bootloadPlaceholder:c("React").createElement("span",null),composerID:this.context.composerID,dialogProps:{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide"),LayerFadeOnShow:c("LayerFadeOnShow")},causalElementRef:function(){return this.refs.collectionSelectorTrigger}.bind(this),shown:this.props.creationLayerVisible,width:parseInt("375px",10)},onCancel:this.$ReactComposerCollectionSelector8,onAlbumCreated:this.$ReactComposerCollectionSelector9});else return null};o.prototype.$ReactComposerCollectionSelector25=function(){if(this.props.sharingSpaceCreationLayerVisible)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerSharingSpaceCreationDialog.react").__setRef("ReactComposerCollectionSelector.react"),bootloadPlaceholder:c("React").createElement("span",null),composerID:this.context.composerID,dialogProps:{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide"),LayerFadeOnShow:c("LayerFadeOnShow")},causalElementRef:function(){return this.refs.collectionSelectorTrigger}.bind(this),shown:this.props.sharingSpaceCreationLayerVisible,width:parseInt("375px",10)},isCreationFriendsOptIn:this.context.gks&&this.context.gks.isCreationFriendsOptIn,onCancel:this.$ReactComposerCollectionSelector12,onSharingSpaceCreated:this.$ReactComposerCollectionSelector13,sharesheetPrivacyOptions:this.context.gks&&this.context.gks.sharesheetPrivacyOptions,showSecretPrivacyAsHidden:this.context.gks&&this.context.gks.showSecretPrivacyAsHidden,useEyeCrossForHidden:this.context.gks&&this.context.gks.useEyeCrossForHidden});else return null};o.prototype.$ReactComposerCollectionSelector26=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.collectionSelectorTrigger}.bind(this),shown:this.props.showAnyPostTypeNux,onCloseButtonClick:this.props.onAnyPostTypeNuxClose,position:this.props.alternateTriggerComponent?"below":"above"},k._("Now you can add posts, check-ins and more to albums"))};o.prototype.render=function(){var p=!!this.$ReactComposerCollectionSelector14(this.props.selectedCollectionID);return c("React").createElement(c("InlineBlock.react"),{className:"uiContextualLayerParent"},this.props.alternateTriggerComponent?c("React").createElement(c("Link.react"),{role:"button",onClick:this.$ReactComposerCollectionSelector3,ref:"collectionSelectorTrigger"},this.props.alternateTriggerComponent):c("React").createElement(c("XUIPopoverButton.react"),{className:"_5ze8",label:this.$ReactComposerCollectionSelector15(this.props.selectedCollectionID),onClick:this.$ReactComposerCollectionSelector3,ref:"collectionSelectorTrigger",use:"confirm",chevron:p?c("React").createElement(c("Image.react"),{onClick:this.$ReactComposerCollectionSelector5,onKeyDown:this.$ReactComposerCollectionSelector4,role:"button",src:h("114707"),tabIndex:0}):null}),this.$ReactComposerCollectionSelector23(),this.$ReactComposerCollectionSelector24(),this.$ReactComposerCollectionSelector25(),this.$ReactComposerCollectionSelector26())};o.defaultProps={collections:null,creationLayerVisible:false,sharingSpaceCreationLayerVisible:false,selectedCollectionID:null,selectorVisible:false,showAnyPostTypeNux:false};o.contextTypes=c("ReactComposerContextTypes");f.exports=o}),null);
__d("ReactComposerCollectionSelectorContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerAudienceStore","ReactComposerCollectionSelector.react","ReactComposerCollectionsStore","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","SimpleNUXMessage","SimpleNUXMessageTypes"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerCollectionSelectorContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAudienceStore"),c("ReactComposerCollectionsStore"))],propTypes:{alternateTriggerComponent:h.element,addAnyPostToAlbum:h.bool,canCreateSharingSpace:h.bool.isRequired,showSharingSpaces:h.bool.isRequired},statics:{calculateState:function j(k,l){return{collections:c("ReactComposerCollectionsStore").getCollections(k),selectedCollectionID:c("ReactComposerAudienceStore").getCollectionID(k),isSelectorVisible:c("ReactComposerCollectionsStore").isSelectorVisible(k),isCreationLayerVisible:c("ReactComposerCollectionsStore").isCreationLayerVisible(k),isSharingSpaceCreationLayerVisible:c("ReactComposerCollectionsStore").isSharingSpaceCreationLayerVisible(k),showAnyPostTypeNux:l.addAnyPostToAlbum&&!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").ALBUMSV2_ANY_POST_TYPE_WWW)}}},_onAnyPostTypeNuxClose:function j(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").ALBUMSV2_ANY_POST_TYPE_WWW);this.setState({showAnyPostTypeNux:false})},render:function j(){return c("React").createElement(c("ReactComposerCollectionSelector.react"),{alternateTriggerComponent:this.props.alternateTriggerComponent,collections:this.state.collections,creationLayerVisible:this.state.isCreationLayerVisible,sharingSpaceCreationLayerVisible:this.state.isSharingSpaceCreationLayerVisible,selectedCollectionID:this.state.selectedCollectionID,selectorVisible:this.state.isSelectorVisible,showAnyPostTypeNux:this.state.showAnyPostTypeNux,onAnyPostTypeNuxClose:this._onAnyPostTypeNuxClose,canCreateSharingSpace:this.props.canCreateSharingSpace,showSharingSpaces:this.props.showSharingSpaces})}});f.exports=i}),null);
__d("ProgressBarBase",["emptyFunction","requestAnimationFrame","removeFromArray"],(function a(b,c,d,e,f,g){__p&&__p();var h=[];function i(j,k){"use strict";__p&&__p();this._min=j||0;this._max=k||100;this._initialPosition=0;this._position=0;this._initialVelocity=0;this._velocity=0;this._acceleration=0;this.useAcceleration=true;this._targetPosition=0;this._targetTime=0;this._startTime=null;this._onComplete=c("emptyFunction")}i.prototype.setPosition=function(j){"use strict";j=this._normalizePosition(j);this._initialPosition=j;this._position=j;this.updateMeter(this._position);this.stop();return this};i.prototype.setCompleteHandler=function(j){"use strict";this._onComplete=j||c("emptyFunction");return this};i.prototype.setTarget=function(j,k){"use strict";__p&&__p();this._stopAnimating();this._clearOnCompleteTimeout();this._targetPosition=j;var l=this._normalizePosition(j);this._targetTime=k;this._initialVelocity=this._velocity;this._initialPosition=this._position;if(this.useAcceleration)this._acceleration=2*(l-this._initialPosition-this._initialVelocity*k)/(k*k);else{this._acceleration=0;this._velocity=this._initialVelocity=(l-this._initialPosition)/k}if(this._position>=l)this._onComplete();else this._start();return this};i.prototype.setNoAcceleration=function(j){"use strict";this.useAcceleration=!j;return this};i.prototype._clearOnCompleteTimeout=function(){"use strict";b.clearTimeout(this._onCompleteTimeout)};i.prototype.stop=function(){"use strict";this._clearOnCompleteTimeout();this._velocity=0;this._initialVelocity=0;this._acceleration=0;this._stopAnimating();return this};i.prototype._start=function(){"use strict";this._startTime=Date.now();this._onCompleteTimeout=b.setTimeout(function(){this.setPosition(this._targetPosition);this._onComplete()}.bind(this),this._targetTime);this._startAnimating();return this};i.prototype._loop=function(){"use strict";__p&&__p();var j=Date.now()-this._startTime;this._position=.5*this._acceleration*j*j+this._initialVelocity*j+this._initialPosition;var k=this._velocity;this._velocity=this._acceleration*j+this._initialVelocity;var l=k<0!==this._velocity<0;if(this._position>this._normalizePosition(this._targetPosition)||l){this.setPosition(this._targetPosition);this._onComplete()}else this.updateMeter(this._position)};i.prototype.updateMeter=function(j){"use strict";throw new Error("Unimplemented function: updateMeter")};i.prototype._normalizePosition=function(j){"use strict";return Math.min(Math.max((j-this._min)/(this._max-this._min),0),1)};i.prototype._startAnimating=function(){"use strict";if(!h.includes(this)){h.push(this);if(h.length===1)c("requestAnimationFrame")(i.prototype._requestAnimationFrameCallback)}};i.prototype._stopAnimating=function(){"use strict";c("removeFromArray")(h,this)};i.prototype._requestAnimationFrameCallback=function(){"use strict";h.forEach(function(j){j._loop()});if(h.length)c("requestAnimationFrame")(i.prototype._requestAnimationFrameCallback)};i.setPosition=function(j,k){"use strict";j.setPosition(k)};i.setTarget=function(j,k,l){"use strict";j.setTarget(k,l)};f.exports=i}),null);
__d("ProgressBar",["cx","csx","ProgressBarBase","CSS","Style","DOM"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("ProgressBarBase"));k=j&&j.prototype;function l(m,n,o){"use strict";k.constructor.call(this,n,o);this._root=m;this._meter=c("DOM").find(m,"div._5e4k");this._meter2=c("DOM").scry(m,"div._5e2g")[0]}l.prototype.getRoot=function(){"use strict";return this._root};l.prototype.updateMeter=function(m){"use strict";__p&&__p();var n=Math.min(Math.max(m,0),1);c("CSS").conditionClass(this._meter,"_5e2d",n<=0);c("CSS").conditionClass(this._meter,"_5e4j",n>=1);this._root.setAttribute("aria-valuenow",n*100);n=n*100+"%";c("Style").set(this._meter,"width",n);if(this._meter2){c("Style").set(this._meter2,"left",n);c("Style").set(this._meter2,"width",n)}};l.prototype.changeLabel=function(m){"use strict";var n=c("DOM").scry(this._root,"span._5e2h");n.forEach(function(o){c("DOM").setContent(o,m)});return this};f.exports=l}),null);
__d("ScrollColumnRenderer",["DOMContainer.react","React","ReactRenderer","ScrollColumn.react"],(function a(b,c,d,e,f,g){var h={init:function i(j,k,l){c("ReactRenderer").constructAndRenderComponentAcrossTransitions(c("ScrollColumn.react"),babelHelpers["extends"]({children:[c("React").createElement(c("DOMContainer.react"),{key:"content"},j)]},l),k)}};f.exports=h}),null);
__d("SearchSourceWithMetrics",["AbstractSearchSource"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this);this.searchSource=k;this.reporter=l}j.prototype.searchImpl=function(k,l,m){"use strict";this.reporter.reportQueryBegin(k);if(m)this.reporter.reportStrategyName(m.strategyName);var n=Date.now();this.searchSource.search(k,function(o,k){this.reporter.reportQueryComplete(Date.now()-n,0);l(o,k)}.bind(this),m)};j.prototype.bootstrapImpl=function(k){"use strict";this.reporter.reportBootstrapBegin();return this.searchSource.bootstrap(function(){this.searchSource.getBootstrappedEntries(function(l){this.reporter.reportBootstrapComplete(l.map(function(m){return m.getType()}));k()}.bind(this))}.bind(this))};f.exports=j}),null);
__d("AtSignMentionsStrategy",["DocumentMentionsRegex"],(function a(b,c,d,e,f,g){var h=c("DocumentMentionsRegex").PUNCTUATION,i=["@","\\uff20"].join(""),j="[^"+i+h+"\\s]",k="(?:\\.[ |$]| |["+h+"]|)",l=new RegExp("(?:^|\\s|\\()(["+i+"]((?:"+j+k+"){0,20}))$"),m={name:"AtSignMentionsStrategy",findMentionableString:function n(o){var p=l.exec(o);if(p!==null){var q=p[2];if(q.length)return{matchingString:q,leadOffset:p[1].length}}return null}};f.exports=m}),null);
__d("FilteredSearchSource",["AbstractSearchSource"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this);this.$FilteredSearchSource1=k;this.$FilteredSearchSource2=l}j.prototype.bootstrapImpl=function(k){"use strict";this.$FilteredSearchSource2.bootstrap(k)};j.prototype.searchImpl=function(k,l,m){"use strict";var n=function(o,p){o=this.$FilteredSearchSource3(o,p);l(o,p)}.bind(this);this.$FilteredSearchSource2.search(k,n,m)};j.prototype.$FilteredSearchSource3=function(k,l){"use strict";var m=this.$FilteredSearchSource1;return k.filter(function(n){return m(n,l)})};f.exports=j}),null);
__d("filterCapitalizedNames",["TokenizeUtil"],(function a(b,c,d,e,f,g){function h(l,m){return i(l)&&(m.length>=5||j(l,m))}function i(l){var m=l.getAuxiliaryData()||k;return!m.disableAutosuggest&&!!(l.getType()==="user"||m.connectedPage)}function j(l,m){return c("TokenizeUtil").isExactMatch(m,l.getTitle())}var k={};f.exports=h}),null);