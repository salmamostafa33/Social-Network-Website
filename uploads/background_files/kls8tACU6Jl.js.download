if (self.CavalryLogger) { CavalryLogger.start_js(["kNE5t"]); }

__d("InstreamVideoAdBreak",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$InstreamVideoAdBreak1=i.instreamPlacement;this.$InstreamVideoAdBreak2=i.index;this.$InstreamVideoAdBreak3=i.timeOffsetInMs;this.$InstreamVideoAdBreak4=i.adBreakDurationInMs;this.$InstreamVideoAdBreak5=i.isAdBreakAutoInserted}h.prototype.getInstreamPlacement=function(){return this.$InstreamVideoAdBreak1};h.prototype.getIndex=function(){return this.$InstreamVideoAdBreak2};h.prototype.getTimeOffsetInMs=function(){return this.$InstreamVideoAdBreak3};h.prototype.getAdBreakDurationInMs=function(){return this.$InstreamVideoAdBreak4};h.prototype.getIsAdBreakAutoInserted=function(){return this.$InstreamVideoAdBreak5};f.exports=h}),null);
__d("ServerHTML.react",["React"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){"use strict";var k=this.props,l=k.blob,m=babelHelpers.objectWithoutProperties(k,["blob"]);return typeof l==="string"?c("React").createElement("div",m,l):c("React").createElement("div",babelHelpers["extends"]({},m,{dangerouslySetInnerHTML:l}))};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("PopoverAsyncMenu.react",["cx","CSS","InlineBlock.react","MenuTheme","Popover","PopoverAsyncMenu","PopoverLoadingMenu","PopoverMenu.react","React","ReactDOM","URI","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.getPopoverMenu=function(){return this.$ReactPopoverAsyncMenu2}.bind(this),this.$ReactPopoverAsyncMenu3=function(){var r=c("ReactDOM").findDOMNode(this.refs.root),s=r.firstChild;return new(c("PopoverAsyncMenu"))(this.$ReactPopoverAsyncMenu1,s,this.props.loadingMenu,this.props.endpoint,this.props.behaviors,this.props.endpointData)}.bind(this),this.getMenu=function(){return this.$ReactPopoverAsyncMenu2.getMenu()}.bind(this),this.showPopover=function(r){this.$ReactPopoverAsyncMenu1.showLayer();if(r){var s=this.$ReactPopoverAsyncMenu2.getMenu();s.blur();s.focusAnItem(r)}}.bind(this),this.hidePopover=function(){var r=this.$ReactPopoverAsyncMenu1;if(r&&r.isShown())r.hideLayer()}.bind(this),this.getFocusedItem=function(){var r=this.$ReactPopoverAsyncMenu2.getMenu();return r.getFocusedItem()}.bind(this),n}l.prototype.componentDidMount=function(){"use strict";var m=c("ReactDOM").findDOMNode(this.refs.root),n=m.firstChild;c("CSS").addClass(n,"_p");this.$ReactPopoverAsyncMenu1=new(c("Popover"))(m,n,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled});if(this.props.onShow)this.$ReactPopoverAsyncMenu1.subscribe("show",this.props.onShow);if(this.props.onHide)this.$ReactPopoverAsyncMenu1.subscribe("hide",this.props.onHide);this.$ReactPopoverAsyncMenu2=this.$ReactPopoverAsyncMenu3()};l.prototype.componentDidUpdate=function(m){"use strict";__p&&__p();if(this.props.alignh!==m.alignh)this.$ReactPopoverAsyncMenu2.getPopover().getLayer().setAlignment(this.props.alignh);if(this.props.disabled!==m.disabled)if(this.props.disabled)this.$ReactPopoverAsyncMenu2.disable();else this.$ReactPopoverAsyncMenu2.enable();if(this.props.endpoint.toString()!==m.endpoint.toString()){this.hidePopover();this.$ReactPopoverAsyncMenu2=this.$ReactPopoverAsyncMenu3()}};l.prototype.render=function(){"use strict";var m=c("React").Children.map(this.props.children,function(n,o){if(o===0)return c("React").cloneElement(n,{className:c("joinClasses")(n.props.className,"_p")});else return n});return c("React").createElement(c("InlineBlock.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"uiPopover"),ref:"root",disabled:null}),m)};l.prototype.componentWillUnmount=function(){"use strict";this.hidePopover()};l.getButtonSize=c("PopoverMenu.react").getButtonSize;l.propTypes={alignh:k.oneOf(["left","center","right"]),alignv:k.oneOf(["baseline","bottom","middle","top"]),position:k.oneOf(["above","below","left","right"]),layerBehaviors:k.array,loadingMenu:k.instanceOf(c("PopoverLoadingMenu")),disabled:k.bool,endpoint:k.oneOfType([k.string.isRequired,k.instanceOf(c("URI")).isRequired]),endpointData:k.object,onShow:k.func,onHide:k.func};l.defaultProps={alignv:"middle",loadingMenu:new(c("PopoverLoadingMenu"))({theme:c("MenuTheme")})};f.exports=l}),null);
__d("CommercialBreakCallToActionAttachment.react",["cx","React","TrackingNodes","XUIText.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";if(!this.props.link||!this.props.linkCaption&&!this.props.linkTitle)return null;var l=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.INSTREAM_CALL_TO_ACTION_ATTACHMENT);return c("React").createElement("div",{className:"_1y4d","data-ft":l},c("React").createElement(c("XUIText.react"),{className:"_1y4e"},this.props.linkTitle),c("React").createElement(c("XUIText.react"),{className:"_1y4g",style:{paddingTop:this.props.linkTitle?"12px":"0px",display:this.props.linkCaption?"inherit":"none"}},this.props.linkCaption),c("React").createElement("a",{className:"_275_",href:this.props.link,target:"_blank",onClick:this.props.onClick}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("CommercialBreakCallToActionLocation",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CONTEXT_CARD:"context_card",INLINE:"inline"})}),null);
__d("CommercialBreakCallToActionButton.react",["cx","CallToActionTypes","CommercialBreakCallToActionLocation","React","SUIButton.react","TrackingNodes","SUIBusinessTheme","ServerHTML.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";if(this.props.callToActionType===c("CallToActionTypes").NO_BUTTON)return null;var l=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.INSTREAM_CALL_TO_ACTION_BUTTON);switch(this.props.buttonLocation){case c("CommercialBreakCallToActionLocation").INLINE:return c("React").createElement("a",{onClick:this.props.onClick,href:this.props.link,"data-ft":l,target:"_blank"},c("React").createElement(c("ServerHTML.react"),{blob:this.props.callToActionText,className:"_44mp"}));case c("CommercialBreakCallToActionLocation").CONTEXT_CARD:return c("React").createElement(c("SUIButton.react"),{label:c("React").createElement(c("ServerHTML.react"),{blob:this.props.callToActionText}),href:{url:this.props.link},target:"_blank","data-ft":l,theme:c("SUIBusinessTheme"),onClick:this.props.onClick});default:return null}};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("AdBreakClickSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CALL_TO_ACTION_BUTTON:"CALL_TO_ACTION_BUTTON",CALL_TO_ACTION_BUTTON_ON_VIDEO:"CALL_TO_ACTION_BUTTON_ON_VIDEO",SPONSOR_CONTEXT_CARD:"SPONSOR_CONTEXT_CARD",LINK_CONTEXT_CARD:"LINK_CONTEXT_CARD",PROFILE:"PROFILE"})}),null);
__d("CommercialBreakContextCard.react",["ix","cx","fbt","AdBreakClickSource","AsyncRequest","CenteredContainer.react","CommercialBreakCallToActionAttachment.react","CommercialBreakCallToActionButton.react","CommercialBreakCallToActionLocation","CommercialBreakMobileEvent","CommercialBreakUtil","Image.react","LayerFadeOnHide","PopoverAsyncMenu.react","React","RoundImage.react","VideoPlayerLoggerSource","XBasicFBNuxDismissController","XBasicFBNuxViewController","XUIAmbientNUX.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){"use strict";__p&&__p();l.constructor.call(this);this.state={inforCardShown:false,infoCardNuxShown:false};this.$CommercialBreakContextCard14=function(){if(this.props.infoCardNuxID){var n=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",this.props.infoCardNuxID).getURI();new(c("AsyncRequest"))().setURI(n).send()}this.setState({infoCardNuxShown:false})}.bind(this);this.$CommercialBreakContextCard1=null;this.$CommercialBreakContextCard2=null;this.$CommercialBreakContextCard3=false}m.prototype.componentDidMount=function(){"use strict";if(!this.$CommercialBreakContextCard2)this.$CommercialBreakContextCard2=this.props.hostVPC.addListener("commercialBreak/showUFI",this.$CommercialBreakContextCard4.bind(this));if(this.props.infoCardNuxID&&!this.state.infoCardNuxShown)this.setState({infoCardNuxShown:true})};m.prototype.componentWillUnmount=function(){"use strict";if(this.$CommercialBreakContextCard2)this.$CommercialBreakContextCard2.remove();this.$CommercialBreakContextCard2=null};m.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_36l3"},this.$CommercialBreakContextCard5(),this.$CommercialBreakContextCard6())};m.prototype.$CommercialBreakContextCard5=function(){"use strict";if(this.props.callToAction&&this.props.config.isDREnabled&&this.props.config.sponsorLocation!==c("CommercialBreakCallToActionLocation").CONTEXT_CARD)return null;return c("React").createElement("div",{className:"_1y8j"},c("React").createElement("div",{className:"_1y8k"},c("React").createElement("a",{href:this.props.profileLink,target:"_blank"},c("React").createElement(c("Image.react"),{style:{display:"block"},height:"40",width:"40",src:this.props.profilePicURI}))),c("React").createElement("div",{className:"_1y8n"},c("React").createElement("div",{className:"_1y8v"},c("React").createElement("div",{className:"_1y8w"},c("React").createElement("a",{href:this.props.profileLink,target:"_blank"},this.props.profileName)),c("React").createElement("div",{className:"_1y8x"},j._("Sponsored")))),c("React").createElement("div",{className:"_2n2q"},this.$CommercialBreakContextCard7(),this.$CommercialBreakContextCard8(),this.$CommercialBreakContextCard9()))};m.prototype.$CommercialBreakContextCard8=function(){"use strict";if(!this.props.hostVideoOwnerPageProfileName||!this.props.hostVideoOwnerPageProfileImageURI)return null;if(this.props.hostVPC.getSource()===c("VideoPlayerLoggerSource").TAHOE||this.props.config.isDREnabled&&this.props.callToAction&&this.props.config.ctaButtonLocation===c("CommercialBreakCallToActionLocation").CONTEXT_CARD)return null;return c("React").createElement("div",{className:"_1z7o",role:"presentation",onClick:this.$CommercialBreakContextCard10.bind(this),ref:"infoButton"},this.$CommercialBreakContextCard11(),this.$CommercialBreakContextCard12(),c("React").createElement(c("Image.react"),{src:h("124739")}))};m.prototype.$CommercialBreakContextCard10=function(){"use strict";this.setState({inforCardShown:true,infoCardNuxShown:false});c("CommercialBreakUtil").logMarauderEvent(this.props.hostVPC,c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_CONTEXT_CARD_INFO_BUTTON_CLICK)};m.prototype.$CommercialBreakContextCard13=function(){"use strict";this.setState({inforCardShown:false})};m.prototype.$CommercialBreakContextCard11=function(){"use strict";return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},isStrictlyControlled:true,shown:this.state.inforCardShown,onHide:this.$CommercialBreakContextCard13.bind(this),width:400},c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement(c("XUIText.react"),{weight:"bold"},j._("Why You're Seeing Ads in Videos"))),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("CenteredContainer.react"),null,c("React").createElement("div",{className:"_1z7p"},c("React").createElement(c("RoundImage.react"),{src:this.props.hostVideoOwnerPageProfileImageURI,width:56,height:56})),c("React").createElement("div",{className:"_1z7q"},j._("{profile_name} paused their video for an ad break. Ad breaks are a way for video creators to earn money on Facebook.",[j.param("profile_name",c("React").createElement("strong",null,this.props.hostVideoOwnerPageProfileName))])))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})))};m.prototype.$CommercialBreakContextCard12=function(){"use strict";__p&&__p();if(!this.props.infoCardNuxID)return null;if(this.state.infoCardNuxShown&&!this.$CommercialBreakContextCard3){var n=c("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",this.props.infoCardNuxID).getURI();new(c("AsyncRequest"))().setURI(n).send();this.$CommercialBreakContextCard3=true}return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.infoButton}.bind(this),shown:this.state.infoCardNuxShown,position:"below",width:"auto",alignment:"right",onCloseButtonClick:this.$CommercialBreakContextCard14},j._("About ads in videos"))};m.prototype.$CommercialBreakContextCard9=function(){"use strict";if(!this.props.chevronButtonID||!this.props.instreamVideoOptionMenuURI)return null;if(this.props.hostVPC.getSource()===c("VideoPlayerLoggerSource").TAHOE||this.props.config.isDREnabled&&this.props.callToAction&&this.props.config.ctaButtonLocation===c("CommercialBreakCallToActionLocation").CONTEXT_CARD)return null;return c("React").createElement("div",{className:"_1cx5"},c("React").createElement(c("PopoverAsyncMenu.react"),{alignh:"center",alignv:"bottom",position:"above",endpoint:this.props.instreamVideoOptionMenuURI,id:this.props.chevronButtonID,layerBehaviors:[],ref:function(n){this.$CommercialBreakContextCard1=n}.bind(this)},c("React").createElement(c("Image.react"),{src:h("123796")})))};m.prototype.$CommercialBreakContextCard7=function(){"use strict";var n=this.props.callToAction;if(!this.props.config.isDREnabled||!n||this.props.config.ctaButtonLocation!==c("CommercialBreakCallToActionLocation").CONTEXT_CARD)return null;return c("React").createElement("div",{className:"_11_p"},c("React").createElement(c("CommercialBreakCallToActionButton.react"),{buttonLocation:this.props.config.ctaButtonLocation,callToActionType:n.ctaType,callToActionText:n.ctaFbt,link:n.link,onClick:this.$CommercialBreakContextCard15.bind(this)}))};m.prototype.$CommercialBreakContextCard15=function(){"use strict";c("CommercialBreakUtil").logMarauderEvent(this.props.hostVPC,c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_CLICK,{ad_break_click_source:c("AdBreakClickSource").CALL_TO_ACTION_BUTTON});this.props.hostVPC.emit("commercialBreak/CTAClicked")};m.prototype.$CommercialBreakContextCard6=function(){"use strict";var n=this.props.callToAction;if(!this.props.config.isDREnabled||!n)return null;return c("React").createElement(c("CommercialBreakCallToActionAttachment.react"),{link:n.link,linkTitle:n.linkTitle,linkCaption:n.linkCaption,onClick:this.$CommercialBreakContextCard16.bind(this)})};m.prototype.$CommercialBreakContextCard16=function(){"use strict";c("CommercialBreakUtil").logMarauderEvent(this.props.hostVPC,c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_CLICK,{ad_break_click_source:c("AdBreakClickSource").SPONSOR_CONTEXT_CARD});this.props.hostVPC.emit("commercialBreak/CTAClicked")};m.prototype.$CommercialBreakContextCard4=function(){"use strict";if(this.$CommercialBreakContextCard1)this.$CommercialBreakContextCard1.hidePopover()};f.exports=m}),null);
__d("CommercialBreakUtil",["csx","CommercialBreakContextCard.react","CommercialBreakExperiments","DataStore","DOM","React","ReactDOM"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();f.exports={renderContextCard:function i(j,k){__p&&__p();if(k===null)return;var l=j.getOption("VideoWithInstreamVideo","controller"),m=j.getOption("VideoWithCommercialBreak","controller"),n=l&&l.getAdController(),o=l&&l.getConfig();if(o&&!o.isBroadcast&&n){var p=JSON.parse(c("DataStore").get(n.getRootNode(),"store"));if(p&&Object.prototype.hasOwnProperty.call(p,"profileName")&&Object.prototype.hasOwnProperty.call(p,"profilePicURI")&&Object.prototype.hasOwnProperty.call(p,"profileLink")){var q=null,r=m&&m.getContextCardTrackingWrapper();if(r){var s=c("DOM").setContent(k,r);if(s.length!=0)q=s[0]}var t=m&&m.getCallToAction(),u=t&&t.adVideoID&&t.adVideoID.toString();if(n.getVideoID()!==u)t=null;var v=null,w=null,x=null,y=null,z=null;if(c("CommercialBreakExperiments").instreamAdsNFXOnContextCard){v=m&&m.getChevronButtonID();w=m&&m.getInstreamVideoOptionMenuURI()}if(c("CommercialBreakExperiments").instreamAdsInfoCard){x=o&&o.hostVideoOwnerPageProfileName;y=o&&o.hostVideoOwnerPageProfileImageURI;z=m&&m.getInfoCardNuxID()}c("ReactDOM").render(c("React").createElement(c("CommercialBreakContextCard.react"),{callToAction:t,config:o,hostVPC:j,profileName:p.profileName,profilePicURI:p.profilePicURI,profileLink:p.profileLink,chevronButtonID:v,instreamVideoOptionMenuURI:w,hostVideoOwnerPageProfileName:x,hostVideoOwnerPageProfileImageURI:y,infoCardNuxID:z}),q?q:k)}}},removeContextCard:function i(j){if(!j)return;var k=c("DOM").find(j,"._36l3");if(k)c("ReactDOM").unmountComponentAtNode(k.parentNode);c("DOM").remove(j)},logMarauderEvent:function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],m=j.getOption("VideoWithInstreamVideo","controller");m&&m.logMarauderEvent(k,l)}}}),null);
__d("CommercialBreakNoAdReason",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NO_VIDEO_AD:"no_video_ad",TIME_SPENT_INSUFFICIENT:"time_spent_insufficient",PLAYBACK_ERROR:"playback_error",HIDE_AD:"hide_ad",WAIT_FOR_FAILED:"wait_for_failed",SPONSORED_STORY:"sponsored_story",CONTROL_GROUP:"control_group",DUPLICATE_VIDEO:"duplicate_video",INACTIVE_TAB:"inactive_tab",IS_COMMENTING:"is_commenting",SCRUBBER_FETCH_INCOMPLETE:"scrubber_fetch_incomplete"})}),null);
__d("CommercialBreakExposureLogger",["CommercialBreakMobileEvent","CommercialBreakNoAdReason","DateConsts","InstreamVideoAdType","MarauderLogger","QE","SubscriptionsHandler"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l,m,n){"use strict";__p&&__p();this.$CommercialBreakExposureLogger1=i;this.$CommercialBreakExposureLogger2=j;this.$CommercialBreakExposureLogger3=k;this.$CommercialBreakExposureLogger4=l;this.$CommercialBreakExposureLogger5=m;this.$CommercialBreakExposureLogger6=n;this.$CommercialBreakExposureLogger7=new(c("SubscriptionsHandler"))();if(k&&l)this.$CommercialBreakExposureLogger7.addSubscriptions(this.$CommercialBreakExposureLogger1.addListener("updateStatus",this.$CommercialBreakExposureLogger8.bind(this)))}h.prototype.$CommercialBreakExposureLogger8=function(){"use strict";__p&&__p();var i=this.$CommercialBreakExposureLogger1.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC;for(var j=0;j<this.$CommercialBreakExposureLogger3.length;j++){var k=this.$CommercialBreakExposureLogger3[j].getTimeOffsetInMs()||0;if(i<=k&&i+this.$CommercialBreakExposureLogger6>k){this.$CommercialBreakExposureLogger7.release();c("QE").logExposure(this.$CommercialBreakExposureLogger4);if(!this.$CommercialBreakExposureLogger5){var l={ad_break_index:this.$CommercialBreakExposureLogger3[j].getIndex(),commercial_break_no_ad_reason:c("CommercialBreakNoAdReason").CONTROL_GROUP,host_video_id:this.$CommercialBreakExposureLogger1.getVideoID(),instream_video_ad_type:this.$CommercialBreakExposureLogger2?c("InstreamVideoAdType").VOD:c("InstreamVideoAdType").NONLIVE};c("MarauderLogger").log(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START_SHOW_NOTHING,"commercial_break",l)}return}}};f.exports=h}),null);
__d("CommercialBreakState",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INIT:"INIT",PREPARE:"PREPARE",AD_REQUEST_SENT:"AD_REQUEST_SENT",CB_SCHEDULED:"CB_SCHEDULED",ENTERING_TRANSITION:"ENTERING_TRANSITION",PLAY_AD_COUNTDOWN:"PLAY_AD_COUNTDOWN",LEAVING_TRANSITION:"LEAVING_TRANSITION",VOD_BREAK_WITH_NO_VIDEO_AD:"VOD_BREAK_WITH_NO_VIDEO_AD"})}),null);