if (self.CavalryLogger) { CavalryLogger.start_js(["O9Ghq"]); }

__d("TicketTierSaleRelayStatus",[],(function a(b,c,d,e,f,g){f.exports={PRE_SALE:"PRE_SALE",ON_SALE:"ON_SALE",POST_SALE:"POST_SALE",SOLD_OUT:"SOLD_OUT"}}),null);
__d("PagesMessagingChatTabRef",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAGE_HEADER:"page_header",PAGES_INFO:"pages_info",ABOUT_ROW:"about_row",CONTEXT_CARD:"context_card",RHS_PAGELET:"rhs_pagelet",CRISIS_SUPPORT_UI:"crisis_support_ui",LOCAL_SERPS:"local_serps",PROSERVICES_SEARCH_ENTITY_CARD:"proservices_search_entity_card",SEARCH_ENTITY_CARD:"search_entity_card",FEED_STORY:"feed_story",FEED_STORY_SEARCH:"feed_story_search",FEED_STORY_ATTACHMENT:"feed_story_attachment",HOVER_CARD:"hover_card",CONTEXTUAL_RECOMMENDATIONS:"contextual_recommendations",DEFAULT:"default",SAVED_DASHBOARD:"saved_dashboard",FREQUENTLY_ASKED_QUESTIONS_CARD:"frequently_asked_questions_card",PYMM_RHC:"pymm_rhc",PYMM_PAGES_BROWSER:"pymm_pages_browser",GROUPS_RHC:"groups_rhc",EVENT_PERMALINK:"event_permalink"})}),null);
__d("EventSelfServeMessageButton.react",["ix","fbt","Bootloader","EventsActionsLogger","Image.react","Link.react","PageCallToActionRef","PagesMessagingChatTabRef","XUIButton.react","fbglyph","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.componentWillMount=function(){var m=this.props,n=m.actionContext,o=m.eventID,p=m.sessionID,q=m.target;c("EventsActionsLogger").log(o,{type:c("EventsActionsLogger").Type.VIEW,target:q,target_id:o,acontext:n},{session_id:p})};l.prototype.$EventSelfServeMessageButton1=function(m){c("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions","MercuryIDs"],function(s,t,u){var v=u.getThreadIDFromUserID(m);t.openTab(v,["fb_page_cta_"+c("PageCallToActionRef").EVENT_PERMALINK]);s.logUserClickOpen(c("PagesMessagingChatTabRef").EVENT_PERMALINK,m)},"EventSelfServeMessageButton.react");var n=this.props,o=n.actionContext,p=n.eventID,q=n.sessionID,r=n.target;c("EventsActionsLogger").log(p,{type:c("EventsActionsLogger").Type.CLICK,target:r,target_id:p,acontext:o},{session_id:q})};l.prototype.render=function(){__p&&__p();var m=this.props.target;if(m===c("EventsActionsLogger").Target.SELF_SERVE_REQUEST_TICKETS_BUTTON){var n=i._("Request Tickets");return c("React").createElement(c("XUIButton.react"),{onClick:function(){return this.$EventSelfServeMessageButton1(this.props.pageID)}.bind(this),size:"large",image:c("React").createElement(c("Image.react"),{src:h("139878")}),label:n,action:"confirm",use:"confirm",ref:"message_host_button"})}else if(m===c("EventsActionsLogger").Target.SELF_SERVE_MESSAGE_LINK)return c("React").createElement(c("Link.react"),{onClick:function(){return this.$EventSelfServeMessageButton1(this.props.pageID)}.bind(this),target:"_blank"},i._("Message Host"));return null};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("XEventTicketURIClickedAsyncLogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/events/ticket/",{event_id:{type:"Int"},clicked_ticket_info_id:{type:"Int"},action_context:{type:"StringToStringMap"},is_onsite_ticket_click:{type:"Bool",defaultValue:false}})}),null);
__d("EventTicketURIClickedAsyncLog",["Event","AsyncRequest","XEventTicketURIClickedAsyncLogController"],(function a(b,c,d,e,f,g){var h={onClick:function i(j,k,l,m){c("Event").listen(j,"click",function(){var n=c("XEventTicketURIClickedAsyncLogController").getURIBuilder().setInt("event_id",k).setInt("clicked_ticket_info_id",l).setStringToStringMap("action_context",m).getURI();new(c("AsyncRequest"))().setURI(n).send()})}};f.exports=h}),null);
__d("EventTicketingSelfServeMessageRowContainerQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"eventID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"eventID",type:"ID!"}],k={kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},n={kind:"InlineFragment",type:"Page",selections:[{kind:"ScalarField",alias:null,name:"messenger_platform_responsiveness_text",args:null,storageKey:null}]},o={kind:"ScalarField",alias:null,name:"ticket_setting_type",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"messaging_type",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"EventTicketingSelfServeMessageRowContainerQuery",id:"1470058849775522",text:null,metadata:{},fragment:{kind:"Fragment",name:"EventTicketingSelfServeMessageRowContainerQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:"event",name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"InlineFragment",type:"Event",selections:[{kind:"LinkedField",alias:null,name:"event_creator",storageKey:null,args:null,concreteType:null,plural:false,selections:[k,l,m,n]},{kind:"LinkedField",alias:null,name:"ticket_settings",storageKey:null,args:null,concreteType:"EventTicketSettingFromEventConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"EventTicketSetting",plural:true,selections:[o,p]}]}]}]}]},operation:{kind:"Operation",name:"EventTicketingSelfServeMessageRowContainerQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:"event",name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[q,l,{kind:"InlineFragment",type:"Event",selections:[{kind:"LinkedField",alias:null,name:"event_creator",storageKey:null,args:null,concreteType:null,plural:false,selections:[q,k,l,m,n]},{kind:"LinkedField",alias:null,name:"ticket_settings",storageKey:null,args:null,concreteType:"EventTicketSettingFromEventConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"EventTicketSetting",plural:true,selections:[o,p,l]}]}]}]}]}}}();f.exports=h}),null);
__d("EventTicketFeeCategory",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SERVICE:"SERVICE",PROCESSING:"PROCESSING",ROYALTY:"ROYALTY",FACILITY:"FACILITY",DELIVERY:"DELIVERY",TAX:"TAX"})}),null);
__d("EventTicketFeeType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({UNIT:"UNIT",FIXED:"FIXED"})}),null);
__d("EventTicketType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ONSITE_TICKET:"ONSITE_TICKET",REGISTRATION:"REGISTRATION"})}),null);
__d("TicketTierSaleStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PRE_SALE:"pre_sale",ON_SALE:"on_sale",POST_SALE:"post_sale",SOLD_OUT:"sold_out"})}),null);
__d("EventTicketingUtil",["cx","fbt","EventTicketFeeCategory","EventTicketFeeType","EventTicketType","Map","PECurrency","React","TicketTierSaleRelayStatus","TicketTierSaleStatus","formatDate"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=2592e6,k={getYourTicketOrdersText:function l(m,n){if(m==c("EventTicketType").REGISTRATION)return i._({"Order":"Your Registration Order","Orders":"Your Registration Orders"},[i["enum"](n===1?"Order":"Orders",{Order:"Order",Orders:"Orders"})]);return i._({"Order":"Your Ticket Order","Orders":"Your Ticket Orders"},[i["enum"](n===1?"Order":"Orders",{Order:"Order",Orders:"Orders"})])},getTicketQuantityText:function l(m,n){if(n==c("EventTicketType").REGISTRATION)return i._({"*":{"*":"{number of tickets purchased} Guests","_1":"{number of tickets purchased} Guest"}},[i.param("number of tickets purchased",m,[0]),i.plural(m)]);return i._({"*":{"*":"{number of tickets purchased} Tickets","_1":"{number of tickets purchased} Ticket"}},[i.param("number of tickets purchased",m,[0]),i.plural(m)])},getTicketQuantityAndNameText:function l(m,n){return i._({"*":"{number of tickets purchased} {ticket name}"},[i.param("number of tickets purchased",m,[0]),i.param("ticket name",n)])},getTransactionDateText:function l(m,n){var o=new Date(m*1e3);if(n==c("EventTicketType").REGISTRATION)return i._("Registered on {formatted date}",[i.param("formatted date",c("formatDate")(o,"M d, Y"))]);return i._("Purchased on {formatted date}",[i.param("formatted date",c("formatDate")(o,"M d, Y"))])},getViewOrderText:function l(m){if(m==c("EventTicketType").REGISTRATION)return i._("Registration Order");return i._("Ticket Order")},getTicketsByProviderSentence:function l(m){return i._("Tickets by {ticket provider}",[i.param("ticket provider",m)])},getEventHostedBySentence:function l(m){return i._("Hosted by {ticket provider}",[i.param("ticket provider",m)])},getSeeReceiptText:function l(){return i._("See Receipt")},getTicketOrRegistrationText:function l(m){if(m==c("EventTicketType").REGISTRATION)return i._("Registrants");return i._("Tickets")},getOrderText:function l(){return i._("Order")},getNameText:function l(){return i._("Name")},getConfirmationSentToText:function l(){return i._("Confirmation sent to")},getRowText:function l(){return i._("Row")},getSeatText:function l(){return i._("Seat")},getSubtotalText:function l(){return i._("Subtotal")},getTotalText:function l(){return i._("Total")},getTicketIndexText:function l(m,n){return i._({"*":{"*":"{current index} of {total count}"}},[i.param("current index",m,[0]),i.param("total count",n,[0])])},getSelectTicketsText:function l(){return i._("Select Tickets")},getPurchaseButtonText:function l(m){if(m==c("EventTicketType").REGISTRATION)return i._("Register");return i._("Get Tickets")},getContinueText:function l(){return i._("Continue")},getCancelText:function l(){return i._("Cancel")},getOrBuyOffsiteLinkText:function l(m){return i._("Or purchase tickets on {partner's website name} website",[i.param("partner's website name",m)])},getLoadingSeatingImageText:function l(){return i._("Loading the seating image for this event...")},getNotFoundSeatingImageText:function l(){return i._("Sorry, this seating image is not available at this time.")},getTicketTierPriceLabel:function l(m){if(m.price.amount===0)return i._("Free");return c("PECurrency").formatAmount(m.price.currency,m.price.amount,true,false,false)},getTicketTierPriceSubLabel:function l(m){if(m.price.amount===0)return null;return i._("each")},getTicketTierSaleEndTimeInfo:function l(m,n,o){if(!m||o&&m*1e3-Date.now()>j)return null;var p=new Date(m*1e3),q=c("formatDate")(p,"M d"),r=p.getMinutes()===0?c("formatDate")(p,"g A"):c("formatDate")(p,"g:i A");if(n==c("EventTicketType").REGISTRATION)return i._("Registrations end on {date} at {time}",[i.param("date",q),i.param("time",r)]);return i._("Sales end on {date} at {time}",[i.param("date",q),i.param("time",r)])},getTicketTierSaleStartTimeInfo:function l(m,n){var o=new Date(m*1e3),p=c("formatDate")(o,"M d"),q=o.getMinutes()===0?c("formatDate")(o,"g A"):c("formatDate")(o,"g:i A");if(n==c("EventTicketType").REGISTRATION)return i._("Registrations start on {date} at {time}",[i.param("date",p),i.param("time",q)]);return i._("Sales start on {date} at {time}",[i.param("date",p),i.param("time",q)])},getMinSelectionRequiredText:function l(m){return i._("{number of tickets} tickets minimum",[i.param("number of tickets",m)])},getProcessingOrderText:function l(m,n){if(n==c("EventTicketType").REGISTRATION||!m)return i._("Processing Order");return i._("Your order is being processed by {ticket provider name}.",[i.param("ticket provider name",m)])},getTicketNoLongerAvailableText:function l(m){switch(m){case c("TicketTierSaleRelayStatus").SOLD_OUT:return i._("Sold Out");default:return i._("Not Available")}},getNumOfTicketsPurchasedText:function l(m,n){if(m==c("EventTicketType").REGISTRATION)return i._({"*":{"ticket":"{number of tickets} ticket purchased","tickets":"{number of tickets} tickets purchased"}},[i.param("number of tickets",n,[0]),i["enum"](n===1?"ticket":"tickets",{ticket:"ticket",tickets:"tickets"})]);return i._({"*":{"ticket":"{number of tickets} ticket purchased","tickets":"{number of tickets} tickets purchased"}},[i.param("number of tickets",n,[0]),i["enum"](n===1?"ticket":"tickets",{ticket:"ticket",tickets:"tickets"})])},getBuyOnPartnerWebsiteText:function l(m){return i._("Buy on {ticket provider name} website",[i.param("ticket provider name",m)])},getSeeMoreTicketOptions:function l(m){return i._({"*":"{number of tickets} more ticket options"},[i.param("number of tickets",m,[0])])},renderPriceLabel:function l(m){if(m.price.amount!==0){var n=c("PECurrency").formatAmount(m.price.currency,m.price.amount,true,false,false);return i._("{price} each",[i.param("price",n)])}return i._("Free")},renderLabelForFeeCategory:function l(m){switch(m){case c("EventTicketFeeCategory").SERVICE:return i._("Service fee");case c("EventTicketFeeCategory").PROCESSING:return i._("Processing fee");case c("EventTicketFeeCategory").ROYALTY:return i._("Royaly fee");case c("EventTicketFeeCategory").FACILITY:return i._("Facility fee");case c("EventTicketFeeCategory").DELIVERY:return i._("Delivery fee");case c("EventTicketFeeCategory").TAX:return i._("Tax");default:return null}},renderSelectorContent:function l(m,n){switch(m){case c("TicketTierSaleStatus").SOLD_OUT:return c("React").createElement("div",{className:"_wx6"},c("React").createElement("span",{className:"_wx4"},i._("Sold Out")));case c("TicketTierSaleStatus").ON_SALE:return c("React").createElement("div",{className:"_wx6"},n);case c("TicketTierSaleStatus").POST_SALE:return c("React").createElement("div",{className:"_wx6"},c("React").createElement("span",{className:"_wx4"},i._("Not Available")));default:return null}},getTicketTierQuantity:function l(m,n){return m[n]?m[n]:0},getEventDetailsText:function l(m,n,o){var p=m;if(n&&n!==o)p+=" \xb7 "+n;if(o)p+=" \xb7 "+o;return p},renderRegistrationErrors:function l(m){var n=[],o=0;m.map(function(p){n.push(c("React").createElement("p",{key:o++,className:"_4r1e"},c("React").createElement("b",null,p.heading)));p.errors.map(function(q){n.push(c("React").createElement("li",{key:o++},c("React").createElement("span",{className:"_4r1f"},q.field,": ",q.err_msg)))})});return c("React").createElement("div",null,n)},renderConfirmationText:function l(m,event,n){return c("React").createElement("div",null,m,event.hasSeatingMap?c("React").createElement("div",{className:"_3-8-"},n.sectionalSeatingNote):null)},renderMerchantText:function l(m){return i._("Sold by {merchantName}",[i.param("merchantName",m)])},renderCheckoutDescription:function l(m,event,n){return c("React").createElement("div",null,m,event.hasSeatingMap?c("React").createElement("div",{className:"_3-8x"},n.sectionalSeatingNote):null)},renderOrderIDRow:function l(m){var n=i._("Order Number");return this.renderInfoRow(n,m)},renderPurchaserNameRow:function l(m){var n=arguments.length<=1||arguments[1]===undefined?true:arguments[1];if(!m)return null;var o="";if(n)o=i._("Ordered by");else o=i._("Received from");return this.renderInfoRow(o,m)},renderPurchaserEmailRow:function l(m){if(!m)return null;var n=i._("Order receipt sent to");return this.renderInfoRow(n,m)},renderInfoRow:function l(m,n){return c("React").createElement("div",{className:"_50jd"},c("React").createElement("div",{className:"_50jt"},m),c("React").createElement("div",{className:"_50ju"},n))},_updateAdditionalFees:function l(m,n,o,p){n.forEach(function(q){if(q.feeType===c("EventTicketFeeType").FIXED&&!p)return;var r=q.feeType===c("EventTicketFeeType").UNIT?o:1,s=m.get(q.feeCategory);if(s)s.amount+=r*q.amount;else m.set(q.feeCategory,{amount:q.amount*r,currency:q.currency,label:q.label,ordering:q.ordering})})},calculateAdditionalFees:function l(event,m,n){__p&&__p();var o=new(c("Map"))(),p=true;m.forEach(function(r){var s=k.getTicketTierQuantity(n,r.id);if(s>0){this._updateAdditionalFees(o,event.feeSettings,s,p);this._updateAdditionalFees(o,r.feeSettings,s,true);p=false}}.bind(this));var q=[];o.forEach(function(r,s){q.push(r)});q.sort(function(r,s){if(r.ordering<s.ordering)return-1;if(r.ordering>s.ordering)return 1;return 0});return q},getPurchasedTicketsCount:function l(m){__p&&__p();if(m===null||m===undefined)return 0;if(m.length===0)return 0;var n=0;for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n+=s.quantity}return n},getAssignedTicketsCount:function l(m){__p&&__p();if(m===null||m===undefined)return 0;if(m.length===0)return 0;var n=0;for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n+=s.quantity}return n},getSelfServePricingText:function l(m,n,o,p){if(m==="FREE")return i._("Free");else if(m==="PAID"&&n&&o&&p){if(o===p||p==="0")return i._("Tickets \u00b7 {price}",[i.param("price",c("PECurrency").formatAmount(n,Number(o),true))]);return i._("Tickets \u00b7 {min price} - {max price}",[i.param("min price",c("PECurrency").formatAmount(n,Number(o),true,false,o==="0")),i.param("max price",c("PECurrency").formatAmount(n,Number(p),false))])}return null}};f.exports=k}),null);
__d("EventTicketingSelfServeMessageRowContainer.react",["ix","cx","fbt","React","idx","RelayModern","RelayFBEnvironment","Layout.react","fbglyph","EventSelfServeMessageButton.react","EventTicketingUtil","EventsActionsLogger","Image.react","EventTicketingGatingConfig","EventTicketingSelfServeMessageRowContainerQuery.graphql"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("RelayModern").QueryRenderer,n=c("RelayModern").graphql,o=c("Layout.react").Column,p=c("Layout.react").FillColumn,q=function q(){return c("EventTicketingSelfServeMessageRowContainerQuery.graphql")};k=babelHelpers.inherits(r,c("React").Component);l=k&&k.prototype;r.prototype.$EventTicketingSelfServeMessageRowContainer1=function(s){__p&&__p();var t,u,v,w=s.error,x=s.props,event=(t=x)!=null?t.event:t;if(w||!event)return null;var y=event.ticket_settings,z=event.event_creator;y=y.nodes;var A=(u=y)!=null?(u=u[0])!=null?u.ticket_setting_type:u:u,B=(v=y)!=null?(v=v[0])!=null?v.messaging_type:v:v;if(!z||!z.can_viewer_message||B!=="MESSAGE_HOST_CTA"||!c("EventTicketingGatingConfig").GK_SELF_SERVE_MESSAGE_HOST_ROW)return null;var C=z.messenger_platform_responsiveness_text,D=c("React").createElement(c("Layout.react"),{className:"_20z9"},c("React").createElement(o,{className:"_2zty"},c("React").createElement(c("Image.react"),{src:h("123858")})),c("React").createElement(p,null,c("React").createElement("div",{className:"_20zb"},c("React").createElement("div",{className:(C!==null?"_20zc":"")+(C===null?" _20zf":"")},c("EventTicketingUtil").getEventHostedBySentence(z.name)),c("React").createElement("div",{className:"_20zd"},c("React").createElement("span",null,C)))),c("React").createElement(o,null,c("React").createElement("div",{className:"_20ze"},c("React").createElement(c("EventSelfServeMessageButton.react"),babelHelpers["extends"]({},this.props,{pageID:z.id,target:c("EventsActionsLogger").Target.SELF_SERVE_MESSAGE_LINK})))));return c("React").createElement("div",{className:"_2pij _2pis"},D)};r.prototype.render=function(){return c("React").createElement(m,{environment:c("RelayFBEnvironment"),query:q,variables:{eventID:this.props.eventID},render:function(s){return this.$EventTicketingSelfServeMessageRowContainer1(s)}.bind(this)})};function r(){k.apply(this,arguments)}f.exports=r}),null);